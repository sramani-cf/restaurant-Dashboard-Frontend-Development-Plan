module.exports=[98695,a=>{"use strict";a.s(["default",()=>$],98695);var b=a.i(87924),c=a.i(80826),d=a.i(50944),e=a.i(98621),f=a.i(74614);function g(...a){return(0,f.twMerge)((0,e.clsx)(a))}let h={getElapsedTime:a=>Math.floor((Date.now()-a.getTime())/1e3),formatElapsedTime:(a,b=!1)=>{let c=Math.floor(a/3600),d=Math.floor(a%3600/60),e=a%60;return b||c>0?`${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`:`${d.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},formatTime:(a,b=!1)=>a.toLocaleTimeString("en-US",{hour12:!b,hour:"2-digit",minute:"2-digit",...b?{}:{second:"2-digit"}})},i={calculateUrgency:(a,b=600,c=900)=>a>=c?"urgent":a>=b?"warning":"normal",getUrgencyColor:a=>{switch(a){case"urgent":return"text-red-500 border-red-500 bg-red-500/20";case"warning":return"text-yellow-500 border-yellow-500 bg-yellow-500/20";default:return"text-white border-gray-600 bg-gray-900/50"}},getPriorityColor:a=>{switch(a){case"fire":return"text-red-600 bg-red-600/30 border-red-600";case"rush":return"text-orange-500 bg-orange-500/30 border-orange-500";case"urgent":return"text-yellow-500 bg-yellow-500/30 border-yellow-500";default:return"text-white bg-gray-800/30 border-gray-600"}},getStatusColor:a=>{switch(a){case"ready":return"text-green-500 bg-green-500/20 border-green-500";case"preparing":return"text-blue-500 bg-blue-500/20 border-blue-500";case"completed":return"text-gray-400 bg-gray-400/20 border-gray-400";case"cancelled":return"text-red-400 bg-red-400/20 border-red-400";default:return"text-white bg-gray-800/20 border-gray-600"}}},j={createTicketsFromOrder:a=>{let b=new Map;return a.items.forEach(a=>{b.has(a.station)||b.set(a.station,[]),b.get(a.station).push(a)}),Array.from(b.entries()).map(([b,c],d)=>({id:`${a.id}-${b}`,orderId:a.id,order:a,station:b,status:a.status,urgency:"normal",elapsedTime:h.getElapsedTime(a.createdAt),cookTime:Math.max(...c.map(a=>a.cookTime)),startTime:a.createdAt,position:d,items:c,isFired:"fire"===a.priority||"rush"===a.priority}))},calculateTotalCookTime:a=>{let b=new Map;return a.forEach(a=>{let c=b.get(a.station)||0;b.set(a.station,Math.max(c,a.cookTime))}),Math.max(...Array.from(b.values()))},getAllergens:a=>{let b=new Set;return a.forEach(a=>{a.allergens?.forEach(a=>b.add(a)),a.modifiers.forEach(a=>{})}),Array.from(b)},hasHighPriorityAllergens:a=>{let b=["nuts","shellfish","eggs","dairy","gluten"];return j.getAllergens(a).some(a=>b.includes(a.toLowerCase()))},sortTickets:(a,b="time")=>[...a].sort((a,c)=>{if(a.isFired&&!c.isFired)return -1;if(!a.isFired&&c.isFired)return 1;switch(b){case"priority":let d={fire:0,rush:1,urgent:2,normal:3},e=d[a.order.priority],f=d[c.order.priority];if(e!==f)return e-f;break;case"table":if(a.order.tableNumber&&c.order.tableNumber){let b="string"==typeof a.order.tableNumber?parseInt(a.order.tableNumber):a.order.tableNumber,d="string"==typeof c.order.tableNumber?parseInt(c.order.tableNumber):c.order.tableNumber;if(b!==d)return b-d}break;case"server":if(a.order.serverName&&c.order.serverName){let b=a.order.serverName.localeCompare(c.order.serverName);if(0!==b)return b}}return a.startTime.getTime()-c.startTime.getTime()})},k={getCompletionPercentage:a=>0===a.totalQuantity?0:Math.round(a.completedQuantity/a.totalQuantity*100)},l={playSound:(a,b=.5)=>{}},m={shortcuts:{KeyF:"fire-order",KeyB:"bump-ticket",KeyR:"recall-ticket",KeyS:"switch-station",KeyA:"all-day-view",KeyH:"help",Escape:"exit-modal",Space:"toggle-play-pause",ArrowLeft:"previous-ticket",ArrowRight:"next-ticket",ArrowUp:"previous-station",ArrowDown:"next-station"},handleKeyPress:(a,b)=>{let c=a.code||a.key,d=m.shortcuts[c];return!!d&&!!b[d]&&(a.preventDefault(),b[d](),!0)}},n={formatModifiers:a=>a.map(a=>a.value?`${a.name}: ${a.value}`:a.name).join(", ")},o={debounce:(a,b)=>{let c;return(...d)=>{clearTimeout(c),c=setTimeout(()=>a(...d),b)}}};var p=a.i(5050),q=(0,p.createServerReference)("40ec2fff4e95cd113e92ae237679821c84f117fa79",p.callServer,void 0,p.findSourceMapURL,"bumpTicket"),r=(0,p.createServerReference)("40d4ac634a2b4e85aa0700987c312269e94009d30f",p.callServer,void 0,p.findSourceMapURL,"recallTicket"),s=(0,p.createServerReference)("409f6b3900b971c76f4bf00ae1e3591795aab142ab",p.callServer,void 0,p.findSourceMapURL,"fireTicket"),t=(0,p.createServerReference)("60377f8c5f870cb7effb0ad818dbe92c66db40386b",p.callServer,void 0,p.findSourceMapURL,"changeTicketPriority");function u({ticket:a,config:d,onBump:e,onRecall:f,onFire:j,onPriorityChange:k,className:l}){let[m,o]=(0,c.useState)(a.elapsedTime),[p,u]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=setInterval(()=>{o(h.getElapsedTime(a.startTime))},1e3);return()=>clearInterval(b)},[a.startTime]);let z=i.calculateUrgency(m);i.getUrgencyColor(z);let A=i.getPriorityColor(a.order.priority);i.getStatusColor(a.status);let B=(0,c.useCallback)(async()=>{u(!0),y("bump");try{await q(a.id),e(a.id)}catch(a){console.error("Failed to bump ticket:",a)}finally{u(!1),y(null)}},[a.id,e]),C=(0,c.useCallback)(async()=>{u(!0),y("recall");try{await r(a.id),f(a.id)}catch(a){console.error("Failed to recall ticket:",a)}finally{u(!1),y(null)}},[a.id,f]),D=(0,c.useCallback)(async()=>{u(!0),y("fire");try{await s(a.id),j(a.id)}catch(a){console.error("Failed to fire ticket:",a)}finally{u(!1),y(null)}},[a.id,j]),E=(0,c.useCallback)(async b=>{u(!0),y("priority");try{await t(a.id,b),k(a.id,b)}catch(a){console.error("Failed to change priority:",a)}finally{u(!1),y(null)}},[a.id,k]),F=h.formatElapsedTime(m,m>=3600);return(0,b.jsxs)("div",{className:g("kds-ticket relative","bg-gray-900 border-2 rounded-lg p-4","transition-all duration-300","urgent"===z&&"kds-urgent","warning"===z&&"kds-warning","normal"===z&&"kds-ticket-normal",a.isFired&&"ring-2 ring-red-500",a.isRecalled&&"ring-2 ring-yellow-500","completed"===a.status&&"opacity-75",p&&"pointer-events-none",l),"data-ticket-id":a.id,"data-urgency":z,tabIndex:0,role:"button","aria-label":`Order ${a.order.displayNumber} for ${d.showTable&&a.order.tableNumber?`table ${a.order.tableNumber}`:a.order.customer.name||"customer"}`,children:[p&&(0,b.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,b.jsx)(w,{}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:["bump"===x&&"Completing...","recall"===x&&"Recalling...","fire"===x&&"Firing...","priority"===x&&"Updating..."]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white kds-text-high-contrast",children:a.order.displayNumber}),"normal"!==a.order.priority&&(0,b.jsx)("div",{className:g("px-2 py-1 text-xs font-bold rounded uppercase tracking-wide",A),children:a.order.priority}),a.isFired&&(0,b.jsx)("div",{className:"text-red-500 animate-pulse",title:"FIRED ORDER",children:"üî•"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:g("text-lg font-mono font-bold","urgent"===z?"text-red-400":"warning"===z?"text-yellow-400":"text-white"),children:F}),d.showTimer&&(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:["Target: ",a.cookTime,"min"]})]})]}),(0,b.jsxs)("div",{className:"mb-3 space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[d.showCustomer&&a.order.customer.name&&(0,b.jsxs)("div",{className:"text-gray-300 truncate",children:["Customer: ",(0,b.jsx)("span",{className:"text-white",children:a.order.customer.name})]}),d.showTable&&a.order.tableNumber&&(0,b.jsxs)("div",{className:"text-gray-300 flex-shrink-0",children:["Table: ",(0,b.jsx)("span",{className:"text-white font-semibold",children:a.order.tableNumber})]})]}),d.showServer&&a.order.serverName&&(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:["Server: ",(0,b.jsx)("span",{className:"text-white",children:a.order.serverName})]}),d.showSource&&(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:["Source: ",(0,b.jsx)("span",{className:"text-white capitalize",children:a.order.source})]})]}),(0,b.jsx)("div",{className:"space-y-2 mb-4",children:a.items.map((a,c)=>(0,b.jsx)("div",{className:"border-t border-gray-700 pt-2 first:border-t-0 first:pt-0",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-semibold text-white kds-text-kitchen",children:[a.quantity,"x ",a.name]}),a.isRush&&(0,b.jsx)("span",{className:"text-xs bg-red-600 text-white px-1 py-0.5 rounded font-bold",children:"RUSH"})]}),a.modifiers.length>0&&(0,b.jsx)("div",{className:"text-sm text-yellow-200 mt-1 pl-4",children:n.formatModifiers(a.modifiers)}),a.specialInstructions&&(0,b.jsxs)("div",{className:"text-sm text-cyan-200 mt-1 pl-4 font-medium",children:["Note: ",a.specialInstructions]}),d.showAllergies&&a.allergens&&a.allergens.length>0&&(0,b.jsxs)("div",{className:"text-sm text-red-300 mt-1 pl-4 font-bold",children:["‚ö†Ô∏è Allergens: ",a.allergens.join(", ")]})]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 ml-2 flex-shrink-0",children:[a.cookTime,"min"]})]})},`${a.id}-${c}`))}),a.order.specialInstructions&&(0,b.jsxs)("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-500 rounded p-2 mb-4",children:[(0,b.jsx)("div",{className:"text-xs text-blue-300 font-semibold mb-1",children:"SPECIAL INSTRUCTIONS:"}),(0,b.jsx)("div",{className:"text-sm text-white",children:a.order.specialInstructions})]}),d.showAllergies&&a.order.allergenWarnings.length>0&&(0,b.jsxs)("div",{className:"bg-red-900 bg-opacity-30 border border-red-500 rounded p-2 mb-4",children:[(0,b.jsx)("div",{className:"text-xs text-red-300 font-bold mb-1",children:"‚ö†Ô∏è ALLERGEN WARNINGS:"}),(0,b.jsx)("div",{className:"text-sm text-red-200 font-semibold",children:a.order.allergenWarnings.join(", ").toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:["completed"!==a.status&&(0,b.jsx)("button",{onClick:B,disabled:p,className:g("kds-button flex-1 bg-green-600 hover:bg-green-500","text-white font-bold py-3 px-4 rounded","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-green-400","active:transform active:scale-95"),"aria-label":"Complete this order",children:"‚úì BUMP"}),"completed"===a.status&&(0,b.jsx)("button",{onClick:C,disabled:p,className:g("kds-button flex-1 bg-yellow-600 hover:bg-yellow-500","text-white font-bold py-3 px-4 rounded","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-yellow-400","active:transform active:scale-95"),"aria-label":"Recall this completed order",children:"‚Ü∫ RECALL"}),!a.isFired&&"completed"!==a.status&&(0,b.jsx)("button",{onClick:D,disabled:p,className:g("kds-button bg-red-600 hover:bg-red-500","text-white font-bold py-3 px-3 rounded","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-red-400","active:transform active:scale-95"),"aria-label":"Mark as urgent (fire)",title:"Fire Order (Mark as Urgent)",children:"üî•"}),(0,b.jsx)(v,{currentPriority:a.order.priority,onPriorityChange:E,disabled:p})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-gray-700 text-xs text-gray-400",children:[(0,b.jsxs)("div",{children:["Started: ",h.formatTime(a.startTime)]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.completedTime&&(0,b.jsxs)("div",{children:["Completed: ",h.formatTime(a.completedTime)]}),(0,b.jsx)("div",{className:g("w-2 h-2 rounded-full","completed"===a.status?"bg-green-500":"preparing"===a.status?"bg-blue-500":"bg-gray-500")})]})]})]})}function v({currentPriority:a,onPriorityChange:d,disabled:e}){let[f,h]=(0,c.useState)(!1),i=[{value:"normal",label:"Normal",color:"bg-gray-600"},{value:"urgent",label:"Urgent",color:"bg-yellow-600"},{value:"rush",label:"Rush",color:"bg-orange-600"},{value:"fire",label:"Fire",color:"bg-red-600"}],j=i.find(b=>b.value===a);return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>h(!f),disabled:e,className:g("kds-button px-3 py-3 rounded text-white font-medium text-sm",j?.color||"bg-gray-600","hover:opacity-80 disabled:opacity-50","focus:outline-none focus:ring-2 focus:ring-blue-400"),"aria-label":`Change priority from ${a}`,title:"Change Priority",children:"‚ö°"}),f&&(0,b.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 border border-gray-600 rounded shadow-lg z-20",children:i.map(c=>(0,b.jsxs)("button",{onClick:()=>{d(c.value),h(!1)},className:g("w-full px-4 py-2 text-left text-sm text-white hover:bg-gray-700","flex items-center gap-2",c.value===a&&"bg-gray-700"),children:[(0,b.jsx)("div",{className:g("w-2 h-2 rounded-full",c.color)}),c.label,c.value===a&&" ‚úì"]},c.value))})]})}function w(){return(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-white rounded-full animate-spin"})}function x({station:a,tickets:d,config:e,onBump:f,onRecall:h,onFire:i,onPriorityChange:k,className:l,showHeader:m=!0,autoScroll:n=!0}){let[o,p]=(0,c.useState)(e.sortBy),[q,r]=(0,c.useState)(null),s=(0,c.useRef)(null),t=(0,c.useRef)(d.length),v=d.filter(a=>e.stations.includes(a.station)).filter(a=>e.showCompleted||"completed"!==a.status),w=j.sortTickets(v,o);(0,c.useEffect)(()=>{if(n&&e.autoScroll&&w.length>t.current){let a=s.current;a&&a.scrollTo({top:0,behavior:"smooth"})}t.current=w.length},[w.length,n,e.autoScroll]);let x=(0,c.useCallback)(a=>{if(!q)return;let b=w.findIndex(a=>a.id===q),c=b;switch(a.key){case"ArrowUp":a.preventDefault(),c=Math.max(0,b-1);break;case"ArrowDown":a.preventDefault(),c=Math.min(w.length-1,b+1);break;case"ArrowLeft":a.preventDefault(),c=Math.max(0,b-e.maxTicketsPerColumn);break;case"ArrowRight":a.preventDefault(),c=Math.min(w.length-1,b+e.maxTicketsPerColumn);break;case"Enter":case" ":a.preventDefault(),f(q);break;case"f":case"F":a.preventDefault(),i(q);break;case"r":case"R":a.preventDefault(),h(q);break;case"Escape":a.preventDefault(),r(null)}c!==b&&w[c]&&r(w[c].id)},[q,w,e.maxTicketsPerColumn,f,i,h]);(0,c.useEffect)(()=>(document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)),[x]);let B={total:w.length,pending:w.filter(a=>"pending"===a.status).length,preparing:w.filter(a=>"preparing"===a.status).length,ready:w.filter(a=>"ready"===a.status).length,completed:w.filter(a=>"completed"===a.status).length,urgent:w.filter(a=>"urgent"===a.urgency).length,overCapacity:w.length>a.maxCapacity},C=[],D=Math.ceil(w.length/e.columns);for(let a=0;a<e.columns;a++){let b=a*D,c=Math.min(b+D,w.length),d=w.slice(b,c);(d.length>0||0===a)&&C.push(d)}return(0,b.jsxs)("div",{className:g("kds-station-view h-full flex flex-col",B.overCapacity&&"ring-2 ring-red-500",l),"data-station":a.id,"data-ticket-count":w.length,children:[m&&(0,b.jsx)(y,{station:a,metrics:B,config:e,sortBy:o,onSortChange:p}),(0,b.jsx)("div",{ref:s,className:g("flex-1 kds-ticket-grid overflow-y-auto",e.autoScroll&&"kds-auto-scroll",`kds-ticket-grid-${e.columns}`),style:{gridTemplateColumns:`repeat(${e.columns}, 1fr)`},children:C.map((c,d)=>(0,b.jsxs)("div",{className:"space-y-4","data-column":d,children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-400 font-medium",children:["Column ",d+1]}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[c.length," tickets"]})]}),c.map(a=>(0,b.jsx)(u,{ticket:a,config:e,onBump:f,onRecall:h,onFire:i,onPriorityChange:k,className:g(q===a.id&&"ring-2 ring-blue-500","cursor-pointer"),onClick:()=>r(a.id)},a.id)),0===c.length&&0===d&&(0,b.jsx)(A,{station:a}),c.length<e.maxTicketsPerColumn&&(0,b.jsx)("div",{className:"flex-1"})]},d))}),(0,b.jsx)(z,{station:a,metrics:B,config:e,ticketCount:w.length})]})}function y({station:a,metrics:c,config:d,sortBy:e,onSortChange:f}){let h=Math.round(c.total/a.maxCapacity*100);return(0,b.jsxs)("div",{className:"kds-no-print bg-gray-900 border-b border-gray-700 p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:a.color}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white kds-text-high-contrast",children:a.displayName}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:[c.total,"/",a.maxCapacity," orders",h>100&&(0,b.jsx)("span",{className:"ml-2 text-red-400 font-bold",children:"OVER CAPACITY"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[c.urgent>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-red-400 font-bold",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,b.jsxs)("span",{children:[c.urgent," urgent"]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,b.jsx)("span",{className:"text-blue-400",children:c.preparing})," preparing ‚Ä¢"," ",(0,b.jsx)("span",{className:"text-green-400",children:c.ready})," ready"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Sort by:"}),(0,b.jsxs)("select",{value:e,onChange:a=>f(a.target.value),className:"bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white",children:[(0,b.jsx)("option",{value:"time",children:"Time"}),(0,b.jsx)("option",{value:"priority",children:"Priority"}),(0,b.jsx)("option",{value:"table",children:"Table"}),(0,b.jsx)("option",{value:"server",children:"Server"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:g("h-full rounded-full transition-all duration-500",h>100?"bg-red-500":h>80?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,h)}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 min-w-[3rem]",children:[h,"%"]})]})]})]})}function z({station:a,metrics:c,config:d,ticketCount:e}){return(0,b.jsxs)("div",{className:"kds-no-print bg-gray-900 border-t border-gray-700 p-2 flex items-center justify-between text-sm text-gray-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{children:["Average time: ",a.averageCookTime,"min"]}),(0,b.jsxs)("div",{children:["Capacity: ",e,"/",a.maxCapacity]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{children:["Last updated: ",new Date().toLocaleTimeString()]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:g("w-2 h-2 rounded-full",c.total>0?"bg-green-500":"bg-gray-500")}),(0,b.jsxs)("span",{children:["Station ",a.isActive?"Active":"Inactive"]})]})]})]})}function A({station:a}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",role:"img","aria-label":"Empty state",children:a.icon}),(0,b.jsxs)("div",{className:"text-xl font-bold text-gray-300 mb-2",children:["No orders for ",a.displayName]}),(0,b.jsx)("div",{className:"text-gray-500 max-w-md",children:"New orders will appear here automatically. The station is ready and waiting for incoming tickets."}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-gray-400",children:["Capacity: 0/",a.maxCapacity," ‚Ä¢ Average time: ",a.averageCookTime," minutes"]})]})}function B({stations:a,tickets:c,config:d,onBump:e,onRecall:f,onFire:h,onPriorityChange:i,className:j}){return(0,b.jsx)("div",{className:g("kds-multi-station-view grid gap-4",j),children:a.map(g=>{let j=c.filter(a=>a.station===g.id);return(0,b.jsx)(x,{station:g,tickets:j,config:{...d,stations:[g.id],columns:Math.max(1,Math.floor(d.columns/a.length))},onBump:e,onRecall:f,onFire:h,onPriorityChange:i,showHeader:a.length>1},g.id)})})}let C={grill:{id:"grill",name:"grill",displayName:"Grill",color:"#dc2626",icon:"üî•",position:1,isActive:!0,maxCapacity:12,averageCookTime:8,specialInstructions:["Check internal temperature","Let meat rest before plating","Clean grill between orders"]},fryer:{id:"fryer",name:"fryer",displayName:"Fryer",color:"#d97706",icon:"üçü",position:2,isActive:!0,maxCapacity:10,averageCookTime:5,specialInstructions:["Preheat oil to correct temperature","Do not overcrowd basket","Drain properly before plating"]},salad:{id:"salad",name:"salad",displayName:"Salad",color:"#059669",icon:"ü•ó",position:3,isActive:!0,maxCapacity:15,averageCookTime:3,specialInstructions:["Check produce freshness","Use separate cutting boards","Keep ingredients cold"]},expo:{id:"expo",name:"expo",displayName:"Expo",color:"#7c3aed",icon:"üçΩÔ∏è",position:4,isActive:!0,maxCapacity:20,averageCookTime:2,specialInstructions:["Check order completeness","Verify special requests","Ensure proper presentation"]},pantry:{id:"pantry",name:"pantry",displayName:"Pantry",color:"#0369a1",icon:"ü•™",position:5,isActive:!0,maxCapacity:8,averageCookTime:4,specialInstructions:["Check sandwich construction","Toast bread evenly","Use proper portion sizes"]},dessert:{id:"dessert",name:"dessert",displayName:"Dessert",color:"#be185d",icon:"üç∞",position:6,isActive:!0,maxCapacity:6,averageCookTime:6,specialInstructions:["Check dessert temperature","Garnish according to recipe","Handle with care"]},beverage:{id:"beverage",name:"beverage",displayName:"Beverage",color:"#0891b2",icon:"ü•§",position:7,isActive:!0,maxCapacity:25,averageCookTime:1,specialInstructions:["Use correct glass size","Check ice levels","Garnish appropriately"]}},D={burger:"grill",cheeseburger:"grill",steak:"grill","chicken breast":"grill","grilled chicken":"grill",fish:"grill",salmon:"grill","hot dog":"grill",sausage:"grill","grilled vegetables":"grill","french fries":"fryer",fries:"fryer","onion rings":"fryer","fried chicken":"fryer","chicken wings":"fryer","fish and chips":"fryer","mozzarella sticks":"fryer",nachos:"fryer",tempura:"fryer","caesar salad":"salad","house salad":"salad","greek salad":"salad","cobb salad":"salad","garden salad":"salad","mixed greens":"salad","fruit salad":"salad",sandwich:"pantry","club sandwich":"pantry",wrap:"pantry",panini:"pantry",sub:"pantry",bagel:"pantry",toast:"pantry","cold appetizer":"pantry",cake:"dessert",pie:"dessert","ice cream":"dessert",cheesecake:"dessert",brownie:"dessert",cookies:"dessert",pudding:"dessert",soda:"beverage",coffee:"beverage",tea:"beverage",juice:"beverage",smoothie:"beverage",milkshake:"beverage",cocktail:"beverage",beer:"beverage",wine:"beverage",water:"beverage"},E={appetizers:"fryer",salads:"salad",soups:"pantry",entrees:"grill",mains:"grill",burgers:"grill",sandwiches:"pantry",sides:"fryer",desserts:"dessert",beverages:"beverage",drinks:"beverage","hot drinks":"beverage","cold drinks":"beverage"},F=[{id:"all-stations",name:"All Stations",stations:["grill","fryer","salad","expo","pantry","dessert","beverage"],columns:4,showTimer:!0,showCustomer:!0,showServer:!0,showTable:!0,showSource:!0,showAllergies:!0,sortBy:"time",maxTicketsPerColumn:10,autoScroll:!0,soundAlerts:!0,colorCoding:!0},{id:"hot-stations",name:"Hot Stations",stations:["grill","fryer"],columns:2,showTimer:!0,showCustomer:!1,showServer:!1,showTable:!0,showSource:!1,showAllergies:!0,sortBy:"priority",maxTicketsPerColumn:12,autoScroll:!0,soundAlerts:!0,colorCoding:!0},{id:"cold-stations",name:"Cold Stations",stations:["salad","pantry","dessert"],columns:3,showTimer:!0,showCustomer:!1,showServer:!1,showTable:!0,showSource:!1,showAllergies:!0,sortBy:"time",maxTicketsPerColumn:8,autoScroll:!0,soundAlerts:!1,colorCoding:!0},{id:"expo-view",name:"Expo",stations:["expo"],columns:1,showTimer:!0,showCustomer:!0,showServer:!0,showTable:!0,showSource:!0,showAllergies:!0,sortBy:"table",maxTicketsPerColumn:20,autoScroll:!0,soundAlerts:!0,colorCoding:!0},{id:"grill-only",name:"Grill Station",stations:["grill"],columns:1,showTimer:!0,showCustomer:!1,showServer:!1,showTable:!0,showSource:!1,showAllergies:!0,sortBy:"priority",maxTicketsPerColumn:15,autoScroll:!0,soundAlerts:!0,colorCoding:!0}],G={routeItemToStation:a=>{let b=a.name.toLowerCase().trim();if(D[b])return D[b];for(let[a,c]of Object.entries(D))if(b.includes(a))return c;let c=a.category.toLowerCase().trim();if(E[c])return E[c];for(let[a,b]of Object.entries(E))if(c.includes(a))return b;return"expo"},getActiveStations:(a=C)=>Object.values(a).filter(a=>a.isActive).sort((a,b)=>a.position-b.position),getStation:(a,b=C)=>b[a]||C.expo,canAcceptOrder:(a,b,c=C)=>{let d=c[a];return!!d&&!!d.isActive&&b<d.maxCapacity},getOverCapacityStations:(a,b=C)=>Object.entries(a).filter(([a,c])=>{let d=b[a];return d&&c>d.maxCapacity}).map(([a])=>a),getStationLoad:(a,b,c=C)=>{let d=c[a];return d?Math.min(100,Math.round(b/d.maxCapacity*100)):0},getRecommendedView:(a,b=C)=>{let c=G.getOverCapacityStations(a,b);return 0===c.length?"all-stations":c.every(a=>["grill","fryer"].includes(a))?"hot-stations":c.every(a=>["salad","pantry","dessert"].includes(a))?"cold-stations":"all-stations"},validateStation:a=>{let b=[];return a.id||b.push("Station ID is required"),a.name||b.push("Station name is required"),a.displayName||b.push("Display name is required"),a.color||b.push("Color is required"),"number"!=typeof a.position&&b.push("Position must be a number"),("number"!=typeof a.maxCapacity||a.maxCapacity<1)&&b.push("Max capacity must be a positive number"),("number"!=typeof a.averageCookTime||a.averageCookTime<0)&&b.push("Average cook time must be a non-negative number"),b},createCustomStation:(a,b)=>({...C[a]||C.expo,...b,id:a}),filterStations:(a,b)=>Object.values(a).filter(a=>(void 0===b.active||a.isActive===b.active)&&(void 0===b.maxCapacity||!(a.maxCapacity<b.maxCapacity))&&(void 0===b.averageCookTime||!(a.averageCookTime>b.averageCookTime)))};function H({station:a,isActive:c,ticketCount:d,onClick:e,compact:f=!1}){let h=d>a.maxCapacity,i=Math.round(d/a.maxCapacity*100);return(0,b.jsxs)("button",{onClick:e,className:g("kds-button relative flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all","focus:outline-none focus:ring-2 focus:ring-blue-500",c?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700",h&&"ring-2 ring-red-500",f?"px-3 py-1":"px-4 py-2"),role:"tab","aria-selected":c,"aria-label":`${a.displayName} station - ${d} orders`,style:{borderBottom:c?`3px solid ${a.color}`:"none"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:f?"text-sm":"text-base",children:a.icon}),(0,b.jsx)("span",{className:g("font-medium",f?"text-sm":"text-base"),children:f?a.name.substring(0,4):a.displayName})]}),d>0&&(0,b.jsx)("div",{className:g("absolute -top-2 -right-2 min-w-[1.5rem] h-6 rounded-full flex items-center justify-center text-xs font-bold",h?"bg-red-500 text-white animate-pulse":d>.8*a.maxCapacity?"bg-yellow-500 text-black":"bg-green-500 text-white"),children:d>99?"99+":d}),!f&&(0,b.jsx)("div",{className:"w-full h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:g("h-full transition-all duration-500",i>100?"bg-red-500":i>80?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,i)}%`}})})]})}function I({status:a,compact:c=!1}){let d={connected:{color:"bg-green-500",text:"Connected",icon:"üü¢"},disconnected:{color:"bg-red-500 animate-pulse",text:"Disconnected",icon:"üî¥"},reconnecting:{color:"bg-yellow-500 animate-pulse",text:"Reconnecting...",icon:"üü°"}}[a];return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:g("w-2 h-2 rounded-full",d.color)}),!c&&(0,b.jsx)("span",{className:g("text-xs","connected"===a?"text-green-400":"disconnected"===a?"text-red-400":"text-yellow-400"),children:d.text})]})}function J({label:a,value:c,color:d="text-white"}){return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:g("text-lg font-bold",d),children:c}),(0,b.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:a})]})}function K({icon:a,label:c,onClick:d,compact:e=!1,disabled:f=!1}){return(0,b.jsxs)("button",{onClick:d,disabled:f,className:g("kds-button flex flex-col items-center gap-1 px-3 py-2 rounded-lg","bg-gray-800 text-gray-300 hover:bg-gray-700","focus:outline-none focus:ring-2 focus:ring-blue-500","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-150",e&&"px-2 py-1"),title:c,"aria-label":c,children:[(0,b.jsx)("span",{className:e?"text-sm":"text-base",children:a}),!e&&(0,b.jsx)("span",{className:"text-xs font-medium",children:c})]})}function L({alerts:a,onDismiss:c,className:d}){return 0===a.length?null:(0,b.jsx)("div",{className:g("kds-alert-banner space-y-2",d),children:a.map(a=>(0,b.jsxs)("div",{className:g("flex items-center justify-between px-4 py-2 rounded-lg","error"===a.type&&"bg-red-900 border border-red-500 text-red-100","warning"===a.type&&"bg-yellow-900 border border-yellow-500 text-yellow-100","info"===a.type&&"bg-blue-900 border border-blue-500 text-blue-100"),role:"alert",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-sm",children:["error"===a.type&&"‚ùå","warning"===a.type&&"‚ö†Ô∏è","info"===a.type&&"‚ÑπÔ∏è"]}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.message})]}),a.dismissible&&c&&(0,b.jsx)("button",{onClick:()=>c(a.id),className:"text-xs hover:opacity-75 ml-4","aria-label":"Dismiss alert",children:"‚úï"})]},a.id))})}let M=function({currentStation:a,currentView:d,stationViews:e,metrics:f,stations:i=C,onStationChange:j,onViewChange:k,onSettingsOpen:l,onAllDayToggle:m,onRefresh:n,className:o,showMetrics:p=!0,showClock:q=!0,compactMode:r=!1}){let[s,t]=(0,c.useState)(new Date),[u,v]=(0,c.useState)("connected");(0,c.useEffect)(()=>{let a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]),(0,c.useEffect)(()=>{let a=setInterval(()=>{.05>Math.random()&&"connected"===u&&(v("disconnected"),setTimeout(()=>v("reconnecting"),2e3),setTimeout(()=>v("connected"),5e3))},3e4);return()=>clearInterval(a)},[u]);let w=Object.values(i).filter(a=>a.isActive),x=a?i[a]:null;return(0,b.jsxs)("header",{className:g("kds-header bg-gray-900 border-b-2 border-gray-700","flex items-center justify-between px-6 py-4",r?"h-16":"h-20",o),role:"banner",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"text-2xl",role:"img","aria-label":"Kitchen Display System",children:"üçΩÔ∏è"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-white kds-text-high-contrast",children:"Kitchen Display"}),!r&&(0,b.jsx)("p",{className:"text-sm text-gray-400",children:x?x.displayName:"All Stations"})]})]}),p&&!r&&(0,b.jsxs)("div",{className:"flex items-center gap-4 pl-6 border-l border-gray-700",children:[(0,b.jsx)(J,{label:"Active",value:f.totalActiveTickets,color:"text-blue-400"}),(0,b.jsx)(J,{label:"Avg Time",value:`${Math.round(f.averageTicketTime)}m`,color:"text-green-400"}),(0,b.jsx)(J,{label:"Longest",value:`${Math.round(f.longestWaitTime)}m`,color:f.longestWaitTime>20?"text-red-400":"text-yellow-400"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",role:"tablist","aria-label":"Kitchen stations",children:[w.map(c=>(0,b.jsx)(H,{station:c,isActive:a===c.id,ticketCount:f.stationMetrics.find(a=>a.stationId===c.id)?.pendingOrders||0,onClick:()=>j(c.id),compact:r},c.id)),(0,b.jsx)("button",{onClick:()=>k("all-stations"),className:g("kds-button px-4 py-2 rounded-lg font-medium transition-all","all-stations"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),role:"tab","aria-selected":"all-stations"===d,"aria-label":"All stations view",children:"All"})]}),e.length>1&&(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)("select",{value:d||"",onChange:a=>k(a.target.value),className:"bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm text-white focus:ring-2 focus:ring-blue-500","aria-label":"Select view configuration",children:e.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(I,{status:u,compact:r}),q&&(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-lg font-mono font-bold text-white",children:h.formatTime(s,!1)}),!r&&(0,b.jsx)("div",{className:"text-xs text-gray-400",children:s.toLocaleDateString()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pl-4 border-l border-gray-700",children:[m&&(0,b.jsx)(K,{icon:"üìä",label:"All Day",onClick:m,compact:r}),n&&(0,b.jsx)(K,{icon:"üîÑ",label:"Refresh",onClick:n,compact:r}),(0,b.jsx)(K,{icon:"‚öôÔ∏è",label:"Settings",onClick:l,compact:r})]})]})]})};function N({groupedItems:a,stations:c,showModifiers:d,onItemClick:e}){return(0,b.jsx)("div",{className:"p-4 space-y-6",children:Object.entries(a).map(([a,f])=>{let g=c[a];return(0,b.jsxs)("div",{className:"space-y-3",children:[g&&"all"!==a&&(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-700",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:g.color}}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:g.displayName}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:["(",f.length," items)"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(a=>(0,b.jsx)(P,{item:a,station:c[a.station],showModifiers:d,onClick:()=>e?.(a)},`${a.itemId}-${a.station}`))})]},a)})})}function O({items:a,stations:c,showModifiers:d,onItemClick:e}){return(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-white",children:[(0,b.jsx)("thead",{className:"bg-gray-800 border-b border-gray-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left p-3 font-medium",children:"Item"}),(0,b.jsx)("th",{className:"text-left p-3 font-medium",children:"Station"}),(0,b.jsx)("th",{className:"text-center p-3 font-medium",children:"Total"}),(0,b.jsx)("th",{className:"text-center p-3 font-medium",children:"Completed"}),(0,b.jsx)("th",{className:"text-center p-3 font-medium",children:"Pending"}),(0,b.jsx)("th",{className:"text-center p-3 font-medium",children:"Progress"}),d&&(0,b.jsx)("th",{className:"text-left p-3 font-medium",children:"Modifiers"}),(0,b.jsx)("th",{className:"text-left p-3 font-medium",children:"Allergens"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-700",children:a.map(a=>{let f=c[a.station],h=k.getCompletionPercentage(a);return(0,b.jsxs)("tr",{className:g("hover:bg-gray-800 transition-colors",e&&"cursor-pointer"),onClick:()=>e?.(a),children:[(0,b.jsxs)("td",{className:"p-3",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:["Avg time: ",a.averageCookTime,"min"]})]}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:f?.color||"#6b7280"}}),(0,b.jsx)("span",{children:f?.displayName||a.station})]})}),(0,b.jsx)("td",{className:"p-3 text-center font-bold",children:a.totalQuantity}),(0,b.jsx)("td",{className:"p-3 text-center text-green-400",children:a.completedQuantity}),(0,b.jsx)("td",{className:"p-3 text-center text-blue-400",children:a.pendingQuantity}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:g("h-full rounded-full transition-all duration-300",100===h?"bg-green-500":h>=50?"bg-blue-500":"bg-gray-400"),style:{width:`${h}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 min-w-[3rem] text-right",children:[h,"%"]})]})}),d&&(0,b.jsx)("td",{className:"p-3 text-xs text-gray-400",children:Object.entries(a.modifiers).length>0?(0,b.jsx)("div",{className:"max-w-[200px] truncate",children:Object.entries(a.modifiers).map(([a,b])=>`${a} (${b})`).join(", ")}):(0,b.jsx)("span",{className:"text-gray-500",children:"None"})}),(0,b.jsx)("td",{className:"p-3 text-xs",children:a.allergens.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.allergens.map(a=>(0,b.jsx)("span",{className:"bg-red-900 text-red-200 px-1 py-0.5 rounded text-xs font-medium",children:a},a))}):(0,b.jsx)("span",{className:"text-gray-500",children:"None"})})]},`${a.itemId}-${a.station}`)})})]})})}function P({item:a,station:c,showModifiers:d,onClick:e}){let f=k.getCompletionPercentage(a),h=100===f;return(0,b.jsxs)("div",{className:g("bg-gray-900 border-2 border-gray-700 rounded-lg p-4 space-y-3","transition-all duration-200",e&&"cursor-pointer hover:border-gray-600",h&&"opacity-75 border-green-700"),onClick:e,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-bold text-white text-lg kds-text-kitchen",children:a.name}),(0,b.jsx)("div",{className:"flex items-center gap-2 mt-1",children:c&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:c.color}}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:c.displayName})]})})]}),h&&(0,b.jsx)("div",{className:"text-green-400 text-xl",children:"‚úì"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:a.totalQuantity}),(0,b.jsx)("div",{className:"text-xs text-gray-400 uppercase",children:"Total"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:a.completedQuantity}),(0,b.jsx)("div",{className:"text-xs text-gray-400 uppercase",children:"Done"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:a.pendingQuantity}),(0,b.jsx)("div",{className:"text-xs text-gray-400 uppercase",children:"Pending"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Progress"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[f,"%"]})]}),(0,b.jsx)("div",{className:"bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:g("h-full rounded-full transition-all duration-500",100===f?"bg-green-500":f>=50?"bg-blue-500":"bg-gray-400"),style:{width:`${f}%`}})})]}),d&&Object.keys(a.modifiers).length>0&&(0,b.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,b.jsx)("div",{className:"text-xs text-gray-400 mb-1 uppercase",children:"Modifiers:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(a.modifiers).map(([a,c])=>(0,b.jsxs)("span",{className:"bg-gray-800 text-gray-300 px-2 py-1 rounded text-xs",children:[a," (",c,")"]},a))})]}),a.allergens.length>0&&(0,b.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,b.jsx)("div",{className:"text-xs text-red-300 mb-1 uppercase font-bold",children:"‚ö†Ô∏è Allergens:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.allergens.map(a=>(0,b.jsx)("span",{className:"bg-red-900 text-red-200 px-2 py-1 rounded text-xs font-medium",children:a},a))})]}),(0,b.jsxs)("div",{className:"pt-2 border-t border-gray-700 text-xs text-gray-400 flex justify-between",children:[(0,b.jsxs)("span",{children:["Cook time: ",a.averageCookTime,"min"]}),(0,b.jsx)("span",{children:a.pendingQuantity>0?`${a.pendingQuantity} to go`:"All complete"})]})]})}let Q=function({allDayView:a,stations:d=C,onRefresh:e,onItemClick:f,className:h,groupByStation:i=!0,showCompleted:j=!0,showModifiers:l=!0,sortBy:m="quantity"}){let[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("all"),[r,s]=(0,c.useState)("grid"),t=[...a.items.filter(a=>(!!j||0!==a.pendingQuantity)&&("all"===p||a.station===p)&&(!n||!!a.name.toLowerCase().includes(n.toLowerCase())))].sort((a,b)=>{switch(m){case"name":return a.name.localeCompare(b.name);case"quantity":return b.totalQuantity-a.totalQuantity;case"station":return a.station.localeCompare(b.station);case"completion":return k.getCompletionPercentage(a)-k.getCompletionPercentage(b);default:return 0}}),u=i?t.reduce((a,b)=>(a[b.station]||(a[b.station]=[]),a[b.station].push(b),a),{}):{all:t},v={totalItems:a.items.length,totalQuantity:a.items.reduce((a,b)=>a+b.totalQuantity,0),completedQuantity:a.items.reduce((a,b)=>a+b.completedQuantity,0),pendingQuantity:a.items.reduce((a,b)=>a+b.pendingQuantity,0)},w=v.totalQuantity>0?Math.round(v.completedQuantity/v.totalQuantity*100):0;return(0,b.jsxs)("div",{className:g("kds-all-day-view h-full flex flex-col",h),children:[(0,b.jsxs)("div",{className:"bg-gray-900 border-b border-gray-700 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white kds-text-high-contrast",children:"All Day View"}),(0,b.jsxs)("p",{className:"text-gray-400",children:["Total orders: ",a.totalOrders," ‚Ä¢ Completed: ",a.completedOrders]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-white",children:[w,"% Complete"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:[v.completedQuantity," of ",v.totalQuantity," items"]})]}),(0,b.jsx)("button",{onClick:e,className:"kds-button bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg",children:"üîÑ Refresh"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsx)("input",{type:"text",placeholder:"Search items...",value:n,onChange:a=>o(a.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white placeholder-gray-400"})}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Stations"}),Object.values(d).map(a=>(0,b.jsx)("option",{value:a.id,children:a.displayName},a.id))]}),(0,b.jsxs)("select",{value:m,onChange:a=>setSortBy(a.target.value),className:"bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white",children:[(0,b.jsx)("option",{value:"quantity",children:"By Quantity"}),(0,b.jsx)("option",{value:"name",children:"By Name"}),(0,b.jsx)("option",{value:"station",children:"By Station"}),(0,b.jsx)("option",{value:"completion",children:"By Completion"})]}),(0,b.jsxs)("div",{className:"flex items-center border border-gray-600 rounded overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>s("grid"),className:g("px-3 py-2 text-sm font-medium","grid"===r?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"Grid"}),(0,b.jsx)("button",{onClick:()=>s("table"),className:g("px-3 py-2 text-sm font-medium","table"===r?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"Table"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",checked:j,onChange:a=>setShowCompleted(a.target.checked),className:"rounded"}),"Show Completed"]})]})]}),(0,b.jsx)("div",{className:"bg-gray-800 p-3 border-b border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full rounded-full transition-all duration-500",style:{width:`${w}%`}})}),(0,b.jsxs)("div",{className:"text-sm text-gray-300 min-w-[120px] text-right",children:[v.completedQuantity," / ",v.totalQuantity," items"]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:"grid"===r?(0,b.jsx)(N,{groupedItems:u,stations:d,showModifiers:l,onItemClick:f}):(0,b.jsx)(O,{items:t,stations:d,showModifiers:l,onItemClick:f})}),(0,b.jsxs)("div",{className:"bg-gray-900 border-t border-gray-700 p-3 flex items-center justify-between text-sm text-gray-400",children:[(0,b.jsxs)("div",{children:["Showing ",t.length," of ",a.items.length," items"]}),(0,b.jsxs)("div",{children:["Last updated: ",a.lastUpdated.toLocaleTimeString()]})]})]})};new Date().toISOString();let R=[{id:"order-001",orderNumber:"001",displayNumber:"#001",status:"preparing",priority:"normal",source:"dine-in",customer:{name:"John Doe",phone:"555-0123"},items:[{id:"item-001",name:"Cheeseburger",quantity:1,price:12.99,category:"burgers",station:"grill",cookTime:8,modifiers:[{id:"mod-1",name:"No Pickles",price:0},{id:"mod-2",name:"Extra Cheese",price:1.5}],allergens:["dairy","gluten"]},{id:"item-002",name:"French Fries",quantity:1,price:4.99,category:"sides",station:"fryer",cookTime:5,modifiers:[],allergens:[]}],totalAmount:17.98,tax:1.44,createdAt:new Date(Date.now()-48e4),allergenWarnings:["dairy","gluten"],tableNumber:"12",serverName:"Alice"},{id:"order-002",orderNumber:"002",displayNumber:"#002",status:"preparing",priority:"urgent",source:"takeout",customer:{name:"Jane Smith",phone:"555-0456"},items:[{id:"item-003",name:"Caesar Salad",quantity:1,price:9.99,category:"salads",station:"salad",cookTime:3,modifiers:[{id:"mod-3",name:"Add Chicken",price:4}],allergens:["dairy"],specialInstructions:"Light dressing"}],totalAmount:13.99,tax:1.12,createdAt:new Date(Date.now()-72e4),allergenWarnings:["dairy"],specialInstructions:"Customer is waiting"},{id:"order-003",orderNumber:"003",displayNumber:"#003",status:"preparing",priority:"fire",source:"delivery",customer:{name:"Bob Johnson",phone:"555-0789"},items:[{id:"item-004",name:"Grilled Salmon",quantity:1,price:18.99,category:"entrees",station:"grill",cookTime:10,modifiers:[],allergens:["fish"],isRush:!0},{id:"item-005",name:"Steamed Vegetables",quantity:1,price:5.99,category:"sides",station:"grill",cookTime:6,modifiers:[],allergens:[]}],totalAmount:24.98,tax:2,createdAt:new Date(Date.now()-96e4),allergenWarnings:["fish"],specialInstructions:"VIP customer - priority order"}],S={baseUrl:"http://localhost:3000/api",timeout:1e4,retryAttempts:3,retryDelay:1e3},T={url:process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001/kds",reconnectInterval:5e3,maxReconnectAttempts:10,heartbeatInterval:3e4};class U{orders=new Map;tickets=new Map;metrics=null;lastUpdate=new Date;maxAge=3e5;get(a){return this.orders.get(a)||this.tickets.get(a)}set(a,b,c){switch(c){case"order":this.orders.set(a,b);break;case"ticket":this.tickets.set(a,b);break;case"metrics":this.metrics=b}this.lastUpdate=new Date}getAll(a){return Array.from(("orders"===a?this.orders:this.tickets).values())}clear(){this.orders.clear(),this.tickets.clear(),this.metrics=null,this.lastUpdate=new Date}isStale(){return Date.now()-this.lastUpdate.getTime()>this.maxAge}}let V=new U,W=new class{async fetchWithRetry(a,b={},c=1){try{let c=new AbortController,d=setTimeout(()=>c.abort(),S.timeout),e=await fetch(a,{...b,signal:c.signal});if(clearTimeout(d),!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);return await e.json()}catch(d){if(c<S.retryAttempts)return await new Promise(a=>setTimeout(a,S.retryDelay*c)),this.fetchWithRetry(a,b,c+1);throw d}}async get(a){let b=`${S.baseUrl}${a}`;return this.fetchWithRetry(b)}async post(a,b){let c=`${S.baseUrl}${a}`;return this.fetchWithRetry(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})}async put(a,b){let c=`${S.baseUrl}${a}`;return this.fetchWithRetry(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})}async delete(a){let b=`${S.baseUrl}${a}`;return this.fetchWithRetry(b,{method:"DELETE"})}};class X{ws=null;reconnectAttempts=0;heartbeatInterval=null;listeners=new Map;connect(){}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.stopHeartbeat()}reconnect(){if(this.reconnectAttempts>=T.maxReconnectAttempts)return void console.error("Max WebSocket reconnection attempts reached");this.reconnectAttempts++,setTimeout(()=>{console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${T.maxReconnectAttempts})`),this.connect()},T.reconnectInterval)}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping"}))},T.heartbeatInterval)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}handleMessage(a){(this.listeners.get(a.type)||[]).forEach(b=>b(a.data))}subscribe(a,b){return this.listeners.has(a)||this.listeners.set(a,[]),this.listeners.get(a).push(b),()=>{let c=this.listeners.get(a);if(c){let a=c.indexOf(b);a>-1&&c.splice(a,1)}}}}let Y=new X,Z={init:()=>{Y.connect()},cleanup:()=>{Y.disconnect(),V.clear()},fetchOrders:async a=>{try{let b=R;return a&&(b=b.filter(b=>{if(a.stationId&&!b.items.some(b=>b.station===a.stationId)||a.status&&!a.status.includes(b.status)||a.priority&&!a.priority.includes(b.priority)||a.source&&!a.source.includes(b.source))return!1;if(a.timeRange){let c=b.createdAt.getTime();if(c<a.timeRange.start.getTime()||c>a.timeRange.end.getTime())return!1}return!0})),b.forEach(a=>V.set(a.id,a,"order")),b}catch(a){throw console.error("Error fetching orders:",a),a}},fetchTickets:async a=>{try{let b=await Z.fetchOrders(),c=[];return b.forEach(b=>{let d=j.createTicketsFromOrder(b).filter(b=>a.includes(b.station));c.push(...d)}),c.forEach(a=>{a.elapsedTime=h.getElapsedTime(a.startTime),a.urgency=a.elapsedTime>=900?"urgent":a.elapsedTime>=600?"warning":"normal"}),c.forEach(a=>V.set(a.id,a,"ticket")),j.sortTickets(c)}catch(a){throw console.error("Error fetching tickets:",a),a}},fetchMetrics:async()=>{try{let a={totalActiveTickets:(await Z.fetchOrders()).filter(a=>"completed"!==a.status&&"cancelled"!==a.status).length,averageTicketTime:8.5,longestWaitTime:16,stationMetrics:Object.values(C).map(a=>({stationId:a.id,averageTicketTime:a.averageCookTime,completedOrders:Math.floor(50*Math.random()),pendingOrders:Math.floor(10*Math.random()),overdueOrders:Math.floor(3*Math.random()),efficiency:Math.floor(30*Math.random())+70,lastHourThroughput:Math.floor(20*Math.random())+10})),ordersBySource:{"dine-in":45,takeout:23,delivery:18,online:12,phone:8,pos:5},ordersByPriority:{normal:85,urgent:12,rush:5,fire:2},lastUpdated:new Date};return V.set("metrics",a,"metrics"),a}catch(a){throw console.error("Error fetching metrics:",a),a}},generateAllDayView:async a=>{try{let b=await Z.fetchOrders(),c=b.reduce((b,c)=>(c.items.forEach(d=>{if(a.includes(d.station)){let a=`${d.name}-${d.station}`;b[a]||(b[a]={itemId:d.id,name:d.name,station:d.station,totalQuantity:0,completedQuantity:0,pendingQuantity:0,averageCookTime:d.cookTime,modifiers:{},allergens:d.allergens||[]}),b[a].totalQuantity+=d.quantity,"completed"===c.status?b[a].completedQuantity+=d.quantity:b[a].pendingQuantity+=d.quantity,d.modifiers.forEach(c=>{b[a].modifiers[c.name]=(b[a].modifiers[c.name]||0)+d.quantity})}}),b),{});return{id:"all-day-"+Date.now(),name:"All Day View",stations:a,items:Object.values(c),totalOrders:b.length,completedOrders:b.filter(a=>"completed"===a.status).length,lastUpdated:new Date}}catch(a){throw console.error("Error generating all day view:",a),a}},bumpTicket:async a=>{try{await W.post(`/kds/tickets/${a}/bump`,{});let b=V.get(a);b&&(b.status="completed",b.completedTime=new Date,V.set(a,b,"ticket"))}catch(a){throw console.error("Error bumping ticket:",a),a}},recallTicket:async a=>{try{await W.post(`/kds/tickets/${a}/recall`,{});let b=V.get(a);b&&(b.status="preparing",b.isRecalled=!0,b.completedTime=void 0,V.set(a,b,"ticket"))}catch(a){throw console.error("Error recalling ticket:",a),a}},fireTicket:async a=>{try{await W.post(`/kds/tickets/${a}/fire`,{});let b=V.get(a);b&&(b.isFired=!0,b.order.priority="fire",V.set(a,b,"ticket"))}catch(a){throw console.error("Error firing ticket:",a),a}},changePriority:async(a,b)=>{try{await W.put(`/kds/tickets/${a}/priority`,{priority:b});let c=V.get(a);c&&(c.order.priority=b,V.set(a,c,"ticket"))}catch(a){throw console.error("Error changing ticket priority:",a),a}},subscribe:(a,b)=>Y.subscribe(a,b),getCached:a=>V.get(a),isCacheStale:()=>V.isStale()};function $(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[n,p]=(0,c.useState)(null),[q,r]=(0,c.useState)("all-stations"),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w]=(0,c.useState)(F),[y]=(0,c.useState)(C),[z,A]=(0,c.useState)([]),[D,E]=(0,c.useState)(!1),[H,I]=(0,c.useState)(new Date),J=(0,d.useRouter)(),K=(0,d.useSearchParams)(),{subscribe:N}={subscribe:Z.subscribe,disconnect:Z.cleanup},O=w.find(a=>a.id===q)||w[0],P=G.getActiveStations(y),R=(0,c.useCallback)(async()=>{try{p(null);let a=O.stations,b=await Z.fetchTickets(a);e(b);let c=await Z.fetchMetrics();if(g(c),u){let b=await Z.generateAllDayView(a);i(b)}I(new Date),A(a=>a.filter(a=>"connection-error"!==a.id))}catch(b){let a=b instanceof Error?b.message:"Failed to fetch data";p(a),A(b=>[...b.filter(a=>"connection-error"!==a.id),{id:"connection-error",type:"error",message:`Connection error: ${a}`,dismissible:!0}])}finally{k(!1)}},[O.stations,u]),S=(0,c.useCallback)(o.debounce(R,500),[R]),T=(0,c.useCallback)(async a=>{try{await Z.bumpTicket(a),l.playSound("bump",.3),S()}catch(a){console.error("Failed to bump ticket:",a)}},[S]),U=(0,c.useCallback)(async a=>{try{await Z.recallTicket(a),l.playSound("urgent",.3),S()}catch(a){console.error("Failed to recall ticket:",a)}},[S]),V=(0,c.useCallback)(async a=>{try{await Z.fireTicket(a),l.playSound("urgent",.5),S()}catch(a){console.error("Failed to fire ticket:",a)}},[S]),W=(0,c.useCallback)(async(a,b)=>{try{await Z.changePriority(a,b),S()}catch(a){console.error("Failed to change priority:",a)}},[S]),X=(0,c.useCallback)(a=>{t(a);let b=w.find(b=>1===b.stations.length&&b.stations[0]===a);b?r(b.id):r("all-stations")},[w]),Y=(0,c.useCallback)(a=>{r(a);let b=w.find(b=>b.id===a);b&&1===b.stations.length?t(b.stations[0]):t(null)},[w]),$=(0,c.useCallback)(()=>{v(a=>!a)},[]),ab=(0,c.useCallback)(()=>{E(!0)},[]),ac=(0,c.useCallback)(a=>{A(b=>b.filter(b=>b.id!==a))},[]),ad=(0,c.useCallback)(b=>{m.handleKeyPress(b,{"fire-order":()=>{let b=a.find(a=>"urgent"===a.urgency)||a[0];b&&V(b.id)},"all-day-view":$,help:()=>{let a=document.getElementById("keyboard-hints");a&&(a.style.opacity="1",setTimeout(()=>{a.style.opacity="0"},5e3))},"switch-station":()=>{let a=(P.findIndex(a=>a.id===s)+1)%P.length;X(P[a].id)}})&&b.preventDefault()},[a,s,P,V,$,X]);if((0,c.useEffect)(()=>{let a=K.get("view"),b=K.get("station"),c="true"===K.get("allday");a&&w.find(b=>b.id===a)&&r(a),b&&y[b]&&t(b),c&&v(!0),R()},[]),(0,c.useEffect)(()=>{let a=setInterval(R,5e3);return()=>clearInterval(a)},[R]),(0,c.useEffect)(()=>{let a=N("new_order",a=>{l.playSound("newOrder",.4),A(b=>[...b,{id:`new-order-${Date.now()}`,type:"info",message:`New order received: ${a.orderNumber}`,dismissible:!0}]),S()}),b=N("ticket_update",()=>{S()}),c=N("system_alert",a=>{A(b=>[...b,{id:`system-alert-${Date.now()}`,type:a.type||"warning",message:a.message,dismissible:!0}])});return()=>{a(),b(),c()}},[N,S]),(0,c.useEffect)(()=>(document.addEventListener("keydown",ad),()=>document.removeEventListener("keydown",ad)),[ad]),(0,c.useEffect)(()=>{let a=new URLSearchParams;"all-stations"!==q&&a.set("view",q),s&&a.set("station",s),u&&a.set("allday","true");let b=`/kds${a.toString()?`?${a.toString()}`:""}`;J.replace(b,{scroll:!1})},[q,s,u,J]),j&&!a.length)return(0,b.jsx)("div",{children:"Loading KDS..."});if(n&&!a.length)throw Error(n);return f?(0,b.jsxs)("div",{className:"h-full flex flex-col bg-black text-white",children:[z.length>0&&(0,b.jsx)(L,{alerts:z,onDismiss:ac,className:"p-4"}),(0,b.jsx)(M,{currentStation:s||void 0,currentView:q,stationViews:w,metrics:f,stations:y,onStationChange:X,onViewChange:Y,onSettingsOpen:ab,onAllDayToggle:$,onRefresh:R}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden",children:u?h?(0,b.jsx)(Q,{allDayView:h,stations:y,onRefresh:R}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"üìä"}),(0,b.jsx)("div",{className:"text-xl font-bold mb-2",children:"Generating All Day View..."}),(0,b.jsx)("div",{className:"text-gray-400",children:"This may take a moment"})]})}):s?(0,b.jsx)(x,{station:y[s],tickets:a.filter(a=>a.station===s),config:O,onBump:T,onRecall:U,onFire:V,onPriorityChange:W}):(0,b.jsx)(B,{stations:P.filter(a=>O.stations.includes(a.id)),tickets:a,config:O,onBump:T,onRecall:U,onFire:V,onPriorityChange:W})}),D&&(0,b.jsx)(_,{onClose:()=>E(!1),stations:y,stationViews:w}),(0,b.jsx)(aa,{})]}):(0,b.jsx)("div",{children:"Loading metrics..."})}function _({onClose:a,stations:c,stationViews:d}){return(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 max-w-2xl w-full m-4 max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"KDS Settings"}),(0,b.jsx)("button",{onClick:a,className:"kds-button bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded",children:"‚úï Close"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-3",children:"Display Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Show timer on tickets"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Show customer names"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Show table numbers"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Show allergen warnings"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-3",children:"Sound Alerts"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"New order alerts"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0}),"Urgent order alerts"]})]}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Volume"}),(0,b.jsx)("input",{type:"range",min:"0",max:"100",defaultValue:"50",className:"w-full"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-3",children:"Stations"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.values(c).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:a.color}}),(0,b.jsx)("span",{className:"text-white",children:a.displayName})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:a.isActive}),(0,b.jsx)("span",{className:"text-gray-300",children:"Active"})]})]},a.id))})]})]})]})})}function aa(){let[a,d]=(0,c.useState)(!1);return a?(0,b.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-900 border-2 border-red-500 rounded-lg p-4 space-y-2",children:[(0,b.jsx)("div",{className:"text-xs text-red-200 font-bold",children:"Emergency Actions"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("button",{onClick:async()=>{confirm("Stop all orders? This action cannot be undone.")&&console.log("EMERGENCY STOP ACTIVATED")},className:"kds-button bg-red-600 hover:bg-red-500 text-white px-3 py-1 rounded text-xs",children:"üõë STOP ALL"}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"kds-button bg-yellow-600 hover:bg-yellow-500 text-white px-3 py-1 rounded text-xs",children:"üîÑ RESET"}),(0,b.jsx)("button",{onClick:()=>d(!1),className:"kds-button bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded text-xs",children:"Cancel"})]})]}):(0,b.jsx)("button",{onClick:()=>d(!0),className:"fixed bottom-4 right-4 bg-red-600 hover:bg-red-500 text-white px-3 py-2 rounded text-xs",children:"Emergency"})}}];

//# sourceMappingURL=app_kds_page_tsx_89133a2b._.js.map