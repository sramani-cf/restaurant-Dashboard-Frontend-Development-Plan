module.exports=[84760,a=>{"use strict";a.s(["SettingsNavigation",()=>f]);var b=a.i(87924),c=a.i(80826),d=a.i(50944);(()=>{let a=Error("Cannot find module '../../lib/utils'");throw a.code="MODULE_NOT_FOUND",a})();let e=[{id:"restaurant",label:"Restaurant Profile",description:"Basic restaurant information and branding",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 00.75-2.09.75.75 0 01.75-.75c.896 0 1.7-.393 2.25-1.016a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72L4.318 3.44A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3.004 3.004 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.75c0 .415.336.75.75.75z"})})},{id:"users",label:"Users & Roles",description:"Manage team members and access levels",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),badge:"3"},{id:"permissions",label:"Permissions",description:"Configure role-based access control",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})},{id:"devices",label:"Devices",description:"POS terminals, KDS screens, and printers",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),badge:"1"},{id:"payments",label:"Payments",description:"Payment gateways and processing",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})})},{id:"integrations",label:"Integrations",description:"Third-party services and APIs",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})})},{id:"taxes",label:"Tax & Gratuity",description:"Tax rules and tip configurations",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008V18H8.25v-.008zM12 9l3-3m0 0l-3-3m3 3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"security",label:"Security",description:"Access control and data protection",icon:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}];function f(){let a=(0,d.useRouter)(),f=(0,d.usePathname)(),g=(0,d.useSearchParams)(),[h,i]=(0,c.useState)([]),j=g.get("tab")||"restaurant",k=b=>{let c=new URLSearchParams(g);c.set("tab",b),a.push(`${f}?${c.toString()}`)};return(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Configure your restaurant"})]}),(0,b.jsx)("nav",{className:"p-2","aria-label":"Settings navigation",children:(0,b.jsx)("ul",{className:"space-y-1",children:e.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>k(a.id),disabled:a.disabled,className:cn("group flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors","hover:bg-gray-50 hover:text-gray-900","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset",j===a.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700",a.disabled&&"opacity-50 cursor-not-allowed"),children:[(0,b.jsx)("span",{className:cn("flex-shrink-0",j===a.id?"text-blue-700":"text-gray-400 group-hover:text-gray-600"),children:a.icon}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"truncate",children:a.label}),a.badge&&(0,b.jsx)("span",{className:cn("ml-2 inline-flex items-center justify-center rounded-full text-xs font-medium","h-5 min-w-[20px] px-1.5",j===a.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:a.badge})]}),a.description&&(0,b.jsx)("p",{className:cn("text-xs mt-1 truncate",j===a.id?"text-blue-600":"text-gray-500"),children:a.description})]})]})},a.id))})}),(0,b.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:"Quick Actions"}),(0,b.jsx)("button",{onClick:()=>k("restaurant"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Import/Export"})]})})]})}},13644,a=>{"use strict";a.s(["SettingsHeader",()=>n],13644);var b=a.i(87924),c=a.i(80826),d=a.i(40695),e=a.i(32324),f=a.i(35112),g=a.i(5050),h=(0,g.createServerReference)("60bc57e7b2098bd8d4d43006fac2204dfa87905b82",g.callServer,void 0,g.findSourceMapURL,"exportSettingsAction"),i=(0,g.createServerReference)("60721bbaffe7c87c4aa00c2df8c33e7461f267baec",g.callServer,void 0,g.findSourceMapURL,"importSettingsAction");let j={success:!1,message:"",errors:{}};function k({onClose:a}){let[e,g]=(0,f.useFormState)(h,j),[k,l]=(0,f.useFormState)(i,j),[m,n]=(0,c.useTransition)(),[o,p]=(0,c.useTransition)(),[q,r]=(0,c.useState)("export");return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,b.jsx)("button",{onClick:()=>r("export"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"export"===q?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Export Settings"}),(0,b.jsx)("button",{onClick:()=>r("import"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"import"===q?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import Settings"})]})}),"export"===q&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Export Settings"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Download your restaurant settings as a backup file."})]}),(0,b.jsxs)("form",{onSubmit:a=>{var b;a.preventDefault(),b=new FormData(a.currentTarget),n(()=>{g(b)})},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-base font-medium text-gray-900",children:"Select sections to export"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Choose which settings to include in the export."}),(0,b.jsx)("div",{className:"mt-3 space-y-2",children:[{id:"restaurant",label:"Restaurant Profile",description:"Basic restaurant information and branding"},{id:"users",label:"Users & Roles",description:"User accounts and role definitions"},{id:"devices",label:"Devices",description:"POS terminals and hardware configuration"},{id:"payments",label:"Payment Configuration",description:"Payment gateways and processing settings"},{id:"integrations",label:"Integrations",description:"Third-party service connections"},{id:"taxes",label:"Tax Configuration",description:"Tax rules and calculations"},{id:"gratuity",label:"Gratuity Settings",description:"Tip configuration and distribution"},{id:"security",label:"Security Settings",description:"Access control and data protection"}].map(a=>(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:`export-${a.id}`,name:"sections",value:a.id,type:"checkbox",defaultChecked:!0,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:`export-${a.id}`,className:"font-medium text-gray-700",children:a.label}),(0,b.jsx)("p",{className:"text-gray-500",children:a.description})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-base font-medium text-gray-900",children:"Export options"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"includeCredentials",name:"includeCredentials",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"includeCredentials",className:"font-medium text-gray-700",children:"Include sensitive credentials"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Export API keys, passwords, and other sensitive data"})]})]}),(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"encryptSensitiveData",name:"encryptSensitiveData",type:"checkbox",defaultChecked:!0,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"encryptSensitiveData",className:"font-medium text-gray-700",children:"Encrypt sensitive data"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Protect sensitive information with encryption"})]})]}),(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"compression",name:"compression",type:"checkbox",defaultChecked:!0,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"compression",className:"font-medium text-gray-700",children:"Compress export file"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Reduce file size with compression"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"format",className:"block text-sm font-medium text-gray-700",children:"Export format"}),(0,b.jsxs)("select",{id:"format",name:"format",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:[(0,b.jsx)("option",{value:"json",children:"JSON (recommended)"}),(0,b.jsx)("option",{value:"yaml",children:"YAML"}),(0,b.jsx)("option",{value:"csv",children:"CSV (limited)"})]})]}),e.success&&e.data?.downloadUrl&&(0,b.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Export completed"}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(d.Button,{as:"a",href:e.data.downloadUrl,download:!0,size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Download Settings Backup"})})]})]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:m,className:"bg-blue-600 hover:bg-blue-700",children:m?"Exporting...":"Export Settings"})]})]})]}),"import"===q&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Import Settings"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Restore settings from a previously exported backup file."})]}),(0,b.jsxs)("form",{onSubmit:a=>{var b;a.preventDefault(),b=new FormData(a.currentTarget),p(()=>{l(b)})},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700",children:"Settings backup file"}),(0,b.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,b.jsxs)("div",{className:"space-y-1 text-center",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,b.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,b.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,b.jsxs)("label",{htmlFor:"file",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,b.jsx)("span",{children:"Upload a file"}),(0,b.jsx)("input",{id:"file",name:"file",type:"file",accept:".json,.yaml,.yml",className:"sr-only",required:!0})]}),(0,b.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"JSON, YAML up to 10MB"})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-base font-medium text-gray-900",children:"Import options"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"overwrite",name:"overwrite",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"overwrite",className:"font-medium text-gray-700",children:"Overwrite existing settings"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Replace current settings with imported values"})]})]}),(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"createBackup",name:"createBackup",type:"checkbox",defaultChecked:!0,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"createBackup",className:"font-medium text-gray-700",children:"Create backup before import"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Automatically backup current settings first"})]})]}),(0,b.jsxs)("div",{className:"relative flex items-start",children:[(0,b.jsx)("div",{className:"flex items-center h-5",children:(0,b.jsx)("input",{id:"validateIntegrity",name:"validateIntegrity",type:"checkbox",defaultChecked:!0,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),(0,b.jsxs)("div",{className:"ml-3 text-sm",children:[(0,b.jsx)("label",{htmlFor:"validateIntegrity",className:"font-medium text-gray-700",children:"Validate file integrity"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Check file for corruption or tampering"})]})]})]})]}),k.success&&(0,b.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("h3",{className:"text-sm font-medium text-green-800",children:k.message||"Settings imported successfully"})})]})}),k.errors&&Object.keys(k.errors).length>0&&(0,b.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Import failed"}),(0,b.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,b.jsx)("p",{children:k.message||"There was an error importing the settings file."})})]})]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700",children:o?"Importing...":"Import Settings"})]})]})]})]})}var l=(0,g.createServerReference)("000488c989d9380f6f891498ca4f75a053595b8930",g.callServer,void 0,g.findSourceMapURL,"validateSettingsAction");function m({onClose:a}){let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),k=async()=>{f(!0);try{let a=await l();a.success&&a.data&&(h(a.data),j(new Date))}catch(a){console.error("Validation error:",a)}finally{f(!1)}};return(0,c.useEffect)(()=>{k()},[]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Settings Validation"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Check your settings for errors and potential issues"})]}),(0,b.jsx)(d.Button,{onClick:k,disabled:e,size:"sm",variant:"outline",children:e?"Validating...":"Re-validate"})]}),e?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Validating your settings..."})]}):g?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:`rounded-lg p-4 ${g.isValid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:g.isValid?(0,b.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,b.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:`text-sm font-medium ${g.isValid?"text-green-800":"text-red-800"}`,children:g.isValid?"Settings validation passed":"Settings validation failed"}),(0,b.jsx)("p",{className:`mt-1 text-sm ${g.isValid?"text-green-700":"text-red-700"}`,children:g.isValid?"Your restaurant settings are configured correctly.":`Found ${g.errors.length} error(s) that need attention.`})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${g.isValid?"text-green-600":"text-red-600"}`,children:g.isValid?"✓":"✗"}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:"Overall Status"})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:g.errors.length}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:"Errors"})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:g.warnings.length}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:"Warnings"})]})]}),g.errors.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:["Errors (",g.errors.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:g.errors.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-red-400 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium text-red-800",children:a})})]},c))})]}),g.warnings.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:["Warnings (",g.warnings.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:g.warnings.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-amber-400 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium text-amber-800",children:a})})]},c))})]}),i&&(0,b.jsxs)("div",{className:"text-sm text-gray-500 text-center",children:["Last validated: ",i.toLocaleString()]})]}):null,(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:a,children:"Close"}),g&&!g.isValid&&(0,b.jsx)(d.Button,{onClick:()=>{a?.()},className:"bg-red-600 hover:bg-red-700",children:"Fix Issues"})]})]})}function n({showValidation:a=!0}){let[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(!1),[j,l]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=()=>o(!0),b=()=>{o(!1),l(new Date)};return window.addEventListener("settings:change",a),window.addEventListener("settings:save",b),()=>{window.removeEventListener("settings:change",a),window.removeEventListener("settings:save",b)}},[]);let p=async()=>{console.log("Saving all settings..."),window.dispatchEvent(new CustomEvent("settings:save"))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,b.jsx)("div",{className:"mx-auto max-w-screen-2xl px-4 py-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-2 w-2 bg-amber-400 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-sm text-amber-700 font-medium",children:"Unsaved changes"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-2 w-2 bg-green-400 rounded-full"}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["All changes saved",j&&(0,b.jsxs)("span",{className:"ml-2 text-gray-500",children:["• Last saved ",j.toLocaleTimeString()]})]})]})})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{i(!0)},children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Validate"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>g(!0),children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),"Import/Export"]}),n&&(0,b.jsxs)(d.Button,{size:"sm",onClick:p,className:"bg-blue-600 hover:bg-blue-700",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V4.5L21 12l-4.5 7.5V20.25L12 16.5l-4.5 3.75V20.25L3 12l4.5-7.5V3.75L12 7.5l4.5-3.75z"})}),"Save All"]})]})]})})}),(0,b.jsx)(e.Modal,{isOpen:f,onClose:()=>g(!1),title:"Import & Export Settings",size:"lg",children:(0,b.jsx)(k,{onClose:()=>g(!1)})}),(0,b.jsx)(e.Modal,{isOpen:h,onClose:()=>i(!1),title:"Settings Validation",size:"md",children:(0,b.jsx)(m,{onClose:()=>i(!1)})})]})}}];

//# sourceMappingURL=components_settings_f4ecd087._.js.map