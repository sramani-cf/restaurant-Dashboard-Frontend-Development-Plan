module.exports=[70967,a=>{"use strict";a.s(["default",()=>p],70967);var b=a.i(87924),c=a.i(80826),d=a.i(59858);a.i(39721);let e={AA:{normal:4.5,large:3,nonText:3},AAA:{normal:7,large:4.5,nonText:3}};class f{complianceLevel;cache=new Map;constructor(a="AA"){this.complianceLevel=a}calculateContrastRatio(a,b){let c=`${a}-${b}`;if(this.cache.has(c))return this.cache.get(c).ratio;let d=this.parseColor(a),e=this.parseColor(b);if(!d||!e)return 1;let f=this.calculateLuminance(d),g=this.calculateLuminance(e),h=(Math.max(f,g)+.05)/(Math.min(f,g)+.05),i=this.createContrastResult(h);return this.cache.set(c,i),h}checkContrast(a,b,c="normal",d=!0){let f=this.calculateContrastRatio(a,b),g=this.createContrastResult(f),h=e[this.complianceLevel];return g.level=f>=(d?"large"===c?h.large:h.normal:h.nonText)?this.complianceLevel:"fail",g}async validateElement(a){let b=[],c=window.getComputedStyle(a),d=c.color,f=await this.getEffectiveBackgroundColor(a);if(!d||!f)return b;let g=this.isLargeText(c),h=this.isTextContent(a),i=this.checkContrast(d,f,g?"large":"normal",h);if("fail"===i.level){let c=e[this.complianceLevel],j=h?g?c.large:c.normal:c.nonText,k=this.suggestColorAdjustments(d,f,j);b.push({element:a,foreground:d,background:f,ratio:i.ratio,required:j,message:`Contrast ratio ${i.ratio.toFixed(2)} is below required ${j} for ${this.complianceLevel} compliance`,suggestions:k})}return b}async validateContainer(a=document.body){let b=[];for(let c of Array.from(a.querySelectorAll("*")))if(c instanceof HTMLElement&&this.shouldValidateElement(c)){let a=await this.validateElement(c);b.push(...a)}return b}suggestColorAdjustments(a,b,c){let d=[];return d.push(...this.adjustColorForContrast(a,b,c,"foreground")),d.push(...this.adjustColorForContrast(b,a,c,"background")),d.filter(a=>a.ratio>=c).sort((a,b)=>b.ratio-a.ratio).slice(0,5)}async autoFixContrast(a){let b=await this.validateElement(a);if(0===b.length)return!0;let c=b[0];if(0===c.suggestions.length)return!1;let d=c.suggestions[0];return"background"===d.method?a.style.backgroundColor=d.adjusted:a.style.color=d.adjusted,!0}parseColor(a){if(!a.startsWith("#")&&!a.startsWith("rgb")&&!a.startsWith("hsl")){let b=document.createElement("div");b.style.color=a,document.body.appendChild(b);let c=window.getComputedStyle(b).color;document.body.removeChild(b),a=c}let b=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(b)return{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10)};let c=a.match(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/);if(c){let a=c[1];return 3===a.length?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16)}:{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)}}let d=a.match(/hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*[\d.]+)?\)/);if(d){let a=parseInt(d[1],10),b=parseInt(d[2],10)/100,c=parseInt(d[3],10)/100;return this.hslToRgb({h:a,s:b,l:c})}return null}calculateLuminance(a){let{r:b,g:c,b:d}=a,e=b/255,f=c/255,g=d/255;return .2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))}async getEffectiveBackgroundColor(a){let b=a,c=[];for(;b&&b!==document.body;){let a=window.getComputedStyle(b).backgroundColor;a&&"rgba(0, 0, 0, 0)"!==a&&"transparent"!==a&&c.push(a),b=b.parentElement}let d=window.getComputedStyle(document.body).backgroundColor;return(d&&"rgba(0, 0, 0, 0)"!==d?c.push(d):c.push("#ffffff"),c.length<=1)?c[0]||"#ffffff":c[0]}isLargeText(a){let b=parseFloat(a.fontSize),c=a.fontWeight;return!!(b>=24||b>=18.67&&("bold"===c||parseInt(c,10)>=700))}isTextContent(a){if(!a.textContent?.trim())return!1;let b=a.getAttribute("role");return["P","H1","H2","H3","H4","H5","H6","SPAN","DIV","A","BUTTON","LABEL"].includes(a.tagName)||b&&["text","heading","paragraph"].includes(b)||a.matches('p, h1, h2, h3, h4, h5, h6, span:not([class*="icon"]), a, button, label')}shouldValidateElement(a){let b=window.getComputedStyle(a);if("none"===b.display||"hidden"===b.visibility)return!1;let c=a.textContent?.trim(),d=this.isInteractiveElement(a);return!!(c||d)}isInteractiveElement(a){return["BUTTON","A","INPUT","SELECT","TEXTAREA"].includes(a.tagName)||["button","link","checkbox","radio","menuitem","tab"].includes(a.getAttribute("role")||"")||a.hasAttribute("onclick")||a.tabIndex>=0}createContrastResult(a){return{ratio:a,passes:{AA:{normal:a>=e.AA.normal,large:a>=e.AA.large,nonText:a>=e.AA.nonText},AAA:{normal:a>=e.AAA.normal,large:a>=e.AAA.large,nonText:a>=e.AAA.nonText}},level:a>=e.AAA.normal?"AAA":a>=e.AA.normal?"AA":"fail"}}adjustColorForContrast(a,b,c,d){let e=[],f=this.parseColor(a),g=this.parseColor(b);if(!f||!g)return e;let h=this.rgbToHsl(f);return e.push(...this.adjustLightness(h,b,c).map(c=>({...c,original:a,method:c.ratio>this.calculateContrastRatio(a,b)?h.l<.5?"lighten":"darken":h.l>=.5?"lighten":"darken"}))),e.push(...this.adjustSaturation(h,b,c).map(b=>({...b,original:a,method:"saturation"}))),e}adjustLightness(a,b,c){let d=[];for(let e=a.l+.1;e<=1;e+=.1){let f=this.hslToHex({...a,l:e}),g=this.calculateContrastRatio(f,b);if(g>=c){d.push({adjusted:f,ratio:g});break}}for(let e=a.l-.1;e>=0;e-=.1){let f=this.hslToHex({...a,l:e}),g=this.calculateContrastRatio(f,b);if(g>=c){d.push({adjusted:f,ratio:g});break}}return d}adjustSaturation(a,b,c){let d=[];for(let e=a.s-.1;e>=0;e-=.1){let f=this.hslToHex({...a,s:e}),g=this.calculateContrastRatio(f,b);if(g>=c){d.push({adjusted:f,ratio:g});break}}return d}rgbToHsl(a){let{r:b,g:c,b:d}=a,e=b/255,f=c/255,g=d/255,h=Math.max(e,f,g),i=Math.min(e,f,g),j=h-i,k=0,l=0,m=(h+i)/2;if(0!==j)switch(l=m>.5?j/(2-h-i):j/(h+i),h){case e:k=((f-g)/j+6*(f<g))/6;break;case f:k=((g-e)/j+2)/6;break;case g:k=((e-f)/j+4)/6}return{h:360*k,s:l,l:m}}hslToRgb(a){let{h:b,s:c,l:d}=a,e=b/360,f=(1-Math.abs(2*d-1))*c,g=f*(1-Math.abs(6*e%2-1)),h=d-f/2,i=0,j=0,k=0;return 0<=e&&e<1/6?(i=f,j=g,k=0):1/6<=e&&e<1/3?(i=g,j=f,k=0):1/3<=e&&e<.5?(i=0,j=f,k=g):.5<=e&&e<2/3?(i=0,j=g,k=f):2/3<=e&&e<5/6?(i=g,j=0,k=f):5/6<=e&&e<1&&(i=f,j=0,k=g),{r:Math.round((i+h)*255),g:Math.round((j+h)*255),b:Math.round((k+h)*255)}}hslToHex(a){let b=this.hslToRgb(a),c=a=>{let b=Math.round(a).toString(16);return 1===b.length?"0"+b:b};return`#${c(b.r)}${c(b.g)}${c(b.b)}`}clearCache(){this.cache.clear()}setComplianceLevel(a){this.complianceLevel=a,this.clearCache()}}var g=a.i(10733),h=a.i(458),i=a.i(39457);let j=({title:a,description:c,children:d})=>(0,b.jsxs)("section",{className:"space-y-4 p-6 border rounded-lg bg-card","aria-labelledby":`section-${a.toLowerCase().replace(/\s+/g,"-")}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{id:`section-${a.toLowerCase().replace(/\s+/g,"-")}`,className:"text-xl font-semibold text-foreground",children:a}),c&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:c})]}),d]}),k=({id:a,label:c,description:e,checked:f,onChange:h,disabled:i})=>{let{announce:j}=(0,g.useAnnouncer)();return(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("input",{type:"checkbox",id:a,checked:f,onChange:a=>{let b=a.target.checked;h(b),j(`${c} ${b?"enabled":"disabled"}`,"polite")},disabled:i,className:(0,d.cn)("w-4 h-4 text-primary bg-background border-2 border-input rounded","focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed"),"aria-describedby":e?`${a}-description`:void 0})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("label",{htmlFor:a,className:"text-sm font-medium text-foreground cursor-pointer",children:c}),e&&(0,b.jsx)("p",{id:`${a}-description`,className:"text-sm text-muted-foreground mt-1",children:e})]})]})},l=({id:a,label:c,description:e,value:f,options:h,onChange:i})=>{let{announce:j}=(0,g.useAnnouncer)();return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:a,className:"text-sm font-medium text-foreground block",children:c}),e&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:e}),(0,b.jsx)("select",{id:a,value:f,onChange:a=>{let b=a.target.value;i(b);let d=h.find(a=>a.value===b);j(`${c} changed to ${d?.label||b}`,"polite")},className:(0,d.cn)("w-full px-3 py-2 text-sm bg-background border border-input rounded-md","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"),"aria-describedby":e?`${a}-description`:void 0,children:h.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]})},m=()=>{let{issues:a,validateContainer:e,setLevel:h}=((a="AA")=>{let[b]=c.default.useState(()=>new f(a)),[d,e]=c.default.useState([]),g=c.default.useCallback(async a=>await b.validateElement(a),[b]),h=c.default.useCallback(async(a=document.body)=>{let c=await b.validateContainer(a);return e(c),c},[b]),i=c.default.useCallback((a,c,d)=>b.checkContrast(a,c,d),[b]);return{issues:d,validateElement:g,validateContainer:h,checkContrast:i,calculateRatio:c.default.useCallback((a,c)=>b.calculateContrastRatio(a,c),[b]),autoFix:c.default.useCallback(async a=>b.autoFixContrast(a),[b]),setLevel:b.setComplianceLevel.bind(b)}})(),[i,j]=c.default.useState(!1),[k,m]=c.default.useState("AA"),{announce:n}=(0,g.useAnnouncer)(),o=async()=>{j(!0),n("Running color contrast validation","polite");try{h(k),await e();let b=a.length;n(0===b?"Contrast validation complete. No issues found.":`Contrast validation complete. ${b} issue${b>1?"s":""} found.`,"polite")}catch(a){n("Contrast validation failed","assertive")}finally{j(!1)}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(l,{id:"contrast-level",label:"WCAG Level",value:k,options:[{value:"AA",label:"WCAG AA (4.5:1)"},{value:"AAA",label:"WCAG AAA (7:1)"}],onChange:a=>m(a)}),(0,b.jsx)("button",{onClick:o,disabled:i,className:(0,d.cn)("px-4 py-2 bg-primary text-primary-foreground rounded-md","hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring","disabled:opacity-50 disabled:cursor-not-allowed"),children:i?"Validating...":"Test Contrast"})]}),a.length>0&&(0,b.jsxs)("div",{role:"region","aria-labelledby":"contrast-issues-title",className:"border border-destructive/50 rounded-md p-4 bg-destructive/5",children:[(0,b.jsxs)("h3",{id:"contrast-issues-title",className:"font-medium text-destructive mb-2",children:["Contrast Issues Found (",a.length,")"]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[a.slice(0,5).map((a,c)=>(0,b.jsxs)("li",{className:"text-muted-foreground",children:[(0,b.jsxs)("span",{className:"font-medium",children:["Ratio ",a.ratio.toFixed(2),":"]})," ",a.message]},c)),a.length>5&&(0,b.jsxs)("li",{className:"text-muted-foreground italic",children:["And ",a.length-5," more issues..."]})]})]})]})},n=()=>{let{runAudit:a,isLoading:e,results:f}=(()=>{let[a,b]=c.default.useState(!1),[d,e]=c.default.useState(null);return{runAudit:c.default.useCallback(async a=>{},[]),isLoading:a,results:d,clearResults:()=>e(null)}})(),{announce:h}=(0,g.useAnnouncer)(),i=async()=>{h("Running accessibility audit","polite");let b=await a();if(b){let a=b.violations?.length||0;h(0===a?"Accessibility audit complete. No violations found.":`Accessibility audit complete. ${a} violation${a>1?"s":""} found.`,"polite")}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("button",{onClick:i,disabled:e,className:(0,d.cn)("px-4 py-2 bg-primary text-primary-foreground rounded-md","hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring","disabled:opacity-50 disabled:cursor-not-allowed"),children:e?"Running Audit...":"Run Accessibility Audit"}),f&&(0,b.jsxs)("div",{role:"region","aria-labelledby":"audit-results-title",className:"border rounded-md p-4 bg-muted/50",children:[(0,b.jsx)("h3",{id:"audit-results-title",className:"font-medium mb-2",children:"Audit Results"}),f.violations?(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Violations:"})," ",f.violations.length]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Passes:"})," ",f.passes?.length||0]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Incomplete:"})," ",f.incomplete?.length||0]})]}):void 0!==f.passes?(0,b.jsxs)("p",{className:"text-sm text-green-600",children:["Test completed successfully. ",f.passes?"Passed":"Issues found"]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unable to parse audit results"})]})]})},o=()=>{let{preferences:a,updatePreference:e,updatePreferences:f,resetPreferences:h}=(()=>{let[a,b]=c.default.useState(()=>({reduceMotion:!1,highContrast:!1,focusRings:!0,screenReaderLevel:"moderate",keyboardMode:"standard",contrastLevel:"AA",fontSize:"medium",colorScheme:"auto"})),d=c.default.useCallback((a,c)=>{b(b=>({...b,[a]:c}))},[]);return{preferences:a,updatePreference:d,updatePreferences:c.default.useCallback(a=>{b(b=>({...b,...a}))},[]),resetPreferences:c.default.useCallback(()=>{b({reduceMotion:!1,highContrast:!1,focusRings:!0,screenReaderLevel:"moderate",keyboardMode:"standard",contrastLevel:"AA",fontSize:"medium",colorScheme:"auto"})},[])}})(),o=(()=>{let[a,b]=c.default.useState(()=>({prefersReducedMotion:!1,prefersHighContrast:!1,prefersDarkMode:!1,prefersLargeText:!1}));return c.default.useEffect(()=>{},[]),a})(),{announce:p}=(0,g.useAnnouncer)();return c.default.useEffect(()=>{let b=document.documentElement;b.classList.toggle("reduce-motion",a.reduceMotion),b.classList.toggle("high-contrast",a.highContrast),b.classList.toggle("focus-rings-visible",a.focusRings),b.classList.remove("font-small","font-medium","font-large","font-extra-large"),b.classList.add(`font-${a.fontSize}`),"auto"!==a.colorScheme&&b.classList.toggle("dark","dark"===a.colorScheme)},[a]),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(j,{title:"Display Preferences",description:"Customize visual appearance and layout options",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(k,{id:"reduce-motion",label:"Reduce Motion",description:"Minimize animations and transitions",checked:a.reduceMotion,onChange:a=>e("reduceMotion",a)}),(0,b.jsx)(k,{id:"high-contrast",label:"High Contrast Mode",description:"Increase contrast for better visibility",checked:a.highContrast,onChange:a=>e("highContrast",a)}),(0,b.jsx)(k,{id:"focus-rings",label:"Visible Focus Indicators",description:"Show focus outlines on interactive elements",checked:a.focusRings,onChange:a=>e("focusRings",a)}),(0,b.jsx)(l,{id:"font-size",label:"Text Size",description:"Adjust text size for better readability",value:a.fontSize,options:[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"},{value:"extra-large",label:"Extra Large"}],onChange:a=>e("fontSize",a)}),(0,b.jsx)(l,{id:"color-scheme",label:"Color Scheme",description:"Choose between light, dark, or system preference",value:a.colorScheme,options:[{value:"auto",label:"System Preference"},{value:"light",label:"Light Mode"},{value:"dark",label:"Dark Mode"}],onChange:a=>e("colorScheme",a)})]})}),(0,b.jsx)(j,{title:"Navigation Preferences",description:"Configure keyboard and screen reader behavior",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(l,{id:"screen-reader-level",label:"Screen Reader Verbosity",description:"Control how much information is announced",value:a.screenReaderLevel,options:[{value:"minimal",label:"Minimal"},{value:"moderate",label:"Moderate"},{value:"verbose",label:"Verbose"}],onChange:a=>e("screenReaderLevel",a)}),(0,b.jsx)(l,{id:"keyboard-mode",label:"Keyboard Navigation Mode",description:"Choose standard or enhanced keyboard shortcuts",value:a.keyboardMode,options:[{value:"standard",label:"Standard"},{value:"enhanced",label:"Enhanced"}],onChange:a=>e("keyboardMode",a)}),(0,b.jsx)(l,{id:"contrast-level",label:"Color Contrast Standard",description:"WCAG compliance level for color contrast",value:a.contrastLevel,options:[{value:"AA",label:"WCAG AA"},{value:"AAA",label:"WCAG AAA"}],onChange:a=>e("contrastLevel",a)})]})}),(0,b.jsx)(j,{title:"System Preferences",description:"Detected system accessibility preferences",children:(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"text-sm space-y-2",children:[(0,b.jsxs)("p",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Prefers Reduced Motion:"}),(0,b.jsx)("span",{className:o.prefersReducedMotion?"text-green-600":"text-muted-foreground",children:o.prefersReducedMotion?"Yes":"No"})]}),(0,b.jsxs)("p",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Prefers High Contrast:"}),(0,b.jsx)("span",{className:o.prefersHighContrast?"text-green-600":"text-muted-foreground",children:o.prefersHighContrast?"Yes":"No"})]}),(0,b.jsxs)("p",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Prefers Dark Mode:"}),(0,b.jsx)("span",{className:o.prefersDarkMode?"text-green-600":"text-muted-foreground",children:o.prefersDarkMode?"Yes":"No"})]})]})})}),(0,b.jsx)(j,{title:"Color Contrast Testing",description:"Test and validate color contrast ratios",children:(0,b.jsx)(m,{})}),(0,b.jsx)(j,{title:"Accessibility Testing",description:"Run comprehensive accessibility audits",children:(0,b.jsx)(n,{})}),(0,b.jsx)(j,{title:"Available Keyboard Shortcuts",description:"Quick reference for keyboard navigation",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(i.ShortcutsSummary,{categoryId:"accessibility",limit:5}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Press ",(0,b.jsx)("kbd",{className:"px-2 py-1 bg-muted border rounded text-xs",children:"Alt + /"})," to view all shortcuts"]})]})}),(0,b.jsx)(j,{title:"Reset Settings",description:"Restore default accessibility preferences",children:(0,b.jsx)("button",{onClick:()=>{h(),p("Accessibility settings reset to defaults","polite")},className:(0,d.cn)("px-4 py-2 bg-destructive text-destructive-foreground rounded-md","hover:bg-destructive/90 focus:outline-none focus:ring-2 focus:ring-ring"),children:"Reset All Settings"})})]})};function p(){return(0,b.jsx)(g.AnnouncerProvider,{debugMode:!1,children:(0,b.jsx)(i.KeyboardShortcutsProvider,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(h.SkipLinks,{}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Accessibility Settings"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground",children:"Configure accessibility preferences and test WCAG compliance"})]}),(0,b.jsx)("main",{id:"main-content",tabIndex:-1,children:(0,b.jsx)(o,{})}),(0,b.jsx)("footer",{className:"mt-12 pt-8 border-t",children:(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,b.jsxs)("p",{children:["For additional accessibility support, please contact"," ",(0,b.jsx)("a",{href:"mailto:accessibility@restaurant-dashboard.com",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-ring rounded",children:"accessibility@restaurant-dashboard.com"})]})})})]})]})})})}}];

//# sourceMappingURL=app_accessibility_page_tsx_13c34768._.js.map