module.exports=[21904,a=>{"use strict";a.s(["OrderAnalyticsDashboard",()=>bu],21904);var b=a.i(87924),c=a.i(80826),d=a.i(15479),e=a.i(3130),f=a.i(69047),g=a.i(21958),h=a.i(40695),i=a.i(57431),j=a.i(77924),k=a.i(18155),l=a.i(23665),m=a.i(554),n=a.i(77071),o=a.i(28792),p=a.i(80032),q=a.i(27622),r=a.i(77368),s=a.i(30159);function t(a){var b=(0,r.useAppDispatch)();return(0,c.useEffect)(()=>{b((0,s.updatePolarOptions)(a))},[b,a]),null}var u=a.i(46364),v=a.i(87293),w=a.i(3041),x=["width","height","layout"];function y(){return(y=Object.assign.bind()).apply(null,arguments)}var z={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},A=(0,c.forwardRef)(function(a,b){var d,e=(0,v.resolveDefaultProps)(a.categoricalChartProps,z),{width:f,height:g,layout:h}=e,i=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(e,x);if(!(0,w.isPositiveNumber)(f)||!(0,w.isPositiveNumber)(g))return null;var{chartName:j,defaultTooltipEventType:k,validateTooltipEventTypes:l,tooltipPayloadSearcher:m}=a;return c.createElement(n.RechartsStoreProvider,{preloadedState:{options:{chartName:j,defaultTooltipEventType:k,validateTooltipEventTypes:l,tooltipPayloadSearcher:m,eventEmitter:void 0}},reduxStoreName:null!=(d=e.id)?d:j},c.createElement(o.ChartDataContextProvider,{chartData:e.data}),c.createElement(p.ReportMainChartProps,{width:f,height:g,layout:h,margin:e.margin}),c.createElement(q.ReportChartProps,{accessibilityLayer:e.accessibilityLayer,barCategoryGap:e.barCategoryGap,maxBarSize:e.maxBarSize,stackOffset:e.stackOffset,barGap:e.barGap,barSize:e.barSize,syncId:e.syncId,syncMethod:e.syncMethod,className:e.className}),c.createElement(t,{cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius}),c.createElement(u.CategoricalChart,y({width:f,height:g},i,{ref:b})))}),B=["item"],C={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},D=(0,c.forwardRef)((a,b)=>{var d=(0,v.resolveDefaultProps)(a,C);return c.createElement(A,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:B,tooltipPayloadSearcher:m.arrayTooltipSearcher,categoricalChartProps:d,ref:b})}),E=a.i(88804),F=a.i(98621),G=a.i(44381),H=a.i(98563),I=a.i(1351),J=a.i(56295),K=a.i(12168),L=a.i(98382),M=a.i(44407),N=a.i(41386),O=a.i(51434),P=a=>a.graphicalItems.polarItems,Q=(0,G.createSelector)([M.pickAxisType,N.pickAxisId],K.itemAxisPredicate),R=(0,G.createSelector)([P,K.selectBaseAxis,Q],K.combineGraphicalItemsSettings),S=(0,G.createSelector)([R],K.combineGraphicalItemsData),T=(0,G.createSelector)([S,H.selectChartDataAndAlwaysIgnoreIndexes],K.combineDisplayedData),U=(0,G.createSelector)([T,K.selectBaseAxis,R],K.combineAppliedValues),V=(0,G.createSelector)([T,K.selectBaseAxis,R],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:(0,J.getValueByDataKey)(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:(0,J.getValueByDataKey)(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]}))),W=()=>void 0,X=(0,G.createSelector)([K.selectBaseAxis,K.selectDomainDefinition,W,V,W,L.selectChartLayout,M.pickAxisType],K.combineNumericalDomain),Y=(0,G.createSelector)([K.selectBaseAxis,L.selectChartLayout,T,U,O.selectStackOffsetType,M.pickAxisType,X],K.combineAxisDomain),Z=(0,G.createSelector)([Y,K.selectBaseAxis,K.selectRealScaleType],K.combineNiceTicks);function $(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?$(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}(0,G.createSelector)([K.selectBaseAxis,Y,Z,M.pickAxisType],K.combineAxisDomainWithNiceTicks);var aa=(0,G.createSelector)([P,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),ab=[],ac=(a,b,c)=>(null==c?void 0:c.length)===0?ab:c,ad=(0,G.createSelector)([H.selectChartDataAndAlwaysIgnoreIndexes,aa,ac],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>_(_({},b.presentationProps),a.props))),null!=d))return d}),ae=(0,G.createSelector)([ad,aa,ac],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=(0,J.getValueByDataKey)(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:(0,J.getTooltipNameProp)(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),af=(0,G.createSelector)([ad,aa,ac,I.selectChartOffsetInternal],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,o=Math.abs(e.minAngle),p=(0,an.mathSign)(k-j)*Math.min(Math.abs(k-j),360),q=Math.abs(p),r=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,s=f.filter(a=>0!==(0,J.getValueByDataKey)(a,l,0)).length,t=q-s*o-(q>=360?s:s-1)*r,u=f.reduce((a,b)=>{var c=(0,J.getValueByDataKey)(b,l,0);return a+((0,an.isNumber)(c)?c:0)},0);return u>0&&(c=f.map((a,b)=>{var c,f=(0,J.getValueByDataKey)(a,l,0),k=(0,J.getValueByDataKey)(a,m,b),q=((a,b,c)=>{let d,e,f;var{top:g,left:h,width:i,height:j}=b,k=(0,am.getMaxRadius)(i,j),l=h+(0,an.getPercentValue)(a.cx,i,i/2),m=g+(0,an.getPercentValue)(a.cy,j,j/2),n=(0,an.getPercentValue)(a.innerRadius,k,0);return{cx:l,cy:m,innerRadius:n,outerRadius:(d=c,e=a.outerRadius,f=k,"function"==typeof e?e(d):(0,an.getPercentValue)(e,f,.8*f)),maxRadius:a.maxRadius||Math.sqrt(i*i+j*j)/2}})(e,h,a),s=((0,an.isNumber)(f)?f:0)/u,v=aF(aF({},a),g&&g[b]&&g[b].props),w=(c=b?d.endAngle+(0,an.mathSign)(p)*r*(0!==f):j)+(0,an.mathSign)(p)*((0!==f?o:0)+s*t),x=(c+w)/2,y=(q.innerRadius+q.outerRadius)/2,z=[{name:k,value:f,payload:v,dataKey:l,type:n}],A=(0,am.polarToCartesian)(q.cx,q.cy,y,x);return d=aF(aF(aF(aF({},e.presentationProps),{},{percent:s,cornerRadius:i,name:k,tooltipPayload:z,midAngle:x,middleRadius:y,tooltipPosition:A},v),q),{},{value:(0,J.getValueByDataKey)(a,l),startAngle:c,endAngle:w,payload:v,paddingAngle:(0,an.mathSign)(p)*r})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),ag=a.i(82101),ah=a.i(13667),ai=a.i(20299),aj=a.i(67149),ak=a.i(37082),al=a.i(2321),am=a.i(30261),an=a.i(68932),ao=a.i(52517),ap=a.i(56998),aq=a.i(89205),ar=a.i(12791),as=a.i(86505),at=a.i(92430),au=a.i(5911),av=a.i(62320),aw=a.i(46780),ax=a.i(77025),ay=a.i(72853),az=a.i(76342),aA=["onMouseEnter","onClick","onMouseLeave"],aB=["id"],aC=["id"];function aD(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function aE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aE(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aG(){return(aG=Object.assign.bind()).apply(null,arguments)}function aH(a){var b=(0,c.useMemo)(()=>(0,ak.findAllByType)(a.children,aj.Cell),[a.children]),d=(0,r.useAppSelector)(c=>ae(c,a.id,b));return null==d?null:c.createElement(at.SetPolarLegendPayload,{legendPayload:d})}function aI(a){var{dataKey:b,nameKey:c,sectors:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j}=a;return{dataDefinedOnItem:null==d?void 0:d.map(a=>a.tooltipPayload),positions:null==d?void 0:d.map(a=>a.tooltipPosition),settings:{stroke:e,strokeWidth:f,fill:g,dataKey:b,nameKey:c,name:(0,J.getTooltipNameProp)(h,b),hide:i,type:j,color:g,unit:""}}}function aJ(a){var{sectors:b,props:d,showLabels:e}=a,{label:f,labelLine:g,dataKey:h}=d;if(!e||!f||!b)return null;var i=(0,ay.svgPropertiesNoEvents)(d),j=(0,ak.filterProps)(f,!1),k=(0,ak.filterProps)(g,!1),l="object"==typeof f&&"offsetRadius"in f&&f.offsetRadius||20,m=b.map((a,b)=>{var d,e,m=(a.startAngle+a.endAngle)/2,n=(0,am.polarToCartesian)(a.cx,a.cy,a.outerRadius+l,m),o=aF(aF(aF(aF({},i),a),{},{stroke:"none"},j),{},{index:b,textAnchor:(d=n.x)>(e=a.cx)?"start":d<e?"end":"middle"},n),p=aF(aF(aF(aF({},i),a),{},{fill:"none",stroke:a.fill},k),{},{index:b,points:[(0,am.polarToCartesian)(a.cx,a.cy,a.outerRadius,m),n],key:"line"});return c.createElement(ag.Layer,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},g&&((a,b)=>{if(c.isValidElement(a))return c.cloneElement(a,b);if("function"==typeof a)return a(b);var d=(0,F.clsx)("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return c.createElement(ah.Curve,aG({},b,{type:"linear",className:d}))})(g,p),((a,b,d)=>{if(c.isValidElement(a))return c.cloneElement(a,b);var e=d;if("function"==typeof a&&(e=a(b),c.isValidElement(e)))return e;var f=(0,F.clsx)("recharts-pie-label-text","boolean"!=typeof a&&"function"!=typeof a?a.className:"");return c.createElement(ai.Text,aG({},b,{alignmentBaseline:"middle",className:f}),e)})(f,o,(0,J.getValueByDataKey)(a,h)))});return c.createElement(ag.Layer,{className:"recharts-pie-labels"},m)}function aK(a){var{sectors:b,activeShape:d,inactiveShape:e,allOtherPieProps:f,showLabels:g}=a,h=(0,r.useAppSelector)(as.selectActiveTooltipIndex),{onMouseEnter:i,onClick:j,onMouseLeave:k}=f,l=aD(f,aA),m=(0,aq.useMouseEnterItemDispatch)(i,f.dataKey),n=(0,aq.useMouseLeaveItemDispatch)(k),o=(0,aq.useMouseClickItemDispatch)(j,f.dataKey);return null==b?null:c.createElement(c.Fragment,null,b.map((a,g)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==b.length)return null;var i=d&&String(g)===h,j=i?d:h?e:null,k=aF(aF({},a),{},{stroke:a.stroke,tabIndex:-1,[au.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:g,[au.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:f.dataKey});return c.createElement(ag.Layer,aG({tabIndex:-1,className:"recharts-pie-sector"},(0,ao.adaptEventsOfChild)(l,a,g),{onMouseEnter:m(a,g),onMouseLeave:n(a,g),onClick:o(a,g),key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(g)}),c.createElement(ap.Shape,aG({option:j,isActive:i,shapeType:"sector"},k)))}),c.createElement(aJ,{sectors:b,props:f,showLabels:g}))}function aL(a){var{props:b,previousSectorsRef:d}=a,{sectors:e,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:i,activeShape:j,inactiveShape:k,onAnimationStart:l,onAnimationEnd:m}=b,n=(0,av.useAnimationId)(b,"recharts-pie-"),o=d.current,[p,q]=(0,c.useState)(!0),r=(0,c.useCallback)(()=>{"function"==typeof m&&m(),q(!1)},[m]),s=(0,c.useCallback)(()=>{"function"==typeof l&&l(),q(!0)},[l]);return c.createElement(az.JavascriptAnimate,{begin:g,duration:h,isActive:f,easing:i,onAnimationStart:s,onAnimationEnd:r,key:n},a=>{var f=[],g=(e&&e[0]).startAngle;return e.forEach((b,c)=>{var d=o&&o[c],e=c>0?(0,E.default)(b,"paddingAngle",0):0;if(d){var h=(0,an.interpolateNumber)(d.endAngle-d.startAngle,b.endAngle-b.startAngle),i=aF(aF({},b),{},{startAngle:g+e,endAngle:g+h(a)+e});f.push(i),g=i.endAngle}else{var{endAngle:j,startAngle:k}=b,l=(0,an.interpolateNumber)(0,j-k)(a),m=aF(aF({},b),{},{startAngle:g+e,endAngle:g+l+e});f.push(m),g=m.endAngle}}),d.current=f,c.createElement(ag.Layer,null,c.createElement(aK,{sectors:f,activeShape:j,inactiveShape:k,allOtherPieProps:b,showLabels:!p}))})}function aM(a){var{sectors:b,isAnimationActive:d,activeShape:e,inactiveShape:f}=a,g=(0,c.useRef)(null),h=g.current;return d&&b&&b.length&&(!h||h!==b)?c.createElement(aL,{props:a,previousSectorsRef:g}):c.createElement(aK,{sectors:b,activeShape:e,inactiveShape:f,allOtherPieProps:a,showLabels:!0})}function aN(a){var{hide:b,className:d,rootTabIndex:e}=a,f=(0,F.clsx)("recharts-pie",d);return b?null:c.createElement(ag.Layer,{tabIndex:e,className:f},c.createElement(aM,a))}var aO={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!al.Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function aP(a){var{id:b}=a,d=aD(a,aB),e=(0,c.useMemo)(()=>(0,ak.findAllByType)(a.children,aj.Cell),[a.children]),f=(0,r.useAppSelector)(a=>af(a,b,e));return c.createElement(c.Fragment,null,c.createElement(ar.SetTooltipEntrySettings,{fn:aI,args:aF(aF({},a),{},{sectors:f})}),c.createElement(aN,aG({},d,{sectors:f})))}function aQ(a){var b=(0,v.resolveDefaultProps)(a,aO),{id:d}=b,e=aD(b,aC),f=(0,ay.svgPropertiesNoEvents)(e);return c.createElement(aw.RegisterGraphicalItemId,{id:d,type:"pie"},a=>c.createElement(c.Fragment,null,c.createElement(ax.SetPolarGraphicalItem,{type:"pie",id:a,data:e.data,dataKey:e.dataKey,hide:e.hide,angleAxisId:0,radiusAxisId:0,name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,legendType:e.legendType,fill:e.fill,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,paddingAngle:e.paddingAngle,minAngle:e.minAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,presentationProps:f}),c.createElement(aH,aG({},e,{id:a})),c.createElement(aP,aG({},e,{id:a})),e.children))}aQ.displayName="Pie";var aR=a.i(58042),aS=a.i(94222),aT=a.i(54419),aU=a.i(59854),aV=c,aW=a.i(35112),aX=a.i(20353),aY=c,aZ=a.i(3190),a$=a.i(76805);function a_(){return(a_=Object.assign.bind()).apply(null,arguments)}function a0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a1(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class a2 extends aY.PureComponent{renderIcon(a,b){var{inactiveColor:c}=this.props,d=32/6,e=32/3,f=a.inactive?c:a.color,g=null!=b?b:a.type;if("none"===g)return null;if("plainline"===g)return aY.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===g)return aY.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(16,"h").concat(e,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(2*e,",").concat(16,"\n            H").concat(32,"M").concat(2*e,",").concat(16,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(e,",").concat(16),className:"recharts-legend-icon"});if("rect"===g)return aY.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(aY.isValidElement(a.legendIcon)){var h=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a0(Object(c),!0).forEach(function(b){a1(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return delete h.legendIcon,aY.cloneElement(a.legendIcon,h)}return aY.createElement(a$.Symbols,{fill:f,cx:16,cy:16,size:32,sizeType:"diameter",type:g})}renderItems(){var{payload:a,iconSize:b,layout:c,formatter:d,inactiveColor:e,iconType:f}=this.props,g={x:0,y:0,width:32,height:32},h={display:"horizontal"===c?"inline-block":"block",marginRight:10},i={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((a,c)=>{var j=a.formatter||d,k=(0,F.clsx)({"recharts-legend-item":!0,["legend-item-".concat(c)]:!0,inactive:a.inactive});if("none"===a.type)return null;var l=a.inactive?e:a.color,m=j?j(a.value,a,c):a.value;return aY.createElement("li",a_({className:k,style:h,key:"legend-item-".concat(c)},(0,ao.adaptEventsOfChild)(this.props,a,c)),aY.createElement(aZ.Surface,{width:b,height:b,viewBox:g,style:i,"aria-label":"".concat(m," legend icon")},this.renderIcon(a,f)),aY.createElement("span",{className:"recharts-legend-item-text",style:{color:l}},m))})}render(){var{payload:a,layout:b,align:c}=this.props;return a&&a.length?aY.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===b?c:"left"}},this.renderItems()):null}}a1(a2,"displayName","Legend"),a1(a2,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var a3=a.i(63643),a4=a.i(24993),a5=a.i(38620),a6=a.i(21402),a7=["contextPayload"];function a8(){return(a8=Object.assign.bind()).apply(null,arguments)}function a9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ba(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a9(Object(c),!0).forEach(function(b){bb(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bb(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bc(a){return a.value}function bd(a){var{contextPayload:b}=a,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,a7),d=(0,a3.getUniqPayload)(b,a.payloadUniqBy,bc),e=ba(ba({},c),{},{payload:d});return aV.isValidElement(a.content)?aV.cloneElement(a.content,e):"function"==typeof a.content?aV.createElement(a.content,e):aV.createElement(a2,e)}function be(a){var b=(0,r.useAppDispatch)();return(0,aV.useEffect)(()=>{b((0,a6.setLegendSettings)(a))},[b,a]),null}function bf(a){var b=(0,r.useAppDispatch)();return(0,aV.useEffect)(()=>(b((0,a6.setLegendSize)(a)),()=>{b((0,a6.setLegendSize)({width:0,height:0}))}),[b,a]),null}function bg(a){var b=(0,r.useAppSelector)(a4.selectLegendPayload),c=(0,aX.useLegendPortal)(),d=(0,L.useMargin)(),{width:e,height:f,wrapperStyle:g,portal:h}=a,[i,j]=(0,a5.useElementOffset)([b]),k=(0,L.useChartWidth)(),l=(0,L.useChartHeight)(),m=k-(d.left||0)-(d.right||0),n=bh.getWidthOrHeight(a.layout,f,e,m),o=h?g:ba(ba({position:"absolute",width:(null==n?void 0:n.width)||e||"auto",height:(null==n?void 0:n.height)||f||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),ba(ba({},g),h)}(g,a,d,k,l,i)),g),p=null!=h?h:c;if(null==p)return null;var q=aV.createElement("div",{className:"recharts-legend-wrapper",style:o,ref:j},aV.createElement(be,{layout:a.layout,align:a.align,verticalAlign:a.verticalAlign,itemSorter:a.itemSorter}),aV.createElement(bf,{width:i.width,height:i.height}),aV.createElement(bd,a8({},a,n,{margin:d,chartWidth:k,chartHeight:l,contextPayload:b})));return(0,aW.createPortal)(q,p)}class bh extends aV.PureComponent{static getWidthOrHeight(a,b,c,d){return"vertical"===a&&(0,an.isNumber)(b)?{height:b}:"horizontal"===a?{width:c||d}:null}render(){return aV.createElement(bg,this.props)}}bb(bh,"displayName","Legend"),bb(bh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var bi=a.i(48662),bj=a.i(85811),bk=a.i(39622),bl=a.i(69404),bm=a.i(9247),bn=a.i(35277),bo=a.i(54327),bp=a.i(52839),bq=a.i(59537),br=a.i(27630),bs=a.i(21229),bt=a.i(22282);function bu({searchParams:a}){let[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)({start:new Date(Date.now()-6048e5),end:new Date});if((0,c.useEffect)(()=>{(async()=>{r(!0);try{let a=await (0,d.getOrderStats)({start:s.start.toISOString(),end:s.end.toISOString()});n(a);let b=[],c=new Date(s.start);for(;c<=s.end;){let a=await (0,d.getOrderSummary)(c.toISOString().split("T")[0]);b.push(a),c.setDate(c.getDate()+1)}p(b)}catch(a){console.error("Failed to load analytics:",a)}finally{r(!1)}})()},[s]),q||!m)return(0,b.jsx)("div",{children:"Loading analytics..."});let u=o.map(a=>({date:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:a.revenue,orders:a.orderCount,avgOrderValue:a.averageOrderValue})),v=Object.entries(m.ordersByStatus).map(([a,b])=>({name:a.replace("_"," "),value:b,percentage:(b/m.totalOrders*100).toFixed(1)})),w=Object.entries(m.ordersByType).map(([a,b])=>({name:a.replace("_"," "),value:b,percentage:(b/m.totalOrders*100).toFixed(1)})),x=m.peakHours.map(a=>({hour:`${a.hour}:00`,orders:a.orders})),y=Object.entries(o.flatMap(a=>a.topItems).reduce((a,b)=>(a[b.itemName]||(a[b.itemName]={quantity:0,revenue:0}),a[b.itemName].quantity+=b.quantity,a[b.itemName].revenue+=b.revenue,a),{})).map(([a,b])=>({name:a,...b})).sort((a,b)=>b.revenue-a.revenue).slice(0,10),z=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.DateRangePicker,{value:s,onChange:a=>a&&t(a)}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(bs.default,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(br.default,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:["$",m.totalRevenue.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,b.jsx)(bl.default,{className:"h-3 w-3 mr-1"}),"+12.5% vs last period"]})]}),(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,b.jsx)(bn.default,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})}),(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:m.totalOrders}),(0,b.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,b.jsx)(bl.default,{className:"h-3 w-3 mr-1"}),"+8.3% vs last period"]})]}),(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,b.jsx)(bo.default,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})}),(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:["$",m.averageOrderValue.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[(0,b.jsx)(bm.default,{className:"h-3 w-3 mr-1"}),"-2.1% vs last period"]})]}),(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,b.jsx)(bq.default,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})}),(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Prep Time"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[m.averagePrepTime.toFixed(0),"m"]}),(0,b.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,b.jsx)(bm.default,{className:"h-3 w-3 mr-1"}),"-5m vs last period"]})]}),(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:(0,b.jsx)(bp.default,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})]}),(0,b.jsxs)(g.Tabs,{defaultValue:"overview",tabs:[{id:"overview",label:"Overview"},{id:"revenue",label:"Revenue"},{id:"orders",label:"Orders"},{id:"items",label:"Items"},{id:"patterns",label:"Patterns"}],children:[(0,b.jsxs)("div",{value:"overview",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Revenue Trend"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(bk.AreaChart,{data:u,children:[(0,b.jsx)(aT.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(aR.XAxis,{dataKey:"date"}),(0,b.jsx)(aS.YAxis,{}),(0,b.jsx)(aU.Tooltip,{}),(0,b.jsx)(bj.Area,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Order Volume"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(i.LineChart,{data:u,children:[(0,b.jsx)(aT.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(aR.XAxis,{dataKey:"date"}),(0,b.jsx)(aS.YAxis,{}),(0,b.jsx)(aU.Tooltip,{}),(0,b.jsx)(j.Line,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2})]})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Order Status"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:250,children:(0,b.jsxs)(D,{children:[(0,b.jsx)(aQ,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:({percentage:a})=>`${a}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:v.map((a,c)=>(0,b.jsx)(aj.Cell,{fill:z[c%z.length]},`cell-${c}`))}),(0,b.jsx)(aU.Tooltip,{})]})}),(0,b.jsx)("div",{className:"mt-4 space-y-2",children:v.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:z[c%z.length]}}),(0,b.jsx)("span",{children:a.name})]}),(0,b.jsx)("span",{className:"font-medium",children:a.value})]},a.name))})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Order Types"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:250,children:(0,b.jsxs)(D,{children:[(0,b.jsx)(aQ,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:({percentage:a})=>`${a}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:w.map((a,c)=>(0,b.jsx)(aj.Cell,{fill:z[c%z.length]},`cell-${c}`))}),(0,b.jsx)(aU.Tooltip,{})]})}),(0,b.jsx)("div",{className:"mt-4 space-y-2",children:w.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:z[c%z.length]}}),(0,b.jsx)("span",{children:a.name})]}),(0,b.jsx)("span",{className:"font-medium",children:a.value})]},a.name))})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Peak Hours"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:250,children:(0,b.jsxs)(k.BarChart,{data:x,children:[(0,b.jsx)(aT.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(aR.XAxis,{dataKey:"hour"}),(0,b.jsx)(aS.YAxis,{}),(0,b.jsx)(aU.Tooltip,{}),(0,b.jsx)(l.Bar,{dataKey:"orders",fill:"#F59E0B"})]})})})]})]})]}),(0,b.jsxs)("div",{value:"revenue",className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Revenue Analysis"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:400,children:(0,b.jsxs)(i.LineChart,{data:u,children:[(0,b.jsx)(aT.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(aR.XAxis,{dataKey:"date"}),(0,b.jsx)(aS.YAxis,{yAxisId:"left"}),(0,b.jsx)(aS.YAxis,{yAxisId:"right",orientation:"right"}),(0,b.jsx)(aU.Tooltip,{}),(0,b.jsx)(bh,{}),(0,b.jsx)(j.Line,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,name:"Revenue ($)"}),(0,b.jsx)(j.Line,{yAxisId:"right",type:"monotone",dataKey:"avgOrderValue",stroke:"#10B981",strokeWidth:2,name:"Avg Order Value ($)"})]})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Revenue by Day of Week"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)("div",{className:"space-y-3",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:`${60+40*Math.random()}%`}})}),(0,b.jsxs)("span",{className:"text-sm font-medium w-20 text-right",children:["$",(1e3+2e3*Math.random()).toFixed(0)]})]})]},a))})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Payment Methods"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)("div",{className:"space-y-3",children:[{method:"Credit Card",amount:65,icon:bt.default},{method:"Cash",amount:20,icon:bn.default},{method:"Digital Wallet",amount:10,icon:bt.default},{method:"Gift Card",amount:5,icon:bt.default}].map(a=>{let c=a.icon;return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:a.method})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:`${a.amount}%`}})}),(0,b.jsxs)("span",{className:"text-sm font-medium w-12 text-right",children:[a.amount,"%"]})]})]},a.method)})})})]})]})]}),(0,b.jsx)("div",{value:"items",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Top Performing Items"})}),(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)(bi.ResponsiveContainer,{width:"100%",height:400,children:(0,b.jsxs)(k.BarChart,{data:y,layout:"horizontal",children:[(0,b.jsx)(aT.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(aR.XAxis,{type:"number"}),(0,b.jsx)(aS.YAxis,{dataKey:"name",type:"category",width:150}),(0,b.jsx)(aU.Tooltip,{}),(0,b.jsx)(bh,{}),(0,b.jsx)(l.Bar,{dataKey:"revenue",fill:"#3B82F6",name:"Revenue ($)"}),(0,b.jsx)(l.Bar,{dataKey:"quantity",fill:"#10B981",name:"Quantity Sold"})]})})})]})})]})]})}}];

//# sourceMappingURL=app_orders_analytics_order-analytics-dashboard_tsx_f8e1bd16._.js.map