module.exports=[98704,a=>{"use strict";a.s(["default",()=>ag],98704);var b=a.i(87924),c=a.i(80826),d=function(a){return a.DINE_IN="dine_in",a.TAKEOUT="takeout",a.DELIVERY="delivery",a.PICKUP="pickup",a}({});!function(a){a.PENDING="pending",a.PROCESSING="processing",a.COMPLETED="completed",a.FAILED="failed",a.REFUNDED="refunded",a.PARTIALLY_REFUNDED="partially_refunded",a.VOIDED="voided"}({});let e=[{id:"cat-1",name:"Appetizers",description:"Start your meal right",displayOrder:1,isActive:!0,items:[{id:"item-1",name:"Mozzarella Sticks",category:"Appetizers",price:8.99,description:"Golden fried mozzarella with marinara sauce",available:!0,tags:["vegetarian"],calories:450,preparationTime:8,modifiers:[{id:"mod-1",name:"Extra Sauce",price:.5,type:"optional",options:[{id:"opt-1",name:"Marinara",price:0,available:!0},{id:"opt-2",name:"Ranch",price:0,available:!0},{id:"opt-3",name:"Blue Cheese",price:.5,available:!0}]}]},{id:"item-2",name:"Chicken Wings",category:"Appetizers",price:12.99,description:"Choice of buffalo, BBQ, or garlic parmesan",available:!0,tags:["gluten-free"],calories:680,preparationTime:15,modifiers:[{id:"mod-2",name:"Sauce Choice",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-4",name:"Buffalo",price:0,available:!0},{id:"opt-5",name:"BBQ",price:0,available:!0},{id:"opt-6",name:"Garlic Parmesan",price:0,available:!0},{id:"opt-7",name:"Honey Sriracha",price:0,available:!0}]}]},{id:"item-3",name:"Spinach Artichoke Dip",category:"Appetizers",price:10.99,description:"Creamy blend with tortilla chips",available:!0,tags:["vegetarian"],calories:520,preparationTime:10}]},{id:"cat-2",name:"Entrees",description:"Main course selections",displayOrder:2,isActive:!0,items:[{id:"item-4",name:"Classic Burger",category:"Entrees",price:14.99,description:"Angus beef patty with lettuce, tomato, onion",available:!0,calories:850,preparationTime:12,modifiers:[{id:"mod-3",name:"Temperature",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-8",name:"Rare",price:0,available:!0},{id:"opt-9",name:"Medium Rare",price:0,available:!0},{id:"opt-10",name:"Medium",price:0,available:!0},{id:"opt-11",name:"Medium Well",price:0,available:!0},{id:"opt-12",name:"Well Done",price:0,available:!0}]},{id:"mod-4",name:"Add-ons",price:0,type:"optional",maxSelections:5,options:[{id:"opt-13",name:"Bacon",price:2,available:!0},{id:"opt-14",name:"Extra Cheese",price:1.5,available:!0},{id:"opt-15",name:"Avocado",price:2.5,available:!0},{id:"opt-16",name:"Fried Egg",price:2,available:!0},{id:"opt-17",name:"Mushrooms",price:1,available:!0}]}]},{id:"item-5",name:"Grilled Salmon",category:"Entrees",price:22.99,description:"Atlantic salmon with lemon butter sauce",available:!0,tags:["gluten-free"],calories:580,preparationTime:18,modifiers:[{id:"mod-5",name:"Side Choice",price:0,type:"required",minSelections:2,maxSelections:2,options:[{id:"opt-18",name:"Rice Pilaf",price:0,available:!0},{id:"opt-19",name:"Mashed Potatoes",price:0,available:!0},{id:"opt-20",name:"Steamed Vegetables",price:0,available:!0},{id:"opt-21",name:"French Fries",price:0,available:!0},{id:"opt-22",name:"Side Salad",price:2,available:!0}]}]},{id:"item-6",name:"Chicken Alfredo",category:"Entrees",price:18.99,description:"Fettuccine pasta in creamy alfredo sauce",available:!0,calories:1120,preparationTime:15}]},{id:"cat-3",name:"Beverages",description:"Drinks and refreshments",displayOrder:3,isActive:!0,items:[{id:"item-7",name:"Soft Drink",category:"Beverages",price:3.99,description:"Coca-Cola products",available:!0,modifiers:[{id:"mod-6",name:"Size",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-23",name:"Small",price:0,available:!0},{id:"opt-24",name:"Medium",price:.5,available:!0},{id:"opt-25",name:"Large",price:1,available:!0}]}]},{id:"item-8",name:"Fresh Juice",category:"Beverages",price:5.99,description:"Orange, Apple, or Cranberry",available:!0,calories:180},{id:"item-9",name:"Coffee",category:"Beverages",price:2.99,description:"Freshly brewed",available:!0,calories:5}]},{id:"cat-4",name:"Desserts",description:"Sweet endings",displayOrder:4,isActive:!0,items:[{id:"item-10",name:"Chocolate Lava Cake",category:"Desserts",price:7.99,description:"Warm chocolate cake with molten center",available:!0,tags:["vegetarian"],calories:480,preparationTime:8},{id:"item-11",name:"New York Cheesecake",category:"Desserts",price:6.99,description:"Classic creamy cheesecake with berry sauce",available:!0,tags:["vegetarian"],calories:420,preparationTime:2}]}],f=[{id:"cust-1",firstName:"John",lastName:"Doe",email:"john.doe@email.com",phone:"555-0101",loyaltyPoints:1250,totalOrders:45,totalSpent:1875.5,createdAt:new Date("2023-01-15")},{id:"cust-2",firstName:"Jane",lastName:"Smith",email:"jane.smith@email.com",phone:"555-0102",loyaltyPoints:800,totalOrders:28,totalSpent:1120.75,createdAt:new Date("2023-03-22")},{id:"cust-3",firstName:"Robert",lastName:"Johnson",phone:"555-0103",loyaltyPoints:350,totalOrders:12,totalSpent:480.25,createdAt:new Date("2023-06-10")}],g=[{id:"pay-1",type:"cash",name:"Cash"},{id:"pay-2",type:"card",name:"Credit Card",processingFee:.029},{id:"pay-3",type:"card",name:"Debit Card",processingFee:.025},{id:"pay-4",type:"mobile",name:"Apple Pay",processingFee:.03},{id:"pay-5",type:"mobile",name:"Google Pay",processingFee:.03},{id:"pay-6",type:"gift_card",name:"Gift Card"},{id:"pay-7",type:"loyalty",name:"Loyalty Points"}],h={terminalId:"pos-001",terminalName:"Front Counter",defaultOrderType:d.DINE_IN,requireCustomerInfo:!1,printReceipt:!0,emailReceipt:!1,tipSuggestions:[15,18,20,25],taxRate:.08875,quickKeys:[{id:"qk-1",label:"Burger",menuItemId:"item-4",color:"#ef4444",position:1},{id:"qk-2",label:"Wings",menuItemId:"item-2",color:"#f97316",position:2},{id:"qk-3",label:"Salmon",menuItemId:"item-5",color:"#06b6d4",position:3},{id:"qk-4",label:"Soft Drink",menuItemId:"item-7",color:"#8b5cf6",position:4},{id:"qk-5",label:"10% Off",action:"apply_discount",color:"#10b981",position:5},{id:"qk-6",label:"Appetizers",action:"open_category",color:"#6366f1",position:6}],paymentMethods:g,offlineMode:!1,syncInterval:3e4,printerSettings:{printerName:"Star TSP100",printerType:"thermal",paperWidth:80,autoCut:!0,copies:1}};function i(){return{id:`cart-${Date.now()}`,items:[],subtotal:0,tax:0,discount:null,tip:null,total:0,orderType:d.DINE_IN,createdAt:new Date,updatedAt:new Date}}function j(a,b){let c=a.items.reduce((a,b)=>a+b.subtotal,0),d=a.discount?"percentage"===a.discount.type?c*(a.discount.value/100):a.discount.value:0,e=(c-d)*b,f=a.tip?"percentage"===a.tip.type?(c-d)*(a.tip.value/100):a.tip.value:0;return{...a,subtotal:c,tax:e,total:c-d+e+f,discount:a.discount?{...a.discount,appliedAmount:d}:null,tip:a.tip?{...a.tip,amount:f}:null,updatedAt:new Date}}async function k(a){await new Promise(a=>setTimeout(a,300));let b=a.toLowerCase();return f.filter(a=>a.firstName.toLowerCase().includes(b)||a.lastName.toLowerCase().includes(b)||a.phone.includes(b)||a.email&&a.email.toLowerCase().includes(b))}async function l(a,b,c){return await new Promise(a=>setTimeout(a,1500)),{success:!0,transactionId:`txn-${Date.now()}`,referenceNumber:Math.random().toString(36).substring(7).toUpperCase(),processedAmount:c,timestamp:new Date}}var m=a.i(16868);function n({items:a,onAddItem:c}){return(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>c(a),disabled:!a.available,className:`relative bg-gray-800 hover:bg-gray-700 rounded-lg p-4 transition-all transform hover:scale-105 ${!a.available?"opacity-50 cursor-not-allowed":""}`,children:[!a.available&&(0,b.jsx)("div",{className:"absolute inset-0 bg-gray-900/50 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-red-400 font-semibold",children:"Unavailable"})}),(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsx)("h3",{className:"font-medium text-sm mb-1 text-left line-clamp-2",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-2 text-left line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-lg font-bold text-green-400",children:["$",a.price.toFixed(2)]}),(0,b.jsx)("div",{className:"p-1 bg-primary/20 rounded-lg",children:(0,b.jsx)(m.default,{className:"h-4 w-4 text-primary"})})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex gap-1 mt-2",children:a.tags.map(a=>(0,b.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-gray-700 rounded",children:a},a))})]})]},a.id))})}var o=a.i(54327),p=a.i(4876),q=a.i(30143),r=a.i(62213),s=a.i(59537),t=a.i(37565),u=a.i(70106);let v=(0,u.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var w=a.i(61707);function x({cart:a,onUpdateQuantity:c,onRemoveItem:e,onClearCart:f,onCheckout:g,onSetOrderType:h}){let i=[{value:d.DINE_IN,label:"Dine In",icon:t.default},{value:d.TAKEOUT,label:"Takeout",icon:s.default},{value:d.DELIVERY,label:"Delivery",icon:v},{value:d.PICKUP,label:"Pickup",icon:w.default}];return(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.default,{className:"h-5 w-5"}),(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Current Order"}),a.items.length>0&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-primary/20 text-primary rounded-full text-sm",children:[a.items.reduce((a,b)=>a+b.quantity,0)," items"]})]}),a.items.length>0&&(0,b.jsx)("button",{onClick:f,className:"p-1.5 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(p.default,{className:"h-4 w-4 text-red-400"})})]}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-1 bg-gray-700 rounded-lg p-1",children:i.map(c=>{let d=c.icon;return(0,b.jsxs)("button",{onClick:()=>h(c.value),className:`flex flex-col items-center gap-1 py-2 rounded transition-colors ${a.orderType===c.value?"bg-primary text-white":"hover:bg-gray-600"}`,children:[(0,b.jsx)(d,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs",children:c.label})]},c.value)})}),a.customerId&&(0,b.jsx)("div",{className:"mt-2 px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded",children:(0,b.jsxs)("p",{className:"text-sm text-blue-400",children:["Customer: #",a.customerId]})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===a.items.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,b.jsx)(o.default,{className:"h-12 w-12 mb-3"}),(0,b.jsx)("p",{children:"Cart is empty"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Add items to get started"})]}):(0,b.jsx)("div",{className:"p-4 space-y-3",children:a.items.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-medium",children:a.menuItem.name}),a.modifiers.length>0&&(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:a.modifiers.map(a=>(0,b.jsxs)("div",{children:[a.modifierName,": ",a.selectedOptions.map(a=>a.name).join(", ")]},a.modifierId))}),a.specialInstructions&&(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1 italic",children:a.specialInstructions})]}),(0,b.jsx)("button",{onClick:()=>e(a.id),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,b.jsx)(r.default,{className:"h-4 w-4 text-red-400"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>c(a.id,a.quantity-1),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,b.jsx)(q.default,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"w-8 text-center",children:a.quantity}),(0,b.jsx)("button",{onClick:()=>c(a.id,a.quantity+1),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,b.jsx)(m.default,{className:"h-4 w-4"})})]}),(0,b.jsxs)("span",{className:"font-medium",children:["$",a.subtotal.toFixed(2)]})]})]},a.id))})}),a.items.length>0&&(0,b.jsxs)("div",{className:"border-t border-gray-700 p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,b.jsxs)("span",{children:["$",a.subtotal.toFixed(2)]})]}),a.discount&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-green-400",children:"Discount"}),(0,b.jsxs)("span",{className:"text-green-400",children:["-$",a.discount.appliedAmount?.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Tax"}),(0,b.jsxs)("span",{children:["$",a.tax.toFixed(2)]})]}),a.tip&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Tip"}),(0,b.jsxs)("span",{children:["$",a.tip.amount?.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-600",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-green-400",children:["$",a.total.toFixed(2)]})]}),(0,b.jsxs)("button",{onClick:g,className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-3 rounded-lg transition-colors mt-4",children:["Checkout $",a.total.toFixed(2)]})]})]})}function y({categories:a,selectedCategory:c,onSelectCategory:d}){return(0,b.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2",children:(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>d(a),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${c.id===a.id?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[a.name,(0,b.jsxs)("span",{className:"ml-2 text-xs opacity-75",children:["(",a.items.length,")"]})]},a.id))})})}function z({quickKeys:a,onQuickKey:c}){return(0,b.jsx)("div",{className:"grid grid-cols-6 gap-2",children:a.map(a=>(0,b.jsx)("button",{onClick:()=>c(a),className:"px-3 py-2 rounded-lg font-medium text-sm transition-all hover:scale-105",style:{backgroundColor:a.color||"#374151",color:"#ffffff"},children:a.label},a.id))})}var A=a.i(73365),B=a.i(22282);let C=(0,u.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),D=(0,u.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),E=(0,u.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var F=a.i(38998),G=a.i(35277),H=a.i(34157),I=a.i(4650);function J({cart:a,onBack:d,onComplete:e,onSetTip:f}){let[i,j]=(0,c.useState)(null),[k,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),v=h.tipSuggestions,w=async()=>{if(i){s(!0);try{let b=await l(a,i,a.total);b.success&&e(b)}catch(a){console.error("Payment failed:",a)}finally{s(!1)}}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(A.default,{className:"h-5 w-5"})}),(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Payment"})]}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["Total: $",a.total.toFixed(2)]})]})}),(0,b.jsxs)("div",{className:"flex-1 p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add Tip"}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[(0,b.jsx)("button",{onClick:()=>{m(0),o(""),f({type:"fixed",value:0,amount:0})},className:`py-3 rounded-lg font-medium transition-colors ${0===k&&!n?"bg-primary text-white":"bg-gray-800 hover:bg-gray-700"}`,children:"No Tip"}),v.map(c=>(0,b.jsxs)("button",{onClick:()=>(b=>{let c=(a.subtotal-(a.discount?.appliedAmount||0))*(b/100);m(c),o(""),f({type:"percentage",value:b,amount:c})})(c),className:`py-3 rounded-lg font-medium transition-colors ${!n&&k===(a.subtotal-(a.discount?.appliedAmount||0))*(c/100)?"bg-primary text-white":"bg-gray-800 hover:bg-gray-700"}`,children:[c,"%"]},c)),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(G.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,b.jsx)("input",{type:"number",step:"0.01",placeholder:"Custom",value:n,onChange:a=>(a=>{let b=parseFloat(a)||0;o(a),m(b),f({type:"fixed",value:b,amount:b})})(a.target.value),className:"w-full h-full bg-gray-800 text-white pl-10 pr-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),k>0&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-gray-400",children:["Tip amount: $",k.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Payment Method"}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(a=>{let c=(a=>{switch(a){case"cash":return C;case"card":return B.default;case"mobile":return D;case"gift_card":return E;case"loyalty":return F.default;default:return G.default}})(a.type);return(0,b.jsxs)("button",{onClick:()=>j(a),className:`p-6 rounded-lg border-2 transition-all ${i?.id===a.id?"border-primary bg-primary/10":"border-gray-700 hover:border-gray-600 bg-gray-800"}`,children:[(0,b.jsx)(c,{className:"h-8 w-8 mx-auto mb-3"}),(0,b.jsx)("p",{className:"font-medium",children:a.name}),a.processingFee&&(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Fee: ",(100*a.processingFee).toFixed(1),"%"]})]},a.id)})})]}),i?.type==="cash"&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Cash Tendered"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[20,50,100,Math.ceil(a.total)].map(a=>(0,b.jsxs)("button",{onClick:()=>{q(a.toString())},className:"py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:["$",a]},a))}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(G.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,b.jsx)("input",{type:"number",step:"0.01",placeholder:"Enter cash amount",value:p,onChange:a=>q(a.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-4 rounded-lg text-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),parseFloat(p)>0&&(0,b.jsx)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:(0,b.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,b.jsx)("span",{children:"Change Due:"}),(0,b.jsxs)("span",{className:"font-bold text-yellow-400",children:["$",Math.max(0,(parseFloat(p)||0)-a.total).toFixed(2)]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"split-payment",checked:t,onChange:a=>u(a.target.checked),className:"w-5 h-5 rounded text-primary focus:ring-primary"}),(0,b.jsx)("label",{htmlFor:"split-payment",className:"text-gray-300",children:"Split Payment"})]})]}),(0,b.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 p-6",children:(0,b.jsx)("button",{onClick:w,disabled:!i||r||"cash"===i.type&&parseFloat(p)<a.total,className:"w-full bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-semibold py-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.default,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H.default,{className:"h-5 w-5"}),"Complete Payment $",a.total.toFixed(2)]})})})]}),(0,b.jsxs)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),(0,b.jsx)("div",{className:"space-y-3 mb-6",children:a.items.map(a=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-gray-400",children:[a.quantity,"x"]})," ",a.menuItem.name]}),(0,b.jsxs)("span",{children:["$",a.subtotal.toFixed(2)]})]},a.id))}),(0,b.jsxs)("div",{className:"border-t border-gray-700 pt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,b.jsxs)("span",{children:["$",a.subtotal.toFixed(2)]})]}),a.discount&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-green-400",children:"Discount"}),(0,b.jsxs)("span",{className:"text-green-400",children:["-$",a.discount.appliedAmount?.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Tax"}),(0,b.jsxs)("span",{children:["$",a.tax.toFixed(2)]})]}),k>0&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Tip"}),(0,b.jsxs)("span",{children:["$",k.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xl font-bold pt-4 border-t border-gray-600",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-green-400",children:["$",a.total.toFixed(2)]})]})]})]})]})}var K=a.i(50537),L=a.i(39355),M=a.i(16688),N=a.i(45700),O=a.i(45743);function P({onClose:a,onSelectCustomer:d}){let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[l,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({firstName:"",lastName:"",phone:"",email:""});(0,c.useEffect)(()=>{e.length>=2?q():h([])},[e]);let q=async()=>{j(!0);try{let a=await k(e);h(a)}catch(a){console.error("Search failed:",a)}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Customer Lookup"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(r.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,b.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(K.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"Search by name, phone, or email...",className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),i&&(0,b.jsx)(I.default,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 animate-spin"})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:l?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"New Customer"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),(0,b.jsx)("input",{type:"text",value:o.firstName,onChange:a=>p({...o,firstName:a.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name"}),(0,b.jsx)("input",{type:"text",value:o.lastName,onChange:a=>p({...o,lastName:a.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:o.phone,onChange:a=>p({...o,phone:a.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:o.email,onChange:a=>p({...o,email:a.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>n(!1),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!o.firstName||!o.phone)return void alert("Please enter at least first name and phone number");d({id:`cust-${Date.now()}`,firstName:o.firstName,lastName:o.lastName,phone:o.phone,email:o.email||void 0,loyaltyPoints:0,totalOrders:0,totalSpent:0,createdAt:new Date})},className:"flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-lg transition-colors",children:"Create Customer"})]})]}):(0,b.jsx)(b.Fragment,{children:g.length>0?(0,b.jsx)("div",{className:"space-y-3",children:g.map(a=>(0,b.jsx)("button",{onClick:()=>d(a),className:"w-full bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(L.default,{className:"h-4 w-4 text-gray-400"}),(0,b.jsxs)("span",{className:"font-medium text-white",children:[a.firstName," ",a.lastName]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(M.default,{className:"h-3 w-3"}),a.phone]}),a.email&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(N.default,{className:"h-3 w-3"}),a.email]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[void 0!==a.loyaltyPoints&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400 mb-1",children:[(0,b.jsx)(F.default,{className:"h-4 w-4"}),(0,b.jsxs)("span",{className:"text-sm",children:[a.loyaltyPoints," pts"]})]}),void 0!==a.totalOrders&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,b.jsx)(O.default,{className:"h-3 w-3"}),(0,b.jsxs)("span",{className:"text-xs",children:[a.totalOrders," orders"]})]})]})]})},a.id))}):e.length>=2&&!i?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(L.default,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"No customers found"}),(0,b.jsxs)("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(m.default,{className:"h-4 w-4"}),"Add New Customer"]})]}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(K.default,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Start typing to search for customers"})]})})}),!l&&(0,b.jsx)("div",{className:"p-6 border-t border-gray-700",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>d({id:"guest",firstName:"Guest",lastName:"Customer",phone:"",createdAt:new Date}),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Continue as Guest"}),(0,b.jsxs)("button",{onClick:()=>n(!0),className:"flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(m.default,{className:"h-4 w-4"}),"New Customer"]})]})})]})})}var Q=a.i(35718),R=a.i(53405);function S({onClose:a,onApplyDiscount:d,currentSubtotal:e}){let[f,g]=(0,c.useState)("percentage"),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),n=[{code:"WELCOME10",type:"percentage",value:10,description:"New customer discount"},{code:"LUNCH15",type:"percentage",value:15,description:"Lunch special"},{code:"BIRTHDAY",type:"fixed",value:20,description:"Birthday celebration"}],o=()=>{let a=parseFloat(h)||0;return"percentage"===f?Math.min(e,a/100*e):Math.min(e,a)};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Apply Discount"}),(0,b.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(r.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Quick Discounts"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{label:"5%",type:"percentage",value:5},{label:"10%",type:"percentage",value:10},{label:"15%",type:"percentage",value:15},{label:"20%",type:"percentage",value:20},{label:"$5 Off",type:"fixed",value:5},{label:"$10 Off",type:"fixed",value:10}].map((a,c)=>(0,b.jsx)("button",{onClick:()=>{g(a.type),i(a.value.toString()),m(a.value),k("")},className:`py-2 px-3 rounded-lg font-medium transition-colors ${l===a.value&&f===a.type?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:a.label},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Promo Code"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(R.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),placeholder:"Enter promo code",className:"w-full bg-gray-700 text-white pl-10 pr-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary uppercase"})]}),(0,b.jsx)("button",{onClick:()=>{let a=n.find(a=>a.code===j.toUpperCase());a?(g(a.type),i(a.value.toString()),m(null)):alert("Invalid promo code")},className:"px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Apply"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Try: WELCOME10, LUNCH15, BIRTHDAY"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Custom Discount"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsxs)("button",{onClick:()=>g("percentage"),className:`flex-1 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${"percentage"===f?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[(0,b.jsx)(Q.default,{className:"h-4 w-4"}),"Percentage"]}),(0,b.jsxs)("button",{onClick:()=>g("fixed"),className:`flex-1 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${"fixed"===f?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[(0,b.jsx)(G.default,{className:"h-4 w-4"}),"Fixed Amount"]})]}),(0,b.jsxs)("div",{className:"relative",children:["percentage"===f?(0,b.jsx)(Q.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}):(0,b.jsx)(G.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,b.jsx)("input",{type:"number",step:"percentage"===f?"1":"0.01",value:h,onChange:a=>{i(a.target.value),m(null),k("")},placeholder:"percentage"===f?"Enter percentage":"Enter amount",className:"w-full bg-gray-700 text-white pl-10 pr-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),h&&(0,b.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Current Subtotal"}),(0,b.jsxs)("span",{className:"text-white",children:["$",e.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-green-400",children:"Discount Amount"}),(0,b.jsxs)("span",{className:"text-green-400",children:["-$",o().toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-600",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:"After Discount"}),(0,b.jsxs)("span",{className:"font-medium text-white",children:["$",(e-o()).toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:a,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{let a=parseFloat(h);if(!a||a<=0)return void alert("Please enter a valid discount amount");d({id:`disc-${Date.now()}`,type:f,value:a,code:j||void 0,description:j?n.find(a=>a.code===j)?.description:`${"percentage"===f?`${a}%`:`$${a}`} discount`,appliedAmount:o()})},disabled:!h||0>=parseFloat(h),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(E,{className:"h-4 w-4"}),"Apply Discount"]})]})]})]})})}var T=a.i(10496);function U({menuItem:a,onClose:d,onConfirm:e}){let[f,g]=(0,c.useState)(new Map),[h,i]=(0,c.useState)(""),j=(a,b)=>(f.get(a)||[]).some(a=>a.id===b),k=()=>{if(!a.modifiers)return!0;for(let b of a.modifiers)if("required"===b.type){let a=f.get(b.id)||[],c=b.minSelections||1;if(a.length<c)return!1}return!0},l=()=>{let b=a.price;return f.forEach((a,c)=>{a.forEach(a=>{b+=a.price})}),b};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:a.name}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:a.description})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(r.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.modifiers?.map(a=>{let c=f.get(a.id)||[],d=a.minSelections||0,e=a.maxSelections||a.options?.length||999;return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"font-medium text-white",children:[a.name,"required"===a.type&&(0,b.jsx)("span",{className:"ml-2 text-xs text-red-400",children:"Required"})]}),(d>0||e<999)&&(0,b.jsx)("span",{className:"text-sm text-gray-400",children:d>0&&1===e?"Select 1":d>0&&e>1?`Select ${d}-${e}`:1===e?"Select up to 1":`Select up to ${e}`})]}),(0,b.jsx)("div",{className:"space-y-2",children:a.options?.map(c=>(0,b.jsxs)("button",{onClick:()=>((a,b,c,d,e)=>{let h,i=f.get(a)||[];if(i.find(a=>a.id===b.id))h=i.filter(a=>a.id!==b.id);else if(1===e)h=[b];else{if(e&&i.length>=e)return;h=[...i,b]}let j=new Map(f);0===h.length?j.delete(a):j.set(a,h),g(j)})(a.id,c,a.type,0,e),disabled:!c.available,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${j(a.id,c.id)?"bg-primary/20 border-2 border-primary":"bg-gray-700 hover:bg-gray-600 border-2 border-transparent"} ${!c.available?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${j(a.id,c.id)?"border-primary bg-primary":"border-gray-400"}`,children:j(a.id,c.id)&&(0,b.jsx)(H.default,{className:"h-3 w-3 text-white"})}),(0,b.jsx)("span",{className:"text-white",children:c.name}),!c.available&&(0,b.jsx)("span",{className:"text-xs text-red-400",children:"Unavailable"})]}),c.price>0&&(0,b.jsxs)("span",{className:"text-green-400",children:["+$",c.price.toFixed(2)]})]},c.id))}),"required"===a.type&&c.length<d&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[(0,b.jsx)(T.default,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Please make a selection"})]})]},a.id)}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:"Special Instructions"}),(0,b.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),placeholder:"Add any special requests or dietary needs...",className:"w-full bg-gray-700 text-white p-3 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",rows:3})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-700 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Item Total"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-green-400",children:["$",l().toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{if(!k())return void alert("Please make all required selections");let b=[];f.forEach((c,d)=>{let e=a.modifiers?.find(a=>a.id===d);e&&b.push({modifierId:d,modifierName:e.name,selectedOptions:c,totalPrice:c.reduce((a,b)=>a+b.price,0)})}),e(b)},disabled:!k(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white py-3 rounded-lg transition-colors font-semibold",children:["Add to Cart - $",l().toFixed(2)]})]})]})]})})}let V=(0,u.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var W=a.i(52839),X=a.i(69404),Y=a.i(76514);let Z=(0,u.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),$=(0,u.default)("cloud-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);function _(){let[a,d]=(0,c.useState)(!0),[e,f]=(0,c.useState)(0),[g,h]=(0,c.useState)(new Date);return((0,c.useEffect)(()=>{let a=()=>{d(navigator.onLine)};a(),window.addEventListener("online",a),window.addEventListener("offline",a);let b=setInterval(()=>{navigator.onLine?e>0&&(f(0),h(new Date)):f(a=>a+1)},5e3);return()=>{window.removeEventListener("online",a),window.removeEventListener("offline",a),clearInterval(b)}},[e]),a&&0===e)?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 rounded-lg",children:[(0,b.jsx)(Z,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{className:"text-sm text-green-500",children:"Online"})]}):a?e>0?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500/10 rounded-lg",children:[(0,b.jsx)($,{className:"h-4 w-4 text-blue-500 animate-spin"}),(0,b.jsxs)("span",{className:"text-sm text-blue-500",children:["Syncing... (",e,")"]})]}):null:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-500/10 rounded-lg animate-pulse",children:[(0,b.jsx)(Y.default,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm text-yellow-500 font-medium",children:"Offline Mode"}),e>0&&(0,b.jsxs)("span",{className:"text-xs text-yellow-400",children:[e," pending transactions"]})]})]})}let aa=new class{db=null;async init(){return new Promise((a,b)=>{let c=indexedDB.open("POSOfflineDB",1);c.onerror=()=>b(c.error),c.onsuccess=()=>{this.db=c.result,a()},c.onupgradeneeded=a=>{let b=a.target.result;if(!b.objectStoreNames.contains("transactions")){let a=b.createObjectStore("transactions",{keyPath:"id"});a.createIndex("synced","synced",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}if(b.objectStoreNames.contains("carts")||b.createObjectStore("carts",{keyPath:"id"}),!b.objectStoreNames.contains("customers")){let a=b.createObjectStore("customers",{keyPath:"id"});a.createIndex("phone","phone",{unique:!1}),a.createIndex("email","email",{unique:!1})}b.objectStoreNames.contains("sessions")||b.createObjectStore("sessions",{keyPath:"id"}),b.objectStoreNames.contains("menu_cache")||b.createObjectStore("menu_cache",{keyPath:"id"})}})}async saveTransaction(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["transactions"],"readwrite").objectStore("transactions").add(a);d.onsuccess=()=>b(),d.onerror=()=>c(d.error)})}async getUnsyncedTransactions(){return this.db||await this.init(),new Promise((a,b)=>{let c=this.db.transaction(["transactions"],"readonly").objectStore("transactions").index("synced").getAll(!1);c.onsuccess=()=>a(c.result),c.onerror=()=>b(c.error)})}async markTransactionSynced(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["transactions"],"readwrite").objectStore("transactions"),e=d.get(a);e.onsuccess=()=>{let a=e.result;if(a){a.synced=!0;let e=d.put(a);e.onsuccess=()=>b(),e.onerror=()=>c(e.error)}else c(Error("Transaction not found"))},e.onerror=()=>c(e.error)})}async saveCart(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["carts"],"readwrite").objectStore("carts").put(a);d.onsuccess=()=>b(),d.onerror=()=>c(d.error)})}async getCart(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["carts"],"readonly").objectStore("carts").get(a);d.onsuccess=()=>b(d.result||null),d.onerror=()=>c(d.error)})}async saveCustomer(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["customers"],"readwrite").objectStore("customers").put(a);d.onsuccess=()=>b(),d.onerror=()=>c(d.error)})}async searchCustomersOffline(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["customers"],"readonly").objectStore("customers").getAll();d.onsuccess=()=>{b(d.result.filter(b=>{let c=a.toLowerCase();return b.firstName.toLowerCase().includes(c)||b.lastName.toLowerCase().includes(c)||b.phone.includes(c)||b.email&&b.email.toLowerCase().includes(c)}))},d.onerror=()=>c(d.error)})}async cacheMenuData(a){return this.db||await this.init(),new Promise((b,c)=>{let d=this.db.transaction(["menu_cache"],"readwrite").objectStore("menu_cache").put({id:"current_menu",data:a,timestamp:new Date});d.onsuccess=()=>b(),d.onerror=()=>c(d.error)})}async getCachedMenuData(){return this.db||await this.init(),new Promise((a,b)=>{let c=this.db.transaction(["menu_cache"],"readonly").objectStore("menu_cache").get("current_menu");c.onsuccess=()=>{let b=c.result;b&&Date.now()-new Date(b.timestamp).getTime()<864e5?a(b.data):a(null)},c.onerror=()=>b(c.error)})}async clearOldData(){this.db||await this.init();let a=new Date;return a.setDate(a.getDate()-30),new Promise((b,c)=>{let d=this.db.transaction(["transactions"],"readwrite").objectStore("transactions").index("timestamp"),e=IDBKeyRange.upperBound(a),f=d.openCursor(e);f.onsuccess=()=>{let a=f.result;a?(a.value.synced&&a.delete(),a.continue()):b()},f.onerror=()=>c(f.error)})}},ab=new class{syncInterval=null;start(){this.sync(),this.syncInterval=setInterval(()=>{navigator.onLine&&this.sync()},3e4),window.addEventListener("online",()=>{this.sync()})}stop(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async sync(){if(navigator.onLine)try{for(let a of(await aa.getUnsyncedTransactions()))try{await this.sendTransactionToServer(a),await aa.markTransactionSynced(a.id)}catch(b){console.error("Failed to sync transaction:",a.id,b)}await aa.clearOldData()}catch(a){console.error("Sync failed:",a)}}async sendTransactionToServer(a){await new Promise(a=>setTimeout(a,1e3))}};function ac({session:a,onLogout:d}){let[f,g]=(0,c.useState)(i()),[k]=(0,c.useState)(e),[l,m]=(0,c.useState)(k[0]),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(new Date);(0,c.useEffect)(()=>{let a=setInterval(()=>C(new Date),1e3);return aa.init().then(()=>{ab.start()}),()=>{clearInterval(a),ab.stop()}},[]);let D=a=>{if(a.modifiers?.some(a=>"required"===a.type))return void A(a);E(a,[])},E=(a,b)=>{let c=f.items.findIndex(c=>c.menuItem.id===a.id&&JSON.stringify(c.modifiers)===JSON.stringify(b));if(c>=0){let a=[...f.items];a[c].quantity+=1;let b=a[c].menuItem.price*a[c].quantity;a[c].subtotal=b,a[c].total=b*(1+h.taxRate),g(j({...f,items:a},h.taxRate))}else{let c=a.price+b.reduce((a,b)=>a+b.totalPrice,0),d={id:`cart-item-${Date.now()}`,menuItem:a,quantity:1,modifiers:b,subtotal:c,tax:c*h.taxRate,total:c*(1+h.taxRate)};g(j({...f,items:[...f.items,d]},h.taxRate))}},F=a=>{let b=f.items.filter(b=>b.id!==a);g(j({...f,items:b},h.taxRate))};return o?(0,b.jsx)(J,{cart:f,onBack:()=>p(!1),onComplete:a=>{g(i()),p(!1)},onSetTip:a=>{g(j({...f,tip:a},h.taxRate))}}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"POS Terminal"}),(0,b.jsx)("span",{className:"text-gray-400",children:"|"}),(0,b.jsx)("span",{className:"text-gray-400",children:a.employeeName}),(0,b.jsx)("span",{className:"text-gray-400",children:"|"}),(0,b.jsx)("span",{className:"text-gray-400",children:a.terminalId})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(_,{}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(W.default,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-400",children:B.toLocaleTimeString()})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(V,{className:"h-5 w-5 text-red-400"})})]})]})}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-800/50",children:(0,b.jsx)(z,{quickKeys:h.quickKeys,onQuickKey:a=>{if(a.menuItemId){let b=k.flatMap(a=>a.items).find(b=>b.id===a.menuItemId);b&&D(b)}else if("apply_discount"===a.action)v(!0);else if("open_category"===a.action){let b=k.find(b=>b.name===a.label);b&&m(b)}}})}),(0,b.jsx)(y,{categories:k,selectedCategory:l,onSelectCategory:m}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,b.jsx)(n,{items:l.items,onAddItem:D})}),(0,b.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,b.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,b.jsx)(t.default,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Customer"})]}),(0,b.jsxs)("button",{onClick:()=>v(!0),disabled:0===f.items.length,className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 py-3 rounded-lg transition-colors",children:[(0,b.jsx)(Q.default,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Discount"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,b.jsx)(s.default,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Orders"})]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,b.jsx)(X.default,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Reports"})]})]})})]}),(0,b.jsx)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 flex flex-col",children:(0,b.jsx)(x,{cart:f,onUpdateQuantity:(a,b)=>{if(b<=0)return void F(a);let c=f.items.map(c=>{if(c.id===a){let a=(c.menuItem.price+c.modifiers.reduce((a,b)=>a+b.totalPrice,0))*b;return{...c,quantity:b,subtotal:a,tax:a*h.taxRate,total:a*(1+h.taxRate)}}return c});g(j({...f,items:c},h.taxRate))},onRemoveItem:F,onClearCart:()=>{g(i())},onCheckout:()=>p(!0),onSetOrderType:a=>{g({...f,orderType:a})}})}),q&&(0,b.jsx)(P,{onClose:()=>r(!1),onSelectCustomer:a=>{g({...f,customerId:a.id}),r(!1)}}),u&&(0,b.jsx)(S,{onClose:()=>v(!1),onApplyDiscount:a=>{g(j({...f,discount:a},h.taxRate)),v(!1)},currentSubtotal:f.subtotal}),w&&(0,b.jsx)(U,{menuItem:w,onClose:()=>A(null),onConfirm:a=>{E(w,a),A(null)}})]})}let ad=(0,u.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var ae=a.i(88424);function af({onLogin:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),j=a=>{f.length<4&&g(f+a)};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-2xl shadow-2xl p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary/20 rounded-full mb-4",children:(0,b.jsx)(ad,{className:"h-10 w-10 text-primary"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"POS Terminal"}),(0,b.jsx)("p",{className:"text-gray-400 mt-2",children:"Sign in to continue"})]}),h&&(0,b.jsx)("div",{className:"mb-6 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,b.jsx)("p",{className:"text-red-400 text-sm text-center",children:h})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Employee ID"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(L.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter your ID"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"PIN Code"}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(ae.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,b.jsx)("input",{type:"password",value:f,readOnly:!0,className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",placeholder:""})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(a=>(0,b.jsx)("button",{onClick:()=>j(a.toString()),className:"bg-gray-700 hover:bg-gray-600 text-white text-xl font-semibold py-4 rounded-lg transition-colors",children:a},a)),(0,b.jsx)("button",{onClick:()=>{g(""),i("")},className:"bg-gray-700 hover:bg-gray-600 text-gray-400 py-4 rounded-lg transition-colors text-sm",children:"Clear"}),(0,b.jsx)("button",{onClick:()=>j("0"),className:"bg-gray-700 hover:bg-gray-600 text-white text-xl font-semibold py-4 rounded-lg transition-colors",children:"0"}),(0,b.jsx)("button",{onClick:()=>{g(f.slice(0,-1))},className:"bg-gray-700 hover:bg-gray-600 text-gray-400 py-4 rounded-lg transition-colors",children:""})]})]}),(0,b.jsx)("button",{onClick:()=>d?4!==f.length?void i("PIN must be 4 digits"):void("1234"===f?a(d,"001"===d?"John Manager":"002"===d?"Jane Server":"Employee"):(i("Invalid PIN"),g(""))):void i("Please enter Employee ID"),disabled:!d||4!==f.length,className:"w-full bg-primary hover:bg-primary/90 disabled:bg-gray-700 disabled:text-gray-500 text-white font-semibold py-4 rounded-lg transition-colors",children:"Sign In"})]}),(0,b.jsxs)("div",{className:"mt-6 text-center text-gray-500 text-sm",children:[(0,b.jsx)("p",{children:"Demo PIN: 1234"}),(0,b.jsx)("p",{children:"Employee IDs: 001 (Manager), 002 (Server)"})]})]})})})}function ag(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let a=localStorage.getItem("pos_session");a&&d(JSON.parse(a)),f(!1)},[]),e)?(0,b.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-white text-xl",children:"Loading POS Terminal..."})}):a?(0,b.jsx)(ac,{session:a,onLogout:()=>{d(null),localStorage.removeItem("pos_session")}}):(0,b.jsx)(af,{onLogin:(a,b)=>{let c={id:`session-${Date.now()}`,terminalId:"pos-001",employeeId:a,employeeName:b,startTime:new Date,status:"active",openingBalance:200,currentBalance:200,expectedBalance:200,salesCount:0,refundsCount:0,voidCount:0};d(c),localStorage.setItem("pos_session",JSON.stringify(c))}})}}];

//# sourceMappingURL=app_pos_page_tsx_21241096._.js.map