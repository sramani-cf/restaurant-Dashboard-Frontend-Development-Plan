{"version":3,"sources":["turbopack:///[project]/components/menu/menu-management-client.tsx","turbopack:///[project]/lib/menu/utils.ts","turbopack:///[project]/components/menu/menu-tree-navigator.tsx","turbopack:///[project]/components/menu/menu-items-table.tsx","turbopack:///[project]/components/menu/modifier-group-editor.tsx","turbopack:///[project]/components/menu/pricing-strategy-editor.tsx","turbopack:///[project]/components/menu/channel-visibility-editor.tsx","turbopack:///[project]/components/menu/menu-item-editor.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/grip-vertical.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/copy.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/upload.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-x.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/folder.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/folder-open.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/eye-off.ts","turbopack:///[project]/lib/menu/data.ts"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect, useMemo, useTransition } from 'react';\nimport { \n  Plus, \n  RefreshCw, \n  Filter, \n  Search,\n  Settings,\n  Download,\n  Upload\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert } from '@/components/ui/alert';\nimport { MenuTreeNavigator } from './menu-tree-navigator';\nimport { MenuItemsTable } from './menu-items-table';\nimport { MenuItemEditor } from './menu-item-editor';\nimport { \n  Menu, \n  MenuItem, \n  MenuGroup,\n  MenuTreeNode, \n  SalesChannel, \n  Allergen, \n  MenuFilters,\n  CreateMenuItem,\n  UpdateMenuItem\n} from '@/lib/menu/types';\nimport { \n  buildMenuTree, \n  filterMenuItems, \n  isItemAvailable \n} from '@/lib/menu/utils';\nimport {\n  getMenuItems,\n  getMenus,\n  createMenuItem as createMenuItemData,\n  updateMenuItem as updateMenuItemData,\n  deleteMenuItem as deleteMenuItemData,\n  bulkUpdateItems,\n  bulkDeleteItems,\n} from '@/lib/menu/data';\n\ninterface MenuManagementClientProps {\n  initialMenus: Menu[];\n  availableChannels: SalesChannel[];\n  availableAllergens: Allergen[];\n}\n\nexport function MenuManagementClient({\n  initialMenus,\n  availableChannels,\n  availableAllergens,\n}: MenuManagementClientProps) {\n  // State\n  const [menus, setMenus] = useState<Menu[]>(initialMenus);\n  const [menuItems, setMenuItems] = useState<MenuItem[]>([]);\n  const [selectedNode, setSelectedNode] = useState<MenuTreeNode | null>(null);\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [expandedNodes, setExpandedNodes] = useState<string[]>(\n    initialMenus.map(menu => menu.id)\n  );\n  const [filters, setFilters] = useState<MenuFilters>({});\n  const [currentChannel, setCurrentChannel] = useState<string>('dine-in');\n  const [showItemEditor, setShowItemEditor] = useState(false);\n  const [editingItem, setEditingItem] = useState<MenuItem | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [isPending, startTransition] = useTransition();\n\n  // Build tree structure\n  const menuTree = useMemo(() => buildMenuTree(menus), [menus]);\n\n  // Get available menu groups for dropdown\n  const availableGroups = useMemo(() => {\n    const groups: { id: string; name: string; menuId: string }[] = [];\n    \n    const collectGroups = (menuGroups: MenuGroup[], menuId: string) => {\n      menuGroups.forEach(group => {\n        groups.push({ id: group.id, name: group.name, menuId });\n        collectGroups(group.subGroups, menuId);\n      });\n    };\n    \n    menus.forEach(menu => {\n      collectGroups(menu.groups, menu.id);\n    });\n    \n    return groups;\n  }, [menus]);\n\n  // Fetch menu items based on current selection and filters\n  const fetchMenuItems = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const params: any = {\n        page: 1,\n        limit: 100,\n        filters,\n      };\n      \n      if (selectedNode) {\n        if (selectedNode.type === 'menu') {\n          params.menuId = selectedNode.id;\n        } else if (selectedNode.type === 'group') {\n          params.groupId = selectedNode.id;\n        }\n      }\n      \n      const result = await getMenuItems(params);\n      setMenuItems(result.data);\n    } catch (error) {\n      console.error('Failed to fetch menu items:', error);\n      setError('Failed to load menu items. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedNode, filters]);\n\n  // Fetch menu items when selection or filters change\n  useEffect(() => {\n    fetchMenuItems();\n  }, [fetchMenuItems]);\n\n  // Handle node selection in tree\n  const handleNodeSelect = useCallback((node: MenuTreeNode) => {\n    setSelectedNode(node);\n    setSelectedItems([]);\n  }, []);\n\n  // Handle node expansion in tree\n  const handleNodeExpand = useCallback((id: string, expanded: boolean) => {\n    setExpandedNodes(prev => \n      expanded \n        ? [...prev, id]\n        : prev.filter(nodeId => nodeId !== id)\n    );\n  }, []);\n\n  // Handle creating new items\n  const handleCreateItem = useCallback(() => {\n    setEditingItem(null);\n    setShowItemEditor(true);\n  }, []);\n\n  // Handle editing item\n  const handleEditItem = useCallback((item: MenuItem) => {\n    setEditingItem(item);\n    setShowItemEditor(true);\n  }, []);\n\n  // Handle item click\n  const handleItemClick = useCallback((item: MenuItem) => {\n    handleEditItem(item);\n  }, [handleEditItem]);\n\n  // Handle copying item\n  const handleCopyItem = useCallback((item: MenuItem) => {\n    const copiedItem = {\n      ...item,\n      name: `${item.name} (Copy)`,\n      id: undefined, // Will be generated\n      createdAt: undefined,\n      updatedAt: undefined,\n    };\n    setEditingItem(copiedItem as any);\n    setShowItemEditor(true);\n  }, []);\n\n  // Handle deleting item\n  const handleDeleteItem = useCallback(async (item: MenuItem) => {\n    if (!window.confirm(`Are you sure you want to delete \"${item.name}\"?`)) {\n      return;\n    }\n\n    try {\n      await deleteMenuItemData(item.id);\n      await fetchMenuItems();\n    } catch (error) {\n      console.error('Failed to delete item:', error);\n      setError('Failed to delete item. Please try again.');\n    }\n  }, [fetchMenuItems]);\n\n  // Handle toggling item visibility\n  const handleToggleItemVisibility = useCallback(async (item: MenuItem) => {\n    try {\n      await updateMenuItemData(item.id, { isActive: !item.isActive });\n      await fetchMenuItems();\n    } catch (error) {\n      console.error('Failed to update item visibility:', error);\n      setError('Failed to update item visibility. Please try again.');\n    }\n  }, [fetchMenuItems]);\n\n  // Handle saving item\n  const handleSaveItem = useCallback(async (data: CreateMenuItem | UpdateMenuItem) => {\n    try {\n      if (editingItem) {\n        // Update existing item\n        await updateMenuItemData(editingItem.id, data as UpdateMenuItem);\n      } else {\n        // Create new item\n        await createMenuItemData(data as CreateMenuItem);\n      }\n      \n      setShowItemEditor(false);\n      setEditingItem(null);\n      await fetchMenuItems();\n    } catch (error) {\n      console.error('Failed to save item:', error);\n      throw new Error('Failed to save item. Please try again.');\n    }\n  }, [editingItem, fetchMenuItems]);\n\n  // Handle selection change\n  const handleSelectionChange = useCallback((selectedIds: string[]) => {\n    setSelectedItems(selectedIds);\n  }, []);\n\n  // Handle bulk actions\n  const handleBulkShow = useCallback(async () => {\n    if (selectedItems.length === 0) return;\n    \n    try {\n      await bulkUpdateItems(selectedItems, { isActive: true });\n      await fetchMenuItems();\n      setSelectedItems([]);\n    } catch (error) {\n      console.error('Failed to bulk update items:', error);\n      setError('Failed to update items. Please try again.');\n    }\n  }, [selectedItems, fetchMenuItems]);\n\n  const handleBulkHide = useCallback(async () => {\n    if (selectedItems.length === 0) return;\n    \n    try {\n      await bulkUpdateItems(selectedItems, { isActive: false });\n      await fetchMenuItems();\n      setSelectedItems([]);\n    } catch (error) {\n      console.error('Failed to bulk update items:', error);\n      setError('Failed to update items. Please try again.');\n    }\n  }, [selectedItems, fetchMenuItems]);\n\n  const handleBulkDelete = useCallback(async () => {\n    if (selectedItems.length === 0) return;\n    \n    const confirmed = window.confirm(\n      `Are you sure you want to delete ${selectedItems.length} item${selectedItems.length !== 1 ? 's' : ''}?`\n    );\n    \n    if (!confirmed) return;\n    \n    try {\n      await bulkDeleteItems(selectedItems);\n      await fetchMenuItems();\n      setSelectedItems([]);\n    } catch (error) {\n      console.error('Failed to bulk delete items:', error);\n      setError('Failed to delete items. Please try again.');\n    }\n  }, [selectedItems, fetchMenuItems]);\n\n  // Handle refresh\n  const handleRefresh = useCallback(async () => {\n    setLoading(true);\n    try {\n      const [menusResult] = await Promise.all([\n        getMenus({ page: 1, limit: 50 }),\n        fetchMenuItems(),\n      ]);\n      setMenus(menusResult.data);\n    } catch (error) {\n      console.error('Failed to refresh data:', error);\n      setError('Failed to refresh data. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  }, [fetchMenuItems]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Error Alert */}\n      {error && (\n        <Alert variant=\"destructive\">\n          <div className=\"flex items-center justify-between\">\n            <span>{error}</span>\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              onClick={() => setError(null)}\n            >\n              Dismiss\n            </Button>\n          </div>\n        </Alert>\n      )}\n\n      {/* Top Controls */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          {/* Channel Selector */}\n          <div className=\"flex items-center space-x-2\">\n            <label className=\"text-sm font-medium\">Channel:</label>\n            <select\n              value={currentChannel}\n              onChange={(e) => setCurrentChannel(e.target.value)}\n              className=\"px-3 py-1 border border-gray-300 rounded-md text-sm\"\n            >\n              {availableChannels.map((channel) => (\n                <option key={channel.id} value={channel.id}>\n                  {channel.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Active Filters */}\n          {Object.keys(filters).length > 0 && (\n            <div className=\"flex items-center space-x-2\">\n              <Badge variant=\"secondary\">\n                {Object.keys(filters).length} filter{Object.keys(filters).length !== 1 ? 's' : ''}\n              </Badge>\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                onClick={() => setFilters({})}\n              >\n                Clear\n              </Button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center space-x-2\">\n          {/* Bulk Actions */}\n          {selectedItems.length > 0 && (\n            <>\n              <Badge variant=\"secondary\">\n                {selectedItems.length} selected\n              </Badge>\n              <Button size=\"sm\" variant=\"outline\" onClick={handleBulkShow}>\n                Show\n              </Button>\n              <Button size=\"sm\" variant=\"outline\" onClick={handleBulkHide}>\n                Hide\n              </Button>\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"text-red-600\"\n                onClick={handleBulkDelete}\n              >\n                Delete\n              </Button>\n            </>\n          )}\n\n          <Button size=\"sm\" variant=\"outline\" onClick={handleRefresh}>\n            <RefreshCw className=\"h-4 w-4 mr-2\" />\n            Refresh\n          </Button>\n\n          <Button size=\"sm\" onClick={handleCreateItem}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Item\n          </Button>\n        </div>\n      </div>\n\n      {/* Main Layout */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        {/* Tree Navigator */}\n        <div className=\"lg:col-span-1\">\n          <MenuTreeNavigator\n            data={menuTree}\n            selectedId={selectedNode?.id}\n            expandedIds={expandedNodes}\n            onSelect={handleNodeSelect}\n            onExpand={handleNodeExpand}\n            searchable\n            showActions\n            className=\"sticky top-6\"\n          />\n        </div>\n\n        {/* Items Table */}\n        <div className=\"lg:col-span-3\">\n          <MenuItemsTable\n            data={menuItems}\n            loading={loading}\n            selectedIds={selectedItems}\n            filters={filters}\n            onItemClick={handleItemClick}\n            onEdit={handleEditItem}\n            onCopy={handleCopyItem}\n            onDelete={handleDeleteItem}\n            onToggleVisibility={handleToggleItemVisibility}\n            onSelectionChange={handleSelectionChange}\n            onFiltersChange={setFilters}\n            onCreate={handleCreateItem}\n            channel={currentChannel}\n            showBulkActions\n          />\n        </div>\n      </div>\n\n      {/* Item Editor */}\n      <MenuItemEditor\n        item={editingItem}\n        isOpen={showItemEditor}\n        onClose={() => {\n          setShowItemEditor(false);\n          setEditingItem(null);\n        }}\n        onSave={handleSaveItem}\n        availableChannels={availableChannels}\n        availableAllergens={availableAllergens}\n        availableGroups={availableGroups}\n        loading={isPending}\n      />\n    </div>\n  );\n}","import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\nimport { \n  Menu, \n  MenuGroup, \n  MenuItem, \n  MenuTreeNode, \n  ModifierGroup, \n  ModifierOption,\n  PricingStrategy,\n  ChannelVisibility,\n  MenuFilters,\n  DragItem,\n  DropResult \n} from './types';\n\n// Utility function for merging class names\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Price calculation utilities\nexport function calculateItemPrice(\n  item: MenuItem,\n  channel?: string,\n  date?: Date,\n  location?: string\n): number {\n  let effectivePrice = item.basePrice;\n  \n  // Find applicable pricing strategies\n  const applicableStrategies = item.pricingStrategies\n    .filter(strategy => isPricingStrategyApplicable(strategy, channel, date, location))\n    .sort((a, b) => b.priority - a.priority); // Higher priority first\n  \n  // Apply the highest priority strategy\n  if (applicableStrategies.length > 0) {\n    const strategy = applicableStrategies[0];\n    const strategyPrice = strategy.prices.find(p => \n      (!p.validFrom || new Date(p.validFrom) <= (date || new Date())) &&\n      (!p.validTo || new Date(p.validTo) >= (date || new Date()))\n    );\n    \n    if (strategyPrice) {\n      effectivePrice = strategyPrice.amount;\n    }\n  }\n  \n  return effectivePrice;\n}\n\nexport function calculateModifierPrice(\n  option: ModifierOption,\n  channel?: string,\n  date?: Date,\n  location?: string\n): number {\n  let effectivePrice = option.price;\n  \n  const applicableStrategies = option.pricingStrategies\n    .filter(strategy => isPricingStrategyApplicable(strategy, channel, date, location))\n    .sort((a, b) => b.priority - a.priority);\n  \n  if (applicableStrategies.length > 0) {\n    const strategy = applicableStrategies[0];\n    const strategyPrice = strategy.prices.find(p => \n      (!p.validFrom || new Date(p.validFrom) <= (date || new Date())) &&\n      (!p.validTo || new Date(p.validTo) >= (date || new Date()))\n    );\n    \n    if (strategyPrice) {\n      effectivePrice = strategyPrice.amount;\n    }\n  }\n  \n  return effectivePrice;\n}\n\nfunction isPricingStrategyApplicable(\n  strategy: PricingStrategy,\n  channel?: string,\n  date?: Date,\n  location?: string\n): boolean {\n  const currentDate = date || new Date();\n  const currentDay = currentDate.getDay();\n  const currentTime = currentDate.getHours() * 60 + currentDate.getMinutes();\n  \n  switch (strategy.type) {\n    case 'base':\n      return true;\n      \n    case 'time_based':\n      if (strategy.conditions?.startTime && strategy.conditions?.endTime) {\n        const startTime = parseTimeString(strategy.conditions.startTime);\n        const endTime = parseTimeString(strategy.conditions.endTime);\n        return currentTime >= startTime && currentTime <= endTime;\n      }\n      return true;\n      \n    case 'day_of_week':\n      if (strategy.conditions?.daysOfWeek) {\n        return strategy.conditions.daysOfWeek.includes(currentDay);\n      }\n      return true;\n      \n    case 'location_based':\n      if (strategy.conditions?.locationIds && location) {\n        return strategy.conditions.locationIds.includes(location);\n      }\n      return true;\n      \n    case 'menu_specific':\n      if (strategy.conditions?.channelId && channel) {\n        return strategy.conditions.channelId === channel;\n      }\n      return true;\n      \n    default:\n      return true;\n  }\n}\n\nfunction parseTimeString(timeStr: string): number {\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  return hours * 60 + minutes;\n}\n\n// Availability utilities\nexport function isItemAvailable(\n  item: MenuItem,\n  channel?: string,\n  date?: Date\n): boolean {\n  if (!item.isActive || !item.isAvailable) {\n    return false;\n  }\n  \n  const currentDate = date || new Date();\n  \n  // Check channel visibility\n  if (channel) {\n    const channelConfig = item.channelVisibility.find(cv => cv.channelId === channel);\n    if (channelConfig && !channelConfig.isVisible) {\n      return false;\n    }\n    \n    // Check time-based availability for channel\n    if (channelConfig && (channelConfig.availableFrom || channelConfig.availableTo)) {\n      const currentTime = formatTime(currentDate);\n      if (channelConfig.availableFrom && currentTime < channelConfig.availableFrom) {\n        return false;\n      }\n      if (channelConfig.availableTo && currentTime > channelConfig.availableTo) {\n        return false;\n      }\n    }\n    \n    // Check day-based availability for channel\n    if (channelConfig && channelConfig.daysOfWeek) {\n      const currentDay = currentDate.getDay();\n      if (!channelConfig.daysOfWeek.includes(currentDay)) {\n        return false;\n      }\n    }\n  }\n  \n  // Check inventory\n  if (item.trackInventory && item.stockQuantity !== undefined) {\n    return item.stockQuantity > 0;\n  }\n  \n  return true;\n}\n\nexport function isGroupAvailable(\n  group: MenuGroup,\n  channel?: string,\n  date?: Date\n): boolean {\n  if (!group.isActive) {\n    return false;\n  }\n  \n  const currentDate = date || new Date();\n  \n  // Check time-based availability\n  if (group.availableFrom || group.availableTo) {\n    const currentTime = formatTime(currentDate);\n    if (group.availableFrom && currentTime < group.availableFrom) {\n      return false;\n    }\n    if (group.availableTo && currentTime > group.availableTo) {\n      return false;\n    }\n  }\n  \n  // Check day-based availability\n  if (group.daysOfWeek) {\n    const currentDay = currentDate.getDay();\n    if (!group.daysOfWeek.includes(currentDay)) {\n      return false;\n    }\n  }\n  \n  // Check channel visibility\n  if (channel) {\n    const channelConfig = group.channelVisibility.find(cv => cv.channelId === channel);\n    if (channelConfig && !channelConfig.isVisible) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\nexport function isMenuAvailable(\n  menu: Menu,\n  channel?: string,\n  date?: Date\n): boolean {\n  if (!menu.isActive) {\n    return false;\n  }\n  \n  const currentDate = date || new Date();\n  \n  // Check date range\n  if (menu.validFrom && currentDate < menu.validFrom) {\n    return false;\n  }\n  if (menu.validTo && currentDate > menu.validTo) {\n    return false;\n  }\n  \n  // Check time-based availability\n  if (menu.availableFrom || menu.availableTo) {\n    const currentTime = formatTime(currentDate);\n    if (menu.availableFrom && currentTime < menu.availableFrom) {\n      return false;\n    }\n    if (menu.availableTo && currentTime > menu.availableTo) {\n      return false;\n    }\n  }\n  \n  // Check day-based availability\n  if (menu.daysOfWeek) {\n    const currentDay = currentDate.getDay();\n    if (!menu.daysOfWeek.includes(currentDay)) {\n      return false;\n    }\n  }\n  \n  // Check channel visibility\n  if (channel) {\n    const channelConfig = menu.channelVisibility.find(cv => cv.channelId === channel);\n    if (channelConfig && !channelConfig.isVisible) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\nfunction formatTime(date: Date): string {\n  return date.toTimeString().slice(0, 5); // \"HH:mm\"\n}\n\n// Tree structure utilities\nexport function buildMenuTree(menus: Menu[]): MenuTreeNode[] {\n  return menus.map(menu => ({\n    id: menu.id,\n    type: 'menu' as const,\n    name: menu.name,\n    description: menu.description,\n    isActive: menu.isActive,\n    sortOrder: menu.sortOrder,\n    children: buildGroupTree(menu.groups, menu.id),\n    data: menu\n  })).sort((a, b) => a.sortOrder - b.sortOrder);\n}\n\nfunction buildGroupTree(groups: MenuGroup[], parentId?: string): MenuTreeNode[] {\n  const rootGroups = groups.filter(group => group.parentGroupId === parentId);\n  \n  return rootGroups.map(group => ({\n    id: group.id,\n    type: 'group' as const,\n    name: group.name,\n    description: group.description,\n    isActive: group.isActive,\n    sortOrder: group.sortOrder,\n    parentId,\n    children: [\n      ...buildGroupTree(groups, group.id),\n      ...group.items.map(item => ({\n        id: item.id,\n        type: 'item' as const,\n        name: item.name,\n        description: item.description,\n        isActive: item.isActive,\n        sortOrder: item.sortOrder,\n        parentId: group.id,\n        children: [],\n        data: item\n      }))\n    ].sort((a, b) => a.sortOrder - b.sortOrder),\n    data: group\n  })).sort((a, b) => a.sortOrder - b.sortOrder);\n}\n\nexport function flattenMenuTree(nodes: MenuTreeNode[]): MenuTreeNode[] {\n  const result: MenuTreeNode[] = [];\n  \n  function flatten(nodes: MenuTreeNode[], depth = 0) {\n    nodes.forEach(node => {\n      result.push({ ...node, children: [] });\n      if (node.children.length > 0) {\n        flatten(node.children, depth + 1);\n      }\n    });\n  }\n  \n  flatten(nodes);\n  return result;\n}\n\nexport function findNodeInTree(\n  nodes: MenuTreeNode[], \n  id: string\n): MenuTreeNode | null {\n  for (const node of nodes) {\n    if (node.id === id) {\n      return node;\n    }\n    \n    const found = findNodeInTree(node.children, id);\n    if (found) {\n      return found;\n    }\n  }\n  \n  return null;\n}\n\nexport function getNodePath(\n  nodes: MenuTreeNode[], \n  id: string, \n  path: string[] = []\n): string[] | null {\n  for (const node of nodes) {\n    const currentPath = [...path, node.name];\n    \n    if (node.id === id) {\n      return currentPath;\n    }\n    \n    const foundPath = getNodePath(node.children, id, currentPath);\n    if (foundPath) {\n      return foundPath;\n    }\n  }\n  \n  return null;\n}\n\n// Search and filter utilities\nexport function filterMenuItems(\n  items: MenuItem[], \n  filters: MenuFilters,\n  channel?: string,\n  date?: Date\n): MenuItem[] {\n  return items.filter(item => {\n    // Search filter\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      if (!item.name.toLowerCase().includes(searchTerm) &&\n          !item.description?.toLowerCase().includes(searchTerm) &&\n          !item.tags.some(tag => tag.toLowerCase().includes(searchTerm))) {\n        return false;\n      }\n    }\n    \n    // Menu/Group filter\n    if (filters.menuId && item.menuGroupId) {\n      // This would need to be expanded based on how you store menu relationships\n      // For now, assuming a simple check\n    }\n    \n    // Active filter\n    if (filters.isActive !== undefined && item.isActive !== filters.isActive) {\n      return false;\n    }\n    \n    // Availability filter\n    if (filters.isAvailable !== undefined) {\n      const available = isItemAvailable(item, channel, date);\n      if (available !== filters.isAvailable) {\n        return false;\n      }\n    }\n    \n    // Price range filter\n    if (filters.priceRange) {\n      const price = calculateItemPrice(item, channel, date);\n      if (price < filters.priceRange[0] || price > filters.priceRange[1]) {\n        return false;\n      }\n    }\n    \n    // Allergen filter\n    if (filters.allergens && filters.allergens.length > 0) {\n      const hasAllergen = filters.allergens.some(allergen => \n        item.allergens.includes(allergen)\n      );\n      if (hasAllergen) {\n        return false;\n      }\n    }\n    \n    // Dietary restrictions filter\n    if (filters.dietaryRestrictions && filters.dietaryRestrictions.length > 0) {\n      const hasRestriction = filters.dietaryRestrictions.every(restriction =>\n        item.dietaryRestrictions.includes(restriction)\n      );\n      if (!hasRestriction) {\n        return false;\n      }\n    }\n    \n    // Tags filter\n    if (filters.tags && filters.tags.length > 0) {\n      const hasTag = filters.tags.some(tag => item.tags.includes(tag));\n      if (!hasTag) {\n        return false;\n      }\n    }\n    \n    return true;\n  });\n}\n\n// Sorting utilities\nexport function sortMenuItems(\n  items: MenuItem[], \n  field: string, \n  direction: 'asc' | 'desc' = 'asc',\n  channel?: string,\n  date?: Date\n): MenuItem[] {\n  return [...items].sort((a, b) => {\n    let aValue: any;\n    let bValue: any;\n    \n    switch (field) {\n      case 'name':\n        aValue = a.name.toLowerCase();\n        bValue = b.name.toLowerCase();\n        break;\n      case 'basePrice':\n        aValue = calculateItemPrice(a, channel, date);\n        bValue = calculateItemPrice(b, channel, date);\n        break;\n      case 'sortOrder':\n        aValue = a.sortOrder;\n        bValue = b.sortOrder;\n        break;\n      case 'createdAt':\n        aValue = a.createdAt.getTime();\n        bValue = b.createdAt.getTime();\n        break;\n      case 'updatedAt':\n        aValue = a.updatedAt.getTime();\n        bValue = b.updatedAt.getTime();\n        break;\n      default:\n        aValue = a[field as keyof MenuItem];\n        bValue = b[field as keyof MenuItem];\n    }\n    \n    if (aValue < bValue) {\n      return direction === 'asc' ? -1 : 1;\n    }\n    if (aValue > bValue) {\n      return direction === 'asc' ? 1 : -1;\n    }\n    return 0;\n  });\n}\n\n// Validation utilities\nexport function validateModifierSelections(\n  group: ModifierGroup,\n  selectedOptions: { optionId: string; quantity: number }[]\n): { isValid: boolean; errors: string[] } {\n  const errors: string[] = [];\n  let isValid = true;\n  \n  const totalSelections = selectedOptions.reduce((sum, sel) => sum + sel.quantity, 0);\n  \n  // Check minimum selections\n  if (totalSelections < group.minSelections) {\n    errors.push(`Minimum ${group.minSelections} selection(s) required for ${group.name}`);\n    isValid = false;\n  }\n  \n  // Check maximum selections\n  if (group.maxSelections && totalSelections > group.maxSelections) {\n    errors.push(`Maximum ${group.maxSelections} selection(s) allowed for ${group.name}`);\n    isValid = false;\n  }\n  \n  // Check individual option max quantities\n  selectedOptions.forEach(selection => {\n    const option = group.options.find(opt => opt.id === selection.optionId);\n    if (option && option.maxQuantity && selection.quantity > option.maxQuantity) {\n      errors.push(`Maximum ${option.maxQuantity} of ${option.name} allowed`);\n      isValid = false;\n    }\n  });\n  \n  // Check if required and no selections\n  if (group.isRequired && totalSelections === 0) {\n    errors.push(`${group.name} is required`);\n    isValid = false;\n  }\n  \n  return { isValid, errors };\n}\n\n// Drag and drop utilities\nexport function canDropItem(\n  dragItem: DragItem,\n  targetId: string,\n  position: 'before' | 'after' | 'inside',\n  targetType: 'menu' | 'group' | 'item'\n): boolean {\n  // Prevent dropping on self\n  if (dragItem.id === targetId) {\n    return false;\n  }\n  \n  // Business rules for what can be dropped where\n  switch (dragItem.type) {\n    case 'menu':\n      // Menus can only be reordered with other menus\n      return targetType === 'menu' && position !== 'inside';\n      \n    case 'group':\n      // Groups can be moved to menus or other groups\n      if (targetType === 'menu' && position === 'inside') return true;\n      if (targetType === 'group' && position !== 'inside') return true;\n      return false;\n      \n    case 'item':\n      // Items can be moved to groups or reordered with other items\n      if (targetType === 'group' && position === 'inside') return true;\n      if (targetType === 'item' && position !== 'inside') return true;\n      return false;\n      \n    default:\n      return false;\n  }\n}\n\nexport function calculateDropResult(\n  dragItem: DragItem,\n  targetId: string,\n  position: 'before' | 'after' | 'inside'\n): DropResult {\n  return {\n    draggedId: dragItem.id,\n    targetId,\n    position,\n    type: position === 'inside' ? 'move' : 'reorder'\n  };\n}\n\n// Format utilities\nexport function formatPrice(\n  amount: number, \n  currency = 'USD',\n  locale = 'en-US'\n): string {\n  return new Intl.NumberFormat(locale, {\n    style: 'currency',\n    currency,\n    minimumFractionDigits: 2,\n  }).format(amount);\n}\n\nexport function formatPrepTime(minutes: number): string {\n  if (minutes < 60) {\n    return `${minutes}m`;\n  }\n  \n  const hours = Math.floor(minutes / 60);\n  const remainingMinutes = minutes % 60;\n  \n  if (remainingMinutes === 0) {\n    return `${hours}h`;\n  }\n  \n  return `${hours}h ${remainingMinutes}m`;\n}\n\nexport function formatStockStatus(\n  quantity?: number,\n  threshold?: number\n): { status: 'in_stock' | 'low_stock' | 'out_of_stock'; label: string; variant: 'default' | 'warning' | 'destructive' } {\n  if (quantity === undefined) {\n    return { status: 'in_stock', label: 'Not tracked', variant: 'default' };\n  }\n  \n  if (quantity === 0) {\n    return { status: 'out_of_stock', label: 'Out of stock', variant: 'destructive' };\n  }\n  \n  if (threshold && quantity <= threshold) {\n    return { status: 'low_stock', label: `Low stock (${quantity})`, variant: 'warning' };\n  }\n  \n  return { status: 'in_stock', label: `In stock (${quantity})`, variant: 'default' };\n}\n\n// Helper function to generate unique IDs (you might want to use a more robust solution)\nexport function generateId(): string {\n  return Math.random().toString(36).substr(2, 9);\n}\n\n// Deep clone utility for form state management\nexport function deepClone<T>(obj: T): T {\n  if (obj === null || typeof obj !== 'object') return obj;\n  if (obj instanceof Date) return new Date(obj.getTime()) as any;\n  if (obj instanceof Array) return obj.map(item => deepClone(item)) as any;\n  if (typeof obj === 'object') {\n    const clonedObj: any = {};\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clonedObj[key] = deepClone(obj[key]);\n      }\n    }\n    return clonedObj;\n  }\n  return obj;\n}","'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { \n  ChevronRight, \n  ChevronDown, \n  Menu as MenuIcon, \n  FolderOpen, \n  Folder, \n  FileText,\n  Plus,\n  MoreHorizontal,\n  Eye,\n  EyeOff,\n  Edit,\n  Trash2,\n  GripVertical\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Dropdown } from '@/components/ui/dropdown';\nimport { cn } from '@/lib/menu/utils';\nimport { MenuTreeNode, Menu, MenuGroup, MenuItem, DragItem } from '@/lib/menu/types';\n\ninterface MenuTreeNavigatorProps {\n  data: MenuTreeNode[];\n  selectedId?: string;\n  expandedIds?: string[];\n  onSelect?: (node: MenuTreeNode) => void;\n  onExpand?: (id: string, expanded: boolean) => void;\n  onCreate?: (type: 'menu' | 'group' | 'item', parentId?: string) => void;\n  onEdit?: (node: MenuTreeNode) => void;\n  onDelete?: (node: MenuTreeNode) => void;\n  onToggleVisibility?: (node: MenuTreeNode) => void;\n  onDragStart?: (node: MenuTreeNode) => void;\n  onDragOver?: (node: MenuTreeNode, position: 'before' | 'after' | 'inside') => void;\n  onDrop?: (dragNode: MenuTreeNode, targetNode: MenuTreeNode, position: 'before' | 'after' | 'inside') => void;\n  className?: string;\n  searchable?: boolean;\n  draggable?: boolean;\n  showActions?: boolean;\n}\n\nexport function MenuTreeNavigator({\n  data,\n  selectedId,\n  expandedIds = [],\n  onSelect,\n  onExpand,\n  onCreate,\n  onEdit,\n  onDelete,\n  onToggleVisibility,\n  onDragStart,\n  onDragOver,\n  onDrop,\n  className,\n  searchable = true,\n  draggable = false,\n  showActions = true,\n}: MenuTreeNavigatorProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [draggedNode, setDraggedNode] = useState<MenuTreeNode | null>(null);\n  const [dragOverNode, setDragOverNode] = useState<{ node: MenuTreeNode; position: 'before' | 'after' | 'inside' } | null>(null);\n\n  // Filter nodes based on search term\n  const filteredData = useMemo(() => {\n    if (!searchTerm) return data;\n    \n    const filterNodes = (nodes: MenuTreeNode[]): MenuTreeNode[] => {\n      return nodes.reduce((acc, node) => {\n        const matchesSearch = node.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                            node.description?.toLowerCase().includes(searchTerm.toLowerCase());\n        \n        const filteredChildren = filterNodes(node.children);\n        \n        if (matchesSearch || filteredChildren.length > 0) {\n          acc.push({\n            ...node,\n            children: filteredChildren\n          });\n        }\n        \n        return acc;\n      }, [] as MenuTreeNode[]);\n    };\n    \n    return filterNodes(data);\n  }, [data, searchTerm]);\n\n  const handleExpand = useCallback((id: string) => {\n    const isExpanded = expandedIds.includes(id);\n    onExpand?.(id, !isExpanded);\n  }, [expandedIds, onExpand]);\n\n  const handleDragStart = useCallback((e: React.DragEvent, node: MenuTreeNode) => {\n    if (!draggable) return;\n    \n    setDraggedNode(node);\n    onDragStart?.(node);\n    \n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', node.id);\n  }, [draggable, onDragStart]);\n\n  const handleDragOver = useCallback((e: React.DragEvent, node: MenuTreeNode, position: 'before' | 'after' | 'inside') => {\n    if (!draggable || !draggedNode) return;\n    \n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    \n    setDragOverNode({ node, position });\n    onDragOver?.(node, position);\n  }, [draggable, draggedNode, onDragOver]);\n\n  const handleDrop = useCallback((e: React.DragEvent, node: MenuTreeNode, position: 'before' | 'after' | 'inside') => {\n    if (!draggable || !draggedNode) return;\n    \n    e.preventDefault();\n    \n    setDragOverNode(null);\n    onDrop?.(draggedNode, node, position);\n    setDraggedNode(null);\n  }, [draggable, draggedNode, onDrop]);\n\n  const getNodeIcon = (node: MenuTreeNode, isExpanded: boolean) => {\n    switch (node.type) {\n      case 'menu':\n        return <MenuIcon className=\"h-4 w-4\" />;\n      case 'group':\n        return isExpanded ? <FolderOpen className=\"h-4 w-4\" /> : <Folder className=\"h-4 w-4\" />;\n      case 'item':\n        return <FileText className=\"h-4 w-4\" />;\n      default:\n        return <FileText className=\"h-4 w-4\" />;\n    }\n  };\n\n  const renderNode = (node: MenuTreeNode, depth = 0) => {\n    const isExpanded = expandedIds.includes(node.id);\n    const isSelected = selectedId === node.id;\n    const hasChildren = node.children.length > 0;\n    const isDraggedOver = dragOverNode?.node.id === node.id;\n\n    return (\n      <div key={node.id} className={cn(\"select-none\", isDraggedOver && \"opacity-50\")}>\n        <div\n          className={cn(\n            \"flex items-center group hover:bg-gray-50 rounded px-2 py-1 cursor-pointer\",\n            isSelected && \"bg-blue-50 border-r-2 border-blue-500\",\n            isDraggedOver && \"bg-blue-100\"\n          )}\n          style={{ paddingLeft: `${depth * 16 + 8}px` }}\n          onClick={() => onSelect?.(node)}\n          draggable={draggable}\n          onDragStart={(e) => handleDragStart(e, node)}\n          onDragOver={(e) => handleDragOver(e, node, 'inside')}\n          onDrop={(e) => handleDrop(e, node, 'inside')}\n        >\n          {/* Drag handle */}\n          {draggable && showActions && (\n            <GripVertical className=\"h-3 w-3 text-gray-400 mr-1 opacity-0 group-hover:opacity-100\" />\n          )}\n\n          {/* Expand/collapse button */}\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-4 w-4 p-0 hover:bg-transparent\"\n            onClick={(e) => {\n              e.stopPropagation();\n              handleExpand(node.id);\n            }}\n            disabled={!hasChildren}\n          >\n            {hasChildren ? (\n              isExpanded ? (\n                <ChevronDown className=\"h-3 w-3\" />\n              ) : (\n                <ChevronRight className=\"h-3 w-3\" />\n              )\n            ) : (\n              <div className=\"h-3 w-3\" />\n            )}\n          </Button>\n\n          {/* Node icon */}\n          <div className=\"flex items-center text-gray-500 mr-2\">\n            {getNodeIcon(node, isExpanded)}\n          </div>\n\n          {/* Node name and info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center\">\n              <span className={cn(\n                \"text-sm truncate\",\n                !node.isActive && \"text-gray-400 line-through\"\n              )}>\n                {node.name}\n              </span>\n              {!node.isActive && (\n                <EyeOff className=\"h-3 w-3 text-gray-400 ml-1\" />\n              )}\n            </div>\n            \n            {/* Item-specific info */}\n            {node.type === 'item' && (\n              <div className=\"flex items-center space-x-1 mt-1\">\n                {(node.data as MenuItem).basePrice && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">\n                    ${(node.data as MenuItem).basePrice.toFixed(2)}\n                  </Badge>\n                )}\n                {!(node.data as MenuItem).isAvailable && (\n                  <Badge variant=\"destructive\" className=\"text-xs\">\n                    Unavailable\n                  </Badge>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Actions dropdown */}\n          {showActions && (\n            <div className=\"opacity-0 group-hover:opacity-100\">\n              <Dropdown\n                trigger={\n                  <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                    <MoreHorizontal className=\"h-3 w-3\" />\n                  </Button>\n                }\n                items={[\n                  {\n                    label: 'Edit',\n                    icon: <Edit className=\"h-3 w-3\" />,\n                    onClick: () => onEdit?.(node),\n                  },\n                  {\n                    label: node.isActive ? 'Hide' : 'Show',\n                    icon: node.isActive ? <EyeOff className=\"h-3 w-3\" /> : <Eye className=\"h-3 w-3\" />,\n                    onClick: () => onToggleVisibility?.(node),\n                  },\n                  { type: 'separator' },\n                  ...(node.type !== 'item' ? [\n                    {\n                      label: `Add ${node.type === 'menu' ? 'Group' : 'Item'}`,\n                      icon: <Plus className=\"h-3 w-3\" />,\n                      onClick: () => onCreate?.(node.type === 'menu' ? 'group' : 'item', node.id),\n                    },\n                  ] : []),\n                  { type: 'separator' },\n                  {\n                    label: 'Delete',\n                    icon: <Trash2 className=\"h-3 w-3\" />,\n                    onClick: () => onDelete?.(node),\n                    className: 'text-red-600',\n                  },\n                ]}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Drop zones for before/after positioning */}\n        {draggable && draggedNode && draggedNode.id !== node.id && (\n          <>\n            <div\n              className=\"h-1 bg-blue-500 opacity-0 hover:opacity-100\"\n              style={{ marginLeft: `${depth * 16 + 8}px` }}\n              onDragOver={(e) => handleDragOver(e, node, 'before')}\n              onDrop={(e) => handleDrop(e, node, 'before')}\n            />\n          </>\n        )}\n\n        {/* Children */}\n        {isExpanded && hasChildren && (\n          <div className=\"ml-2\">\n            {node.children.map((child) => renderNode(child, depth + 1))}\n          </div>\n        )}\n\n        {/* Drop zone after */}\n        {draggable && draggedNode && draggedNode.id !== node.id && (\n          <div\n            className=\"h-1 bg-blue-500 opacity-0 hover:opacity-100\"\n            style={{ marginLeft: `${depth * 16 + 8}px` }}\n            onDragOver={(e) => handleDragOver(e, node, 'after')}\n            onDrop={(e) => handleDrop(e, node, 'after')}\n          />\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className={cn(\"bg-white border rounded-lg\", className)}>\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"font-semibold text-lg\">Menu Structure</h3>\n          {showActions && onCreate && (\n            <Button\n              size=\"sm\"\n              onClick={() => onCreate('menu')}\n              className=\"h-8\"\n            >\n              <Plus className=\"h-3 w-3 mr-1\" />\n              Menu\n            </Button>\n          )}\n        </div>\n\n        {/* Search */}\n        {searchable && (\n          <Input\n            placeholder=\"Search menus...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"h-8\"\n          />\n        )}\n      </div>\n\n      {/* Tree */}\n      <div className=\"p-2 max-h-96 overflow-y-auto\">\n        {filteredData.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            {searchTerm ? 'No matching items found' : 'No menus created yet'}\n          </div>\n        ) : (\n          <div className=\"space-y-1\">\n            {filteredData.map((node) => renderNode(node))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","'use client';\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { \n  Edit,\n  Copy,\n  Trash2,\n  Eye,\n  EyeOff,\n  DollarSign,\n  Clock,\n  Tag,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  MoreHorizontal,\n  Plus\n} from 'lucide-react';\nimport { DataTable } from '@/components/ui/data-table';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Dropdown } from '@/components/ui/dropdown';\nimport { MenuItem, MenuFilters, MENU_SORT_OPTIONS } from '@/lib/menu/types';\nimport { \n  formatPrice, \n  formatPrepTime, \n  formatStockStatus,\n  calculateItemPrice,\n  isItemAvailable \n} from '@/lib/menu/utils';\nimport { cn } from '@/lib/menu/utils';\n\ninterface MenuItemsTableProps {\n  data: MenuItem[];\n  loading?: boolean;\n  selectedIds?: string[];\n  filters?: MenuFilters;\n  onItemClick?: (item: MenuItem) => void;\n  onEdit?: (item: MenuItem) => void;\n  onCopy?: (item: MenuItem) => void;\n  onDelete?: (item: MenuItem) => void;\n  onToggleVisibility?: (item: MenuItem) => void;\n  onSelectionChange?: (selectedIds: string[]) => void;\n  onFiltersChange?: (filters: MenuFilters) => void;\n  onCreate?: () => void;\n  className?: string;\n  channel?: string;\n  showBulkActions?: boolean;\n}\n\nexport function MenuItemsTable({\n  data,\n  loading = false,\n  selectedIds = [],\n  filters = {},\n  onItemClick,\n  onEdit,\n  onCopy,\n  onDelete,\n  onToggleVisibility,\n  onSelectionChange,\n  onFiltersChange,\n  onCreate,\n  className,\n  channel,\n  showBulkActions = true,\n}: MenuItemsTableProps) {\n  const [sortField, setSortField] = useState('name');\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n\n  // Calculate derived data for each item\n  const enhancedData = useMemo(() => {\n    return data.map(item => ({\n      ...item,\n      effectivePrice: calculateItemPrice(item, channel),\n      available: isItemAvailable(item, channel),\n      stockStatus: formatStockStatus(item.stockQuantity, item.lowStockThreshold),\n    }));\n  }, [data, channel]);\n\n  // Table columns\n  const columns: ColumnDef<MenuItem & { effectivePrice: number; available: boolean; stockStatus: any }>[] = [\n    {\n      id: 'select',\n      header: ({ table }) => (\n        <input\n          type=\"checkbox\"\n          checked={table.getIsAllPageRowsSelected()}\n          onChange={table.getToggleAllPageRowsSelectedHandler()}\n          className=\"rounded border-gray-300\"\n        />\n      ),\n      cell: ({ row }) => (\n        <input\n          type=\"checkbox\"\n          checked={row.getIsSelected()}\n          onChange={row.getToggleSelectedHandler()}\n          className=\"rounded border-gray-300\"\n        />\n      ),\n      enableSorting: false,\n      size: 40,\n    },\n    {\n      accessorKey: 'name',\n      header: 'Item',\n      cell: ({ row }) => {\n        const item = row.original;\n        return (\n          <div className=\"flex items-start space-x-3\">\n            {/* Image placeholder */}\n            <div className=\"w-12 h-12 bg-gray-100 rounded border flex items-center justify-center flex-shrink-0\">\n              {item.media.length > 0 ? (\n                <img\n                  src={item.media[0].url}\n                  alt={item.media[0].alt}\n                  className=\"w-full h-full object-cover rounded\"\n                />\n              ) : (\n                <Tag className=\"h-5 w-5 text-gray-400\" />\n              )}\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center space-x-2\">\n                <span \n                  className={cn(\n                    \"font-medium truncate cursor-pointer hover:text-blue-600\",\n                    !item.isActive && \"text-gray-400 line-through\"\n                  )}\n                  onClick={() => onItemClick?.(item)}\n                >\n                  {item.name}\n                </span>\n                {!item.isActive && <EyeOff className=\"h-3 w-3 text-gray-400\" />}\n              </div>\n              \n              {item.description && (\n                <p className=\"text-sm text-gray-500 truncate mt-1\">\n                  {item.description}\n                </p>\n              )}\n              \n              {/* Tags */}\n              {item.tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-1 mt-2\">\n                  {item.tags.slice(0, 3).map((tag) => (\n                    <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\n                      {tag}\n                    </Badge>\n                  ))}\n                  {item.tags.length > 3 && (\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      +{item.tags.length - 3}\n                    </Badge>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'effectivePrice',\n      header: 'Price',\n      cell: ({ row }) => {\n        const item = row.original;\n        const showStrategyPrice = item.effectivePrice !== item.basePrice;\n        \n        return (\n          <div className=\"text-right\">\n            <div className=\"font-medium\">\n              {formatPrice(item.effectivePrice)}\n            </div>\n            {showStrategyPrice && (\n              <div className=\"text-xs text-gray-500 line-through\">\n                {formatPrice(item.basePrice)}\n              </div>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'available',\n      header: 'Status',\n      cell: ({ row }) => {\n        const item = row.original;\n        \n        return (\n          <div className=\"flex flex-col space-y-1\">\n            {/* Availability Status */}\n            <Badge\n              variant={item.available ? 'default' : 'destructive'}\n              className=\"w-fit\"\n            >\n              {item.available ? (\n                <>\n                  <CheckCircle className=\"h-3 w-3 mr-1\" />\n                  Available\n                </>\n              ) : (\n                <>\n                  <XCircle className=\"h-3 w-3 mr-1\" />\n                  Unavailable\n                </>\n              )}\n            </Badge>\n            \n            {/* Stock Status */}\n            {item.trackInventory && (\n              <Badge\n                variant={item.stockStatus.variant}\n                className=\"w-fit text-xs\"\n              >\n                {item.stockStatus.label}\n              </Badge>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'preparationTime',\n      header: 'Prep Time',\n      cell: ({ row }) => {\n        const prepTime = row.original.preparationTime;\n        if (!prepTime) return <span className=\"text-gray-400\"></span>;\n        \n        return (\n          <div className=\"flex items-center text-sm\">\n            <Clock className=\"h-3 w-3 mr-1\" />\n            {formatPrepTime(prepTime)}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: 'modifierGroups',\n      header: 'Modifiers',\n      cell: ({ row }) => {\n        const modifierCount = row.original.modifierGroups.length;\n        if (modifierCount === 0) return <span className=\"text-gray-400\">None</span>;\n        \n        return (\n          <Badge variant=\"outline\" className=\"text-xs\">\n            {modifierCount} group{modifierCount !== 1 ? 's' : ''}\n          </Badge>\n        );\n      },\n    },\n    {\n      accessorKey: 'allergens',\n      header: 'Allergens',\n      cell: ({ row }) => {\n        const allergens = row.original.allergens;\n        if (allergens.length === 0) return <span className=\"text-gray-400\">None</span>;\n        \n        return (\n          <div className=\"flex items-center\">\n            <AlertTriangle className=\"h-3 w-3 text-orange-500 mr-1\" />\n            <span className=\"text-xs\">{allergens.length} allergen{allergens.length !== 1 ? 's' : ''}</span>\n          </div>\n        );\n      },\n    },\n    {\n      id: 'actions',\n      header: 'Actions',\n      cell: ({ row }) => {\n        const item = row.original;\n        \n        return (\n          <Dropdown\n            trigger={\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                <MoreHorizontal className=\"h-4 w-4\" />\n              </Button>\n            }\n            items={[\n              {\n                label: 'Edit',\n                icon: <Edit className=\"h-4 w-4\" />,\n                onClick: () => onEdit?.(item),\n              },\n              {\n                label: 'Duplicate',\n                icon: <Copy className=\"h-4 w-4\" />,\n                onClick: () => onCopy?.(item),\n              },\n              {\n                label: item.isActive ? 'Hide' : 'Show',\n                icon: item.isActive ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />,\n                onClick: () => onToggleVisibility?.(item),\n              },\n              { type: 'separator' },\n              {\n                label: 'Delete',\n                icon: <Trash2 className=\"h-4 w-4\" />,\n                onClick: () => onDelete?.(item),\n                className: 'text-red-600',\n              },\n            ]}\n          />\n        );\n      },\n      enableSorting: false,\n      size: 60,\n    },\n  ];\n\n  // Handle selection changes\n  const handleSelectionChange = useCallback((selection: any) => {\n    const selectedRowIds = Object.keys(selection);\n    const selectedItemIds = selectedRowIds.map(index => enhancedData[parseInt(index)]?.id).filter(Boolean);\n    onSelectionChange?.(selectedItemIds);\n  }, [enhancedData, onSelectionChange]);\n\n  // Bulk actions\n  const bulkActions = useMemo(() => {\n    if (!showBulkActions || selectedIds.length === 0) return null;\n    \n    return (\n      <div className=\"flex items-center space-x-2 px-4 py-2 bg-blue-50 border-b\">\n        <span className=\"text-sm font-medium\">\n          {selectedIds.length} item{selectedIds.length !== 1 ? 's' : ''} selected\n        </span>\n        \n        <div className=\"flex items-center space-x-1\">\n          <Button size=\"sm\" variant=\"outline\">\n            <Eye className=\"h-3 w-3 mr-1\" />\n            Show\n          </Button>\n          <Button size=\"sm\" variant=\"outline\">\n            <EyeOff className=\"h-3 w-3 mr-1\" />\n            Hide\n          </Button>\n          <Button size=\"sm\" variant=\"outline\">\n            <DollarSign className=\"h-3 w-3 mr-1\" />\n            Update Prices\n          </Button>\n          <Button size=\"sm\" variant=\"outline\" className=\"text-red-600\">\n            <Trash2 className=\"h-3 w-3 mr-1\" />\n            Delete\n          </Button>\n        </div>\n      </div>\n    );\n  }, [showBulkActions, selectedIds.length]);\n\n  // Custom toolbar\n  const toolbar = useMemo(() => (\n    <div className=\"flex items-center space-x-2\">\n      {onCreate && (\n        <Button size=\"sm\" onClick={onCreate}>\n          <Plus className=\"h-3 w-3 mr-1\" />\n          Add Item\n        </Button>\n      )}\n    </div>\n  ), [onCreate]);\n\n  return (\n    <div className={cn(\"bg-white border rounded-lg\", className)}>\n      {bulkActions}\n      \n      <DataTable\n        columns={columns}\n        data={enhancedData}\n        loading={loading}\n        searchable\n        searchPlaceholder=\"Search menu items...\"\n        filterable\n        exportable\n        selectable\n        pagination\n        pageSize={20}\n        onRowClick={onItemClick}\n        toolbar={toolbar}\n        className=\"border-none\"\n      />\n    </div>\n  );\n}","'use client';\n\nimport { useState, useCallback } from 'react';\nimport { \n  Plus, \n  Minus, \n  Edit, \n  Trash2, \n  GripVertical,\n  ChevronDown,\n  ChevronRight\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Card } from '@/components/ui/card';\nimport { ModifierGroup, ModifierOption, CreateModifierGroup, CreateModifierOption } from '@/lib/menu/types';\nimport { formatPrice } from '@/lib/menu/utils';\n\ninterface ModifierGroupEditorProps {\n  modifierGroups: ModifierGroup[];\n  onChange: (groups: ModifierGroup[]) => void;\n  className?: string;\n}\n\nexport function ModifierGroupEditor({\n  modifierGroups,\n  onChange,\n  className,\n}: ModifierGroupEditorProps) {\n  const [expandedGroups, setExpandedGroups] = useState<string[]>([]);\n  const [editingGroup, setEditingGroup] = useState<string | null>(null);\n  const [editingOption, setEditingOption] = useState<string | null>(null);\n\n  // Toggle group expansion\n  const toggleGroup = useCallback((groupId: string) => {\n    setExpandedGroups(prev => \n      prev.includes(groupId) \n        ? prev.filter(id => id !== groupId)\n        : [...prev, groupId]\n    );\n  }, []);\n\n  // Add new modifier group\n  const addGroup = useCallback(() => {\n    const newGroup: ModifierGroup = {\n      id: `temp-group-${Date.now()}`,\n      name: 'New Modifier Group',\n      description: '',\n      isRequired: false,\n      minSelections: 0,\n      maxSelections: 1,\n      sortOrder: modifierGroups.length,\n      displayType: 'checkbox',\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      options: [],\n    };\n    \n    onChange([...modifierGroups, newGroup]);\n    setExpandedGroups(prev => [...prev, newGroup.id]);\n    setEditingGroup(newGroup.id);\n  }, [modifierGroups, onChange]);\n\n  // Update modifier group\n  const updateGroup = useCallback((groupId: string, updates: Partial<ModifierGroup>) => {\n    const updatedGroups = modifierGroups.map(group =>\n      group.id === groupId ? { ...group, ...updates, updatedAt: new Date() } : group\n    );\n    onChange(updatedGroups);\n  }, [modifierGroups, onChange]);\n\n  // Delete modifier group\n  const deleteGroup = useCallback((groupId: string) => {\n    if (window.confirm('Are you sure you want to delete this modifier group?')) {\n      onChange(modifierGroups.filter(group => group.id !== groupId));\n      setExpandedGroups(prev => prev.filter(id => id !== groupId));\n    }\n  }, [modifierGroups, onChange]);\n\n  // Add modifier option\n  const addOption = useCallback((groupId: string) => {\n    const group = modifierGroups.find(g => g.id === groupId);\n    if (!group) return;\n\n    const newOption: ModifierOption = {\n      id: `temp-option-${Date.now()}`,\n      name: 'New Option',\n      description: '',\n      price: 0,\n      sortOrder: group.options.length,\n      isDefault: false,\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      pricingStrategies: [],\n      allergens: [],\n      media: [],\n    };\n\n    updateGroup(groupId, {\n      options: [...group.options, newOption],\n    });\n\n    setEditingOption(newOption.id);\n  }, [modifierGroups, updateGroup]);\n\n  // Update modifier option\n  const updateOption = useCallback((groupId: string, optionId: string, updates: Partial<ModifierOption>) => {\n    const group = modifierGroups.find(g => g.id === groupId);\n    if (!group) return;\n\n    const updatedOptions = group.options.map(option =>\n      option.id === optionId ? { ...option, ...updates, updatedAt: new Date() } : option\n    );\n\n    updateGroup(groupId, { options: updatedOptions });\n  }, [modifierGroups, updateGroup]);\n\n  // Delete modifier option\n  const deleteOption = useCallback((groupId: string, optionId: string) => {\n    if (window.confirm('Are you sure you want to delete this modifier option?')) {\n      const group = modifierGroups.find(g => g.id === groupId);\n      if (!group) return;\n\n      updateGroup(groupId, {\n        options: group.options.filter(option => option.id !== optionId),\n      });\n    }\n  }, [modifierGroups, updateGroup]);\n\n  // Reorder groups\n  const reorderGroups = useCallback((fromIndex: number, toIndex: number) => {\n    const newGroups = [...modifierGroups];\n    const [movedGroup] = newGroups.splice(fromIndex, 1);\n    newGroups.splice(toIndex, 0, movedGroup);\n    \n    // Update sort orders\n    newGroups.forEach((group, index) => {\n      group.sortOrder = index;\n    });\n    \n    onChange(newGroups);\n  }, [modifierGroups, onChange]);\n\n  return (\n    <div className={className}>\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold\">Modifier Groups</h3>\n        <Button size=\"sm\" onClick={addGroup}>\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Add Group\n        </Button>\n      </div>\n\n      {modifierGroups.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg\">\n          <p className=\"mb-2\">No modifier groups added yet</p>\n          <Button variant=\"outline\" onClick={addGroup}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Your First Group\n          </Button>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {modifierGroups.map((group, groupIndex) => (\n            <Card key={group.id} className=\"p-4\">\n              {/* Group Header */}\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-2 flex-1\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-6 w-6 p-0\"\n                    onClick={() => toggleGroup(group.id)}\n                  >\n                    {expandedGroups.includes(group.id) ? (\n                      <ChevronDown className=\"h-4 w-4\" />\n                    ) : (\n                      <ChevronRight className=\"h-4 w-4\" />\n                    )}\n                  </Button>\n                  \n                  <GripVertical className=\"h-4 w-4 text-gray-400 cursor-move\" />\n                  \n                  {editingGroup === group.id ? (\n                    <Input\n                      value={group.name}\n                      onChange={(e) => updateGroup(group.id, { name: e.target.value })}\n                      onBlur={() => setEditingGroup(null)}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') setEditingGroup(null);\n                      }}\n                      className=\"h-7 text-sm font-medium\"\n                      autoFocus\n                    />\n                  ) : (\n                    <h4 \n                      className=\"font-medium cursor-pointer hover:text-blue-600\"\n                      onClick={() => setEditingGroup(group.id)}\n                    >\n                      {group.name}\n                    </h4>\n                  )}\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    {group.isRequired && (\n                      <Badge variant=\"default\" className=\"text-xs\">Required</Badge>\n                    )}\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {group.options.length} option{group.options.length !== 1 ? 's' : ''}\n                    </Badge>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-1\">\n                  <Switch\n                    size=\"sm\"\n                    checked={group.isActive}\n                    onCheckedChange={(checked) => updateGroup(group.id, { isActive: checked })}\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-7 w-7 p-0\"\n                    onClick={() => deleteGroup(group.id)}\n                  >\n                    <Trash2 className=\"h-3 w-3 text-red-600\" />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Group Details (when expanded) */}\n              {expandedGroups.includes(group.id) && (\n                <div className=\"space-y-4 border-t pt-4\">\n                  {/* Group Settings */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Description</label>\n                      <Input\n                        value={group.description || ''}\n                        onChange={(e) => updateGroup(group.id, { description: e.target.value })}\n                        placeholder=\"Optional description\"\n                        className=\"h-8 text-sm\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Display Type</label>\n                      <select\n                        value={group.displayType}\n                        onChange={(e) => updateGroup(group.id, { displayType: e.target.value as any })}\n                        className=\"w-full h-8 px-2 text-sm border border-gray-300 rounded-md\"\n                      >\n                        <option value=\"radio\">Radio Buttons</option>\n                        <option value=\"checkbox\">Checkboxes</option>\n                        <option value=\"dropdown\">Dropdown</option>\n                        <option value=\"quantity\">Quantity</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Switch\n                        size=\"sm\"\n                        checked={group.isRequired}\n                        onCheckedChange={(checked) => updateGroup(group.id, { isRequired: checked })}\n                      />\n                      <label className=\"text-sm\">Required</label>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Min Selections</label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        value={group.minSelections}\n                        onChange={(e) => updateGroup(group.id, { minSelections: parseInt(e.target.value) || 0 })}\n                        className=\"h-8 text-sm\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Max Selections</label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        value={group.maxSelections || ''}\n                        onChange={(e) => updateGroup(group.id, { maxSelections: parseInt(e.target.value) || undefined })}\n                        placeholder=\"Unlimited\"\n                        className=\"h-8 text-sm\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Options */}\n                  <div>\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <h5 className=\"font-medium\">Options</h5>\n                      <Button size=\"sm\" onClick={() => addOption(group.id)}>\n                        <Plus className=\"h-3 w-3 mr-1\" />\n                        Add Option\n                      </Button>\n                    </div>\n                    \n                    {group.options.length === 0 ? (\n                      <div className=\"text-center py-4 text-gray-500 border border-dashed border-gray-200 rounded\">\n                        No options added yet\n                      </div>\n                    ) : (\n                      <div className=\"space-y-2\">\n                        {group.options.map((option, optionIndex) => (\n                          <div\n                            key={option.id}\n                            className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded border\"\n                          >\n                            <GripVertical className=\"h-4 w-4 text-gray-400 cursor-move\" />\n                            \n                            <div className=\"flex-1 grid grid-cols-3 gap-3\">\n                              <div>\n                                {editingOption === option.id ? (\n                                  <Input\n                                    value={option.name}\n                                    onChange={(e) => updateOption(group.id, option.id, { name: e.target.value })}\n                                    onBlur={() => setEditingOption(null)}\n                                    onKeyDown={(e) => {\n                                      if (e.key === 'Enter') setEditingOption(null);\n                                    }}\n                                    className=\"h-7 text-sm\"\n                                    autoFocus\n                                  />\n                                ) : (\n                                  <div\n                                    className=\"text-sm font-medium cursor-pointer hover:text-blue-600\"\n                                    onClick={() => setEditingOption(option.id)}\n                                  >\n                                    {option.name}\n                                  </div>\n                                )}\n                              </div>\n                              \n                              <div className=\"relative\">\n                                <span className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500\">$</span>\n                                <Input\n                                  type=\"number\"\n                                  step=\"0.01\"\n                                  min=\"0\"\n                                  value={option.price}\n                                  onChange={(e) => updateOption(group.id, option.id, { price: parseFloat(e.target.value) || 0 })}\n                                  className=\"h-7 text-sm pl-6\"\n                                  placeholder=\"0.00\"\n                                />\n                              </div>\n                              \n                              <Input\n                                value={option.description || ''}\n                                onChange={(e) => updateOption(group.id, option.id, { description: e.target.value })}\n                                placeholder=\"Optional description\"\n                                className=\"h-7 text-sm\"\n                              />\n                            </div>\n                            \n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"flex items-center space-x-1\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={option.isDefault}\n                                  onChange={(e) => updateOption(group.id, option.id, { isDefault: e.target.checked })}\n                                  className=\"rounded text-xs\"\n                                />\n                                <label className=\"text-xs text-gray-600\">Default</label>\n                              </div>\n                              \n                              <Switch\n                                size=\"sm\"\n                                checked={option.isActive}\n                                onCheckedChange={(checked) => updateOption(group.id, option.id, { isActive: checked })}\n                              />\n                              \n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"h-7 w-7 p-0\"\n                                onClick={() => deleteOption(group.id, option.id)}\n                              >\n                                <Trash2 className=\"h-3 w-3 text-red-600\" />\n                              </Button>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","'use client';\n\nimport { useState, useCallback } from 'react';\nimport { \n  Plus, \n  Trash2, \n  Clock, \n  Calendar, \n  MapPin, \n  Target,\n  DollarSign,\n  ChevronDown,\n  ChevronRight\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Card } from '@/components/ui/card';\nimport { PricingStrategy, Price } from '@/lib/menu/types';\nimport { formatPrice } from '@/lib/menu/utils';\n\ninterface PricingStrategyEditorProps {\n  strategies: PricingStrategy[];\n  onChange: (strategies: PricingStrategy[]) => void;\n  className?: string;\n}\n\nexport function PricingStrategyEditor({\n  strategies,\n  onChange,\n  className,\n}: PricingStrategyEditorProps) {\n  const [expandedStrategies, setExpandedStrategies] = useState<string[]>([]);\n  const [editingStrategy, setEditingStrategy] = useState<string | null>(null);\n\n  // Toggle strategy expansion\n  const toggleStrategy = useCallback((strategyId: string) => {\n    setExpandedStrategies(prev => \n      prev.includes(strategyId) \n        ? prev.filter(id => id !== strategyId)\n        : [...prev, strategyId]\n    );\n  }, []);\n\n  // Add new pricing strategy\n  const addStrategy = useCallback(() => {\n    const newStrategy: PricingStrategy = {\n      id: `temp-strategy-${Date.now()}`,\n      name: 'New Pricing Strategy',\n      type: 'time_based',\n      priority: strategies.length,\n      conditions: {},\n      prices: [{\n        id: `temp-price-${Date.now()}`,\n        amount: 0,\n        currency: 'USD',\n      }],\n    };\n    \n    onChange([...strategies, newStrategy]);\n    setExpandedStrategies(prev => [...prev, newStrategy.id]);\n    setEditingStrategy(newStrategy.id);\n  }, [strategies, onChange]);\n\n  // Update pricing strategy\n  const updateStrategy = useCallback((strategyId: string, updates: Partial<PricingStrategy>) => {\n    const updatedStrategies = strategies.map(strategy =>\n      strategy.id === strategyId ? { ...strategy, ...updates } : strategy\n    );\n    onChange(updatedStrategies);\n  }, [strategies, onChange]);\n\n  // Delete pricing strategy\n  const deleteStrategy = useCallback((strategyId: string) => {\n    if (window.confirm('Are you sure you want to delete this pricing strategy?')) {\n      onChange(strategies.filter(strategy => strategy.id !== strategyId));\n      setExpandedStrategies(prev => prev.filter(id => id !== strategyId));\n    }\n  }, [strategies, onChange]);\n\n  // Update price within a strategy\n  const updatePrice = useCallback((strategyId: string, priceId: string, updates: Partial<Price>) => {\n    const strategy = strategies.find(s => s.id === strategyId);\n    if (!strategy) return;\n\n    const updatedPrices = strategy.prices.map(price =>\n      price.id === priceId ? { ...price, ...updates } : price\n    );\n\n    updateStrategy(strategyId, { prices: updatedPrices });\n  }, [strategies, updateStrategy]);\n\n  // Add price to strategy\n  const addPrice = useCallback((strategyId: string) => {\n    const strategy = strategies.find(s => s.id === strategyId);\n    if (!strategy) return;\n\n    const newPrice: Price = {\n      id: `temp-price-${Date.now()}`,\n      amount: 0,\n      currency: 'USD',\n    };\n\n    updateStrategy(strategyId, {\n      prices: [...strategy.prices, newPrice],\n    });\n  }, [strategies, updateStrategy]);\n\n  // Delete price from strategy\n  const deletePrice = useCallback((strategyId: string, priceId: string) => {\n    const strategy = strategies.find(s => s.id === strategyId);\n    if (!strategy || strategy.prices.length <= 1) return; // Keep at least one price\n\n    updateStrategy(strategyId, {\n      prices: strategy.prices.filter(price => price.id !== priceId),\n    });\n  }, [strategies, updateStrategy]);\n\n  // Update strategy conditions based on type\n  const updateConditions = useCallback((strategyId: string, field: string, value: any) => {\n    const strategy = strategies.find(s => s.id === strategyId);\n    if (!strategy) return;\n\n    const newConditions = { ...strategy.conditions, [field]: value };\n    updateStrategy(strategyId, { conditions: newConditions });\n  }, [strategies, updateStrategy]);\n\n  // Get strategy type icon\n  const getStrategyIcon = (type: string) => {\n    switch (type) {\n      case 'time_based':\n        return <Clock className=\"h-4 w-4\" />;\n      case 'day_of_week':\n        return <Calendar className=\"h-4 w-4\" />;\n      case 'location_based':\n        return <MapPin className=\"h-4 w-4\" />;\n      case 'menu_specific':\n        return <Target className=\"h-4 w-4\" />;\n      default:\n        return <DollarSign className=\"h-4 w-4\" />;\n    }\n  };\n\n  // Render conditions based on strategy type\n  const renderConditions = (strategy: PricingStrategy) => {\n    switch (strategy.type) {\n      case 'time_based':\n        return (\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Start Time</label>\n              <Input\n                type=\"time\"\n                value={strategy.conditions?.startTime || ''}\n                onChange={(e) => updateConditions(strategy.id, 'startTime', e.target.value)}\n                className=\"h-8 text-sm\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">End Time</label>\n              <Input\n                type=\"time\"\n                value={strategy.conditions?.endTime || ''}\n                onChange={(e) => updateConditions(strategy.id, 'endTime', e.target.value)}\n                className=\"h-8 text-sm\"\n              />\n            </div>\n          </div>\n        );\n\n      case 'day_of_week':\n        return (\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Days of Week</label>\n            <div className=\"grid grid-cols-4 gap-2\">\n              {['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map((day, index) => (\n                <div key={day} className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    id={`${strategy.id}-day-${index}`}\n                    checked={strategy.conditions?.daysOfWeek?.includes(index) || false}\n                    onChange={(e) => {\n                      const currentDays = strategy.conditions?.daysOfWeek || [];\n                      const newDays = e.target.checked\n                        ? [...currentDays, index]\n                        : currentDays.filter(d => d !== index);\n                      updateConditions(strategy.id, 'daysOfWeek', newDays);\n                    }}\n                    className=\"rounded text-xs\"\n                  />\n                  <label htmlFor={`${strategy.id}-day-${index}`} className=\"text-xs\">\n                    {day.slice(0, 3)}\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n\n      case 'location_based':\n        return (\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Location IDs</label>\n            <Input\n              value={strategy.conditions?.locationIds?.join(', ') || ''}\n              onChange={(e) => {\n                const locations = e.target.value.split(',').map(id => id.trim()).filter(Boolean);\n                updateConditions(strategy.id, 'locationIds', locations);\n              }}\n              placeholder=\"Enter location IDs separated by commas\"\n              className=\"h-8 text-sm\"\n            />\n          </div>\n        );\n\n      case 'menu_specific':\n        return (\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Channel ID</label>\n            <select\n              value={strategy.conditions?.channelId || ''}\n              onChange={(e) => updateConditions(strategy.id, 'channelId', e.target.value)}\n              className=\"w-full h-8 px-2 text-sm border border-gray-300 rounded-md\"\n            >\n              <option value=\"\">Select channel</option>\n              <option value=\"dine-in\">Dine In</option>\n              <option value=\"takeout\">Takeout</option>\n              <option value=\"delivery\">Delivery</option>\n              <option value=\"online\">Online</option>\n            </select>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className={className}>\n      <div className=\"flex items-center justify-between mb-4\">\n        <div>\n          <h3 className=\"text-sm font-semibold\">Pricing Strategies</h3>\n          <p className=\"text-xs text-gray-500\">Different prices for different conditions</p>\n        </div>\n        <Button size=\"sm\" onClick={addStrategy}>\n          <Plus className=\"h-3 w-3 mr-1\" />\n          Add Strategy\n        </Button>\n      </div>\n\n      {strategies.length === 0 ? (\n        <div className=\"text-center py-6 text-gray-500 border border-dashed border-gray-300 rounded-lg\">\n          <p className=\"text-sm mb-2\">No pricing strategies configured</p>\n          <p className=\"text-xs text-gray-400 mb-3\">Add strategies for time-based, location-based, or channel-specific pricing</p>\n          <Button size=\"sm\" variant=\"outline\" onClick={addStrategy}>\n            <Plus className=\"h-3 w-3 mr-1\" />\n            Add Strategy\n          </Button>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {strategies.map((strategy, index) => (\n            <Card key={strategy.id} className=\"p-3\">\n              {/* Strategy Header */}\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center space-x-2 flex-1\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-5 w-5 p-0\"\n                    onClick={() => toggleStrategy(strategy.id)}\n                  >\n                    {expandedStrategies.includes(strategy.id) ? (\n                      <ChevronDown className=\"h-3 w-3\" />\n                    ) : (\n                      <ChevronRight className=\"h-3 w-3\" />\n                    )}\n                  </Button>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    {getStrategyIcon(strategy.type)}\n                    \n                    {editingStrategy === strategy.id ? (\n                      <Input\n                        value={strategy.name}\n                        onChange={(e) => updateStrategy(strategy.id, { name: e.target.value })}\n                        onBlur={() => setEditingStrategy(null)}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') setEditingStrategy(null);\n                        }}\n                        className=\"h-6 text-sm font-medium\"\n                        autoFocus\n                      />\n                    ) : (\n                      <span \n                        className=\"text-sm font-medium cursor-pointer hover:text-blue-600\"\n                        onClick={() => setEditingStrategy(strategy.id)}\n                      >\n                        {strategy.name}\n                      </span>\n                    )}\n                  </div>\n                  \n                  <Badge variant=\"secondary\" className=\"text-xs\">\n                    Priority: {strategy.priority}\n                  </Badge>\n                  \n                  <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                    {strategy.type.replace('_', ' ')}\n                  </Badge>\n                </div>\n                \n                <div className=\"flex items-center space-x-1\">\n                  <div className=\"text-sm font-medium\">\n                    {formatPrice(strategy.prices[0]?.amount || 0)}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-6 w-6 p-0\"\n                    onClick={() => deleteStrategy(strategy.id)}\n                  >\n                    <Trash2 className=\"h-3 w-3 text-red-600\" />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Strategy Details (when expanded) */}\n              {expandedStrategies.includes(strategy.id) && (\n                <div className=\"space-y-4 border-t pt-3\">\n                  {/* Strategy Settings */}\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Strategy Type</label>\n                      <select\n                        value={strategy.type}\n                        onChange={(e) => updateStrategy(strategy.id, { \n                          type: e.target.value as any,\n                          conditions: {} // Reset conditions when type changes\n                        })}\n                        className=\"w-full h-8 px-2 text-sm border border-gray-300 rounded-md\"\n                      >\n                        <option value=\"base\">Base Price</option>\n                        <option value=\"time_based\">Time Based</option>\n                        <option value=\"day_of_week\">Day of Week</option>\n                        <option value=\"location_based\">Location Based</option>\n                        <option value=\"menu_specific\">Menu/Channel Specific</option>\n                      </select>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Priority</label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        value={strategy.priority}\n                        onChange={(e) => updateStrategy(strategy.id, { priority: parseInt(e.target.value) || 0 })}\n                        className=\"h-8 text-sm\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Conditions */}\n                  {strategy.type !== 'base' && (\n                    <div>\n                      <h5 className=\"text-sm font-medium mb-2\">Conditions</h5>\n                      {renderConditions(strategy)}\n                    </div>\n                  )}\n\n                  {/* Prices */}\n                  <div>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h5 className=\"text-sm font-medium\">Prices</h5>\n                      <Button size=\"sm\" onClick={() => addPrice(strategy.id)}>\n                        <Plus className=\"h-3 w-3 mr-1\" />\n                        Add Price\n                      </Button>\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      {strategy.prices.map((price, priceIndex) => (\n                        <div\n                          key={price.id}\n                          className=\"flex items-center space-x-3 p-2 bg-gray-50 rounded border\"\n                        >\n                          <div className=\"flex-1 grid grid-cols-4 gap-2\">\n                            <div className=\"relative\">\n                              <span className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500\">$</span>\n                              <Input\n                                type=\"number\"\n                                step=\"0.01\"\n                                min=\"0\"\n                                value={price.amount}\n                                onChange={(e) => updatePrice(strategy.id, price.id, { amount: parseFloat(e.target.value) || 0 })}\n                                className=\"h-7 text-sm pl-6\"\n                                placeholder=\"0.00\"\n                              />\n                            </div>\n                            \n                            <Input\n                              type=\"date\"\n                              value={price.validFrom ? price.validFrom.toISOString().split('T')[0] : ''}\n                              onChange={(e) => updatePrice(strategy.id, price.id, { \n                                validFrom: e.target.value ? new Date(e.target.value) : undefined \n                              })}\n                              className=\"h-7 text-sm\"\n                              placeholder=\"Valid from\"\n                            />\n                            \n                            <Input\n                              type=\"date\"\n                              value={price.validTo ? price.validTo.toISOString().split('T')[0] : ''}\n                              onChange={(e) => updatePrice(strategy.id, price.id, { \n                                validTo: e.target.value ? new Date(e.target.value) : undefined \n                              })}\n                              className=\"h-7 text-sm\"\n                              placeholder=\"Valid to\"\n                            />\n                            \n                            <select\n                              value={price.currency}\n                              onChange={(e) => updatePrice(strategy.id, price.id, { currency: e.target.value })}\n                              className=\"h-7 px-2 text-sm border border-gray-300 rounded-md\"\n                            >\n                              <option value=\"USD\">USD</option>\n                              <option value=\"EUR\">EUR</option>\n                              <option value=\"GBP\">GBP</option>\n                            </select>\n                          </div>\n                          \n                          {strategy.prices.length > 1 && (\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              className=\"h-7 w-7 p-0\"\n                              onClick={() => deletePrice(strategy.id, price.id)}\n                            >\n                              <Trash2 className=\"h-3 w-3 text-red-600\" />\n                            </Button>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","'use client';\n\nimport { useState, useCallback } from 'react';\nimport { \n  Eye, \n  EyeOff, \n  Clock,\n  Calendar,\n  Settings\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Switch } from '@/components/ui/switch';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { ChannelVisibility, SalesChannel } from '@/lib/menu/types';\n\ninterface ChannelVisibilityEditorProps {\n  channelVisibility: ChannelVisibility[];\n  availableChannels: SalesChannel[];\n  onChange: (visibility: ChannelVisibility[]) => void;\n  className?: string;\n}\n\nexport function ChannelVisibilityEditor({\n  channelVisibility,\n  availableChannels,\n  onChange,\n  className,\n}: ChannelVisibilityEditorProps) {\n  const [showAdvanced, setShowAdvanced] = useState<string[]>([]);\n\n  // Toggle advanced settings for a channel\n  const toggleAdvanced = useCallback((channelId: string) => {\n    setShowAdvanced(prev => \n      prev.includes(channelId) \n        ? prev.filter(id => id !== channelId)\n        : [...prev, channelId]\n    );\n  }, []);\n\n  // Get or create channel visibility settings\n  const getChannelSettings = useCallback((channelId: string): ChannelVisibility => {\n    const existing = channelVisibility.find(cv => cv.channelId === channelId);\n    if (existing) return existing;\n    \n    return {\n      channelId,\n      isVisible: true,\n    };\n  }, [channelVisibility]);\n\n  // Update channel visibility\n  const updateChannelVisibility = useCallback((channelId: string, updates: Partial<ChannelVisibility>) => {\n    const existing = channelVisibility.find(cv => cv.channelId === channelId);\n    \n    if (existing) {\n      // Update existing\n      const updated = channelVisibility.map(cv =>\n        cv.channelId === channelId ? { ...cv, ...updates } : cv\n      );\n      onChange(updated);\n    } else {\n      // Create new\n      const newVisibility: ChannelVisibility = {\n        channelId,\n        isVisible: true,\n        ...updates,\n      };\n      onChange([...channelVisibility, newVisibility]);\n    }\n  }, [channelVisibility, onChange]);\n\n  // Toggle day of week\n  const toggleDayOfWeek = useCallback((channelId: string, day: number) => {\n    const settings = getChannelSettings(channelId);\n    const currentDays = settings.daysOfWeek || [];\n    \n    const newDays = currentDays.includes(day)\n      ? currentDays.filter(d => d !== day)\n      : [...currentDays, day].sort();\n    \n    updateChannelVisibility(channelId, { \n      daysOfWeek: newDays.length > 0 ? newDays : undefined \n    });\n  }, [getChannelSettings, updateChannelVisibility]);\n\n  const daysOfWeek = [\n    { label: 'Sun', value: 0 },\n    { label: 'Mon', value: 1 },\n    { label: 'Tue', value: 2 },\n    { label: 'Wed', value: 3 },\n    { label: 'Thu', value: 4 },\n    { label: 'Fri', value: 5 },\n    { label: 'Sat', value: 6 },\n  ];\n\n  return (\n    <div className={className}>\n      <div className=\"mb-4\">\n        <h3 className=\"text-sm font-semibold mb-1\">Channel Visibility</h3>\n        <p className=\"text-xs text-gray-500\">\n          Control which sales channels can see and order this item\n        </p>\n      </div>\n\n      <div className=\"space-y-3\">\n        {availableChannels.map((channel) => {\n          const settings = getChannelSettings(channel.id);\n          const hasAdvancedSettings = settings.availableFrom || \n                                     settings.availableTo || \n                                     (settings.daysOfWeek && settings.daysOfWeek.length > 0);\n          \n          return (\n            <Card key={channel.id} className=\"p-4\">\n              {/* Channel Header */}\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    {settings.isVisible ? (\n                      <Eye className=\"h-4 w-4 text-green-600\" />\n                    ) : (\n                      <EyeOff className=\"h-4 w-4 text-gray-400\" />\n                    )}\n                    <span className=\"font-medium\">{channel.name}</span>\n                  </div>\n                  \n                  <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                    {channel.type.replace('_', ' ')}\n                  </Badge>\n                  \n                  {hasAdvancedSettings && (\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      Custom Schedule\n                    </Badge>\n                  )}\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <Switch\n                    size=\"sm\"\n                    checked={settings.isVisible}\n                    onCheckedChange={(checked) => \n                      updateChannelVisibility(channel.id, { isVisible: checked })\n                    }\n                  />\n                  \n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-7 w-7 p-0\"\n                    onClick={() => toggleAdvanced(channel.id)}\n                  >\n                    <Settings className=\"h-3 w-3\" />\n                  </Button>\n                </div>\n              </div>\n\n              {/* Advanced Settings */}\n              {showAdvanced.includes(channel.id) && (\n                <div className=\"space-y-4 border-t pt-3\">\n                  {/* Time Availability */}\n                  <div>\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <Clock className=\"h-4 w-4\" />\n                      <h4 className=\"text-sm font-medium\">Time Availability</h4>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-3\">\n                      <div>\n                        <label className=\"block text-xs font-medium mb-1 text-gray-600\">\n                          Available From\n                        </label>\n                        <Input\n                          type=\"time\"\n                          value={settings.availableFrom || ''}\n                          onChange={(e) => updateChannelVisibility(channel.id, { \n                            availableFrom: e.target.value || undefined \n                          })}\n                          className=\"h-8 text-sm\"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label className=\"block text-xs font-medium mb-1 text-gray-600\">\n                          Available To\n                        </label>\n                        <Input\n                          type=\"time\"\n                          value={settings.availableTo || ''}\n                          onChange={(e) => updateChannelVisibility(channel.id, { \n                            availableTo: e.target.value || undefined \n                          })}\n                          className=\"h-8 text-sm\"\n                        />\n                      </div>\n                    </div>\n                    \n                    <p className=\"text-xs text-gray-500 mt-1\">\n                      Leave empty for all-day availability\n                    </p>\n                  </div>\n\n                  {/* Day Availability */}\n                  <div>\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <Calendar className=\"h-4 w-4\" />\n                      <h4 className=\"text-sm font-medium\">Day Availability</h4>\n                    </div>\n                    \n                    <div className=\"flex flex-wrap gap-2\">\n                      {daysOfWeek.map((day) => {\n                        const isSelected = settings.daysOfWeek?.includes(day.value);\n                        const allDaysSelected = !settings.daysOfWeek || settings.daysOfWeek.length === 0;\n                        \n                        return (\n                          <Button\n                            key={day.value}\n                            size=\"sm\"\n                            variant={isSelected || allDaysSelected ? 'default' : 'outline'}\n                            className=\"h-8 px-3 text-xs\"\n                            onClick={() => toggleDayOfWeek(channel.id, day.value)}\n                          >\n                            {day.label}\n                          </Button>\n                        );\n                      })}\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between mt-2\">\n                      <p className=\"text-xs text-gray-500\">\n                        {!settings.daysOfWeek || settings.daysOfWeek.length === 0\n                          ? 'Available all days'\n                          : `Available ${settings.daysOfWeek.length} day${settings.daysOfWeek.length !== 1 ? 's' : ''} per week`\n                        }\n                      </p>\n                      \n                      {settings.daysOfWeek && settings.daysOfWeek.length > 0 && (\n                        <Button\n                          size=\"sm\"\n                          variant=\"ghost\"\n                          className=\"h-6 text-xs\"\n                          onClick={() => updateChannelVisibility(channel.id, { daysOfWeek: undefined })}\n                        >\n                          Clear\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Quick Actions */}\n                  <div className=\"flex space-x-2 pt-2 border-t\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"text-xs\"\n                      onClick={() => {\n                        updateChannelVisibility(channel.id, {\n                          availableFrom: '06:00',\n                          availableTo: '22:00',\n                          daysOfWeek: [1, 2, 3, 4, 5], // Mon-Fri\n                        });\n                      }}\n                    >\n                      Business Hours\n                    </Button>\n                    \n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"text-xs\"\n                      onClick={() => {\n                        updateChannelVisibility(channel.id, {\n                          availableFrom: '17:00',\n                          availableTo: '23:00',\n                          daysOfWeek: undefined,\n                        });\n                      }}\n                    >\n                      Dinner Only\n                    </Button>\n                    \n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      className=\"text-xs\"\n                      onClick={() => {\n                        updateChannelVisibility(channel.id, {\n                          availableFrom: undefined,\n                          availableTo: undefined,\n                          daysOfWeek: [5, 6], // Fri-Sat\n                        });\n                      }}\n                    >\n                      Weekends\n                    </Button>\n                    \n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"text-xs text-red-600\"\n                      onClick={() => {\n                        updateChannelVisibility(channel.id, {\n                          availableFrom: undefined,\n                          availableTo: undefined,\n                          daysOfWeek: undefined,\n                        });\n                      }}\n                    >\n                      Reset\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </Card>\n          );\n        })}\n      </div>\n      \n      {availableChannels.length === 0 && (\n        <div className=\"text-center py-6 text-gray-500 border border-dashed border-gray-300 rounded-lg\">\n          <p className=\"text-sm\">No sales channels configured</p>\n          <p className=\"text-xs text-gray-400\">Set up your sales channels to control visibility</p>\n        </div>\n      )}\n    </div>\n  );\n}","'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { \n  X, \n  Save, \n  Upload, \n  Plus, \n  Minus, \n  Info,\n  DollarSign,\n  Clock,\n  Package,\n  Tag,\n  AlertTriangle,\n  Camera\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Tabs } from '@/components/ui/tabs';\nimport { Card } from '@/components/ui/card';\nimport { \n  MenuItem, \n  CreateMenuItem, \n  UpdateMenuItem, \n  ModifierGroup,\n  SalesChannel,\n  Allergen\n} from '@/lib/menu/types';\nimport { formatPrice, deepClone } from '@/lib/menu/utils';\nimport { ModifierGroupEditor } from './modifier-group-editor';\nimport { PricingStrategyEditor } from './pricing-strategy-editor';\nimport { ChannelVisibilityEditor } from './channel-visibility-editor';\n\ninterface MenuItemEditorProps {\n  item?: MenuItem;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (data: CreateMenuItem | UpdateMenuItem) => Promise<void>;\n  availableChannels?: SalesChannel[];\n  availableAllergens?: Allergen[];\n  availableGroups?: { id: string; name: string; menuId: string }[];\n  loading?: boolean;\n  className?: string;\n}\n\nexport function MenuItemEditor({\n  item,\n  isOpen,\n  onClose,\n  onSave,\n  availableChannels = [],\n  availableAllergens = [],\n  availableGroups = [],\n  loading = false,\n  className,\n}: MenuItemEditorProps) {\n  const [formData, setFormData] = useState<CreateMenuItem | UpdateMenuItem>({\n    name: '',\n    description: '',\n    basePrice: 0,\n    sortOrder: 0,\n    isActive: true,\n    isAvailable: true,\n    pricingStrategies: [],\n    tags: [],\n    allergens: [],\n    dietaryRestrictions: [],\n    media: [],\n    channelVisibility: [],\n  });\n\n  const [activeTab, setActiveTab] = useState('basic');\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [isDirty, setIsDirty] = useState(false);\n\n  // Initialize form data when item changes\n  useEffect(() => {\n    if (item) {\n      setFormData(deepClone(item));\n    } else {\n      setFormData({\n        name: '',\n        description: '',\n        basePrice: 0,\n        sortOrder: 0,\n        isActive: true,\n        isAvailable: true,\n        pricingStrategies: [],\n        tags: [],\n        allergens: [],\n        dietaryRestrictions: [],\n        media: [],\n        channelVisibility: [],\n      });\n    }\n    setIsDirty(false);\n    setErrors({});\n  }, [item]);\n\n  // Handle form field changes\n  const handleChange = useCallback((field: string, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    setIsDirty(true);\n    \n    // Clear field error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  }, [errors]);\n\n  // Validation\n  const validate = useCallback(() => {\n    const newErrors: Record<string, string> = {};\n    \n    if (!formData.name?.trim()) {\n      newErrors.name = 'Name is required';\n    }\n    \n    if (!formData.basePrice || formData.basePrice <= 0) {\n      newErrors.basePrice = 'Price must be greater than 0';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n  // Handle save\n  const handleSave = useCallback(async () => {\n    if (!validate()) return;\n    \n    try {\n      await onSave(formData);\n      setIsDirty(false);\n    } catch (error) {\n      console.error('Failed to save item:', error);\n    }\n  }, [formData, validate, onSave]);\n\n  // Handle close with confirmation\n  const handleClose = useCallback(() => {\n    if (isDirty) {\n      const confirmed = window.confirm('You have unsaved changes. Are you sure you want to close?');\n      if (!confirmed) return;\n    }\n    onClose();\n  }, [isDirty, onClose]);\n\n  // Tag management\n  const addTag = useCallback((tag: string) => {\n    if (tag.trim() && !formData.tags?.includes(tag.trim())) {\n      handleChange('tags', [...(formData.tags || []), tag.trim()]);\n    }\n  }, [formData.tags, handleChange]);\n\n  const removeTag = useCallback((tagToRemove: string) => {\n    handleChange('tags', formData.tags?.filter(tag => tag !== tagToRemove) || []);\n  }, [formData.tags, handleChange]);\n\n  // Allergen management\n  const toggleAllergen = useCallback((allergenId: string) => {\n    const allergens = formData.allergens || [];\n    if (allergens.includes(allergenId)) {\n      handleChange('allergens', allergens.filter(id => id !== allergenId));\n    } else {\n      handleChange('allergens', [...allergens, allergenId]);\n    }\n  }, [formData.allergens, handleChange]);\n\n  // Dietary restrictions management\n  const toggleDietaryRestriction = useCallback((restriction: string) => {\n    const restrictions = formData.dietaryRestrictions || [];\n    if (restrictions.includes(restriction)) {\n      handleChange('dietaryRestrictions', restrictions.filter(r => r !== restriction));\n    } else {\n      handleChange('dietaryRestrictions', [...restrictions, restriction]);\n    }\n  }, [formData.dietaryRestrictions, handleChange]);\n\n  if (!isOpen) return null;\n\n  const tabs = [\n    { id: 'basic', label: 'Basic Info', icon: <Info className=\"h-4 w-4\" /> },\n    { id: 'pricing', label: 'Pricing', icon: <DollarSign className=\"h-4 w-4\" /> },\n    { id: 'availability', label: 'Availability', icon: <Clock className=\"h-4 w-4\" /> },\n    { id: 'inventory', label: 'Inventory', icon: <Package className=\"h-4 w-4\" /> },\n    { id: 'modifiers', label: 'Modifiers', icon: <Plus className=\"h-4 w-4\" /> },\n    { id: 'allergens', label: 'Allergens', icon: <AlertTriangle className=\"h-4 w-4\" /> },\n    { id: 'media', label: 'Media', icon: <Camera className=\"h-4 w-4\" /> },\n  ];\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-hidden\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/50\" \n        onClick={handleClose}\n      />\n      \n      {/* Panel */}\n      <div className=\"absolute right-0 top-0 h-full w-full max-w-2xl bg-white shadow-xl flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n          <div>\n            <h2 className=\"text-xl font-semibold\">\n              {item ? 'Edit Menu Item' : 'Create Menu Item'}\n            </h2>\n            {item && (\n              <p className=\"text-sm text-gray-500 mt-1\">\n                ID: {item.id}\n              </p>\n            )}\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            {isDirty && (\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                Unsaved changes\n              </Badge>\n            )}\n            <Button\n              onClick={handleSave}\n              disabled={loading}\n              size=\"sm\"\n            >\n              <Save className=\"h-4 w-4 mr-2\" />\n              Save\n            </Button>\n            <Button\n              onClick={handleClose}\n              variant=\"ghost\"\n              size=\"sm\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          {/* Tabs */}\n          <Tabs\n            value={activeTab}\n            onValueChange={setActiveTab}\n            tabs={tabs}\n            className=\"border-b\"\n          />\n\n          {/* Tab Content */}\n          <div className=\"flex-1 overflow-y-auto p-6\">\n            {activeTab === 'basic' && (\n              <div className=\"space-y-6\">\n                {/* Name */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Item Name *\n                  </label>\n                  <Input\n                    value={formData.name || ''}\n                    onChange={(e) => handleChange('name', e.target.value)}\n                    placeholder=\"Enter item name\"\n                    error={errors.name}\n                  />\n                </div>\n\n                {/* Description */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Description\n                  </label>\n                  <textarea\n                    value={formData.description || ''}\n                    onChange={(e) => handleChange('description', e.target.value)}\n                    placeholder=\"Enter item description\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                    rows={3}\n                  />\n                </div>\n\n                {/* Short Description */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Short Description\n                  </label>\n                  <Input\n                    value={formData.shortDescription || ''}\n                    onChange={(e) => handleChange('shortDescription', e.target.value)}\n                    placeholder=\"Brief description for POS/receipts\"\n                  />\n                </div>\n\n                {/* SKU and Barcode */}\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">\n                      SKU\n                    </label>\n                    <Input\n                      value={formData.sku || ''}\n                      onChange={(e) => handleChange('sku', e.target.value)}\n                      placeholder=\"Product SKU\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">\n                      Barcode\n                    </label>\n                    <Input\n                      value={formData.barcode || ''}\n                      onChange={(e) => handleChange('barcode', e.target.value)}\n                      placeholder=\"Barcode\"\n                    />\n                  </div>\n                </div>\n\n                {/* Menu Group */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Menu Group\n                  </label>\n                  <select\n                    value={formData.menuGroupId || ''}\n                    onChange={(e) => handleChange('menuGroupId', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select a group</option>\n                    {availableGroups.map((group) => (\n                      <option key={group.id} value={group.id}>\n                        {group.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Tags */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Tags\n                  </label>\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {formData.tags?.map((tag) => (\n                      <Badge\n                        key={tag}\n                        variant=\"secondary\"\n                        className=\"px-2 py-1\"\n                      >\n                        {tag}\n                        <button\n                          onClick={() => removeTag(tag)}\n                          className=\"ml-1 text-gray-500 hover:text-gray-700\"\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </button>\n                      </Badge>\n                    ))}\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <Input\n                      placeholder=\"Add tag\"\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                          addTag(e.currentTarget.value);\n                          e.currentTarget.value = '';\n                        }\n                      }}\n                    />\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        const input = document.querySelector('input[placeholder=\"Add tag\"]') as HTMLInputElement;\n                        if (input?.value) {\n                          addTag(input.value);\n                          input.value = '';\n                        }\n                      }}\n                    >\n                      <Plus className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Status toggles */}\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <label className=\"text-sm font-medium\">Active</label>\n                    <Switch\n                      checked={formData.isActive}\n                      onCheckedChange={(checked) => handleChange('isActive', checked)}\n                    />\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <label className=\"text-sm font-medium\">Available</label>\n                    <Switch\n                      checked={formData.isAvailable}\n                      onCheckedChange={(checked) => handleChange('isAvailable', checked)}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'pricing' && (\n              <div className=\"space-y-6\">\n                {/* Base Price */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Base Price *\n                  </label>\n                  <div className=\"relative\">\n                    <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      value={formData.basePrice || ''}\n                      onChange={(e) => handleChange('basePrice', parseFloat(e.target.value) || 0)}\n                      placeholder=\"0.00\"\n                      className=\"pl-10\"\n                      error={errors.basePrice}\n                    />\n                  </div>\n                </div>\n\n                {/* Pricing Strategies */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Pricing Strategies\n                  </label>\n                  <PricingStrategyEditor\n                    strategies={formData.pricingStrategies || []}\n                    onChange={(strategies) => handleChange('pricingStrategies', strategies)}\n                  />\n                </div>\n\n                {/* Preparation Time */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Preparation Time (minutes)\n                  </label>\n                  <div className=\"relative\">\n                    <Clock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={formData.preparationTime || ''}\n                      onChange={(e) => handleChange('preparationTime', parseInt(e.target.value) || undefined)}\n                      placeholder=\"15\"\n                      className=\"pl-10\"\n                    />\n                  </div>\n                </div>\n\n                {/* Cooking Instructions */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Cooking Instructions\n                  </label>\n                  <textarea\n                    value={formData.cookingInstructions || ''}\n                    onChange={(e) => handleChange('cookingInstructions', e.target.value)}\n                    placeholder=\"Special cooking instructions\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                    rows={3}\n                  />\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'availability' && (\n              <div className=\"space-y-6\">\n                <ChannelVisibilityEditor\n                  channelVisibility={formData.channelVisibility || []}\n                  availableChannels={availableChannels}\n                  onChange={(visibility) => handleChange('channelVisibility', visibility)}\n                />\n              </div>\n            )}\n\n            {activeTab === 'inventory' && (\n              <div className=\"space-y-6\">\n                {/* Track Inventory Toggle */}\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Track Inventory</label>\n                    <p className=\"text-xs text-gray-500\">Monitor stock levels for this item</p>\n                  </div>\n                  <Switch\n                    checked={formData.trackInventory}\n                    onCheckedChange={(checked) => handleChange('trackInventory', checked)}\n                  />\n                </div>\n\n                {formData.trackInventory && (\n                  <>\n                    {/* Stock Quantity */}\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">\n                        Current Stock\n                      </label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        value={formData.stockQuantity || ''}\n                        onChange={(e) => handleChange('stockQuantity', parseInt(e.target.value) || undefined)}\n                        placeholder=\"0\"\n                      />\n                    </div>\n\n                    {/* Low Stock Threshold */}\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">\n                        Low Stock Threshold\n                      </label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        value={formData.lowStockThreshold || ''}\n                        onChange={(e) => handleChange('lowStockThreshold', parseInt(e.target.value) || undefined)}\n                        placeholder=\"5\"\n                      />\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Get notified when stock falls below this level\n                      </p>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n\n            {activeTab === 'modifiers' && (\n              <div className=\"space-y-6\">\n                <ModifierGroupEditor\n                  modifierGroups={item?.modifierGroups || []}\n                  onChange={(groups) => {\n                    // This would update the item's modifier groups\n                    // For now, just log as this requires more complex state management\n                    console.log('Modifier groups updated:', groups);\n                  }}\n                />\n              </div>\n            )}\n\n            {activeTab === 'allergens' && (\n              <div className=\"space-y-6\">\n                {/* Allergens */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-3\">\n                    Allergens\n                  </label>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    {availableAllergens.map((allergen) => (\n                      <div\n                        key={allergen.id}\n                        className=\"flex items-center space-x-2\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          id={`allergen-${allergen.id}`}\n                          checked={formData.allergens?.includes(allergen.id) || false}\n                          onChange={() => toggleAllergen(allergen.id)}\n                          className=\"rounded border-gray-300\"\n                        />\n                        <label\n                          htmlFor={`allergen-${allergen.id}`}\n                          className=\"text-sm cursor-pointer\"\n                        >\n                          {allergen.name}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Dietary Restrictions */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-3\">\n                    Dietary Restrictions\n                  </label>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    {['vegetarian', 'vegan', 'gluten-free', 'dairy-free', 'nut-free', 'keto', 'halal', 'kosher'].map((restriction) => (\n                      <div\n                        key={restriction}\n                        className=\"flex items-center space-x-2\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          id={`restriction-${restriction}`}\n                          checked={formData.dietaryRestrictions?.includes(restriction) || false}\n                          onChange={() => toggleDietaryRestriction(restriction)}\n                          className=\"rounded border-gray-300\"\n                        />\n                        <label\n                          htmlFor={`restriction-${restriction}`}\n                          className=\"text-sm cursor-pointer capitalize\"\n                        >\n                          {restriction.replace('-', ' ')}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Spice Level */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Spice Level\n                  </label>\n                  <select\n                    value={formData.spiceLevel || ''}\n                    onChange={(e) => handleChange('spiceLevel', e.target.value || undefined)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Not specified</option>\n                    <option value=\"none\">No spice</option>\n                    <option value=\"mild\">Mild</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"hot\">Hot</option>\n                    <option value=\"very_hot\">Very Hot</option>\n                  </select>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'media' && (\n              <div className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-3\">\n                    Item Images\n                  </label>\n                  \n                  {/* Image Upload Area */}\n                  <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\">\n                    <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                      Upload Images\n                    </h3>\n                    <p className=\"text-gray-500 mb-4\">\n                      Drag and drop images here, or click to select files\n                    </p>\n                    <Button variant=\"outline\">\n                      <Upload className=\"h-4 w-4 mr-2\" />\n                      Choose Files\n                    </Button>\n                  </div>\n\n                  {/* Existing Images */}\n                  {formData.media && formData.media.length > 0 && (\n                    <div className=\"grid grid-cols-3 gap-4 mt-4\">\n                      {formData.media.map((media, index) => (\n                        <div key={index} className=\"relative\">\n                          <img\n                            src={media.url}\n                            alt={media.alt}\n                            className=\"w-full h-24 object-cover rounded border\"\n                          />\n                          <Button\n                            size=\"sm\"\n                            variant=\"destructive\"\n                            className=\"absolute top-1 right-1 h-6 w-6 p-0\"\n                            onClick={() => {\n                              const newMedia = [...formData.media];\n                              newMedia.splice(index, 1);\n                              handleChange('media', newMedia);\n                            }}\n                          >\n                            <X className=\"h-3 w-3\" />\n                          </Button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n];\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('grip-vertical', __iconNode);\n\nexport default GripVertical;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n];\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('copy', __iconNode);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3v12', key: '1x0j5s' }],\n  ['path', { d: 'm17 8-5-5-5 5', key: '7q97r8' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM3YxMiIgLz4KICA8cGF0aCBkPSJtMTcgOC01LTUtNSA1IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('upload', __iconNode);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z',\n      key: '1kt360',\n    },\n  ],\n];\n\n/**\n * @component @name Folder\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMjBhMiAyIDAgMCAwIDItMlY4YTIgMiAwIDAgMC0yLTJoLTcuOWEyIDIgMCAwIDEtMS42OS0uOUw5LjYgMy45QTIgMiAwIDAgMCA3LjkzIDNINGEyIDIgMCAwIDAtMiAydjEzYTIgMiAwIDAgMCAyIDJaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/folder\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Folder = createLucideIcon('folder', __iconNode);\n\nexport default Folder;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2',\n      key: 'usdka0',\n    },\n  ],\n];\n\n/**\n * @component @name FolderOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiAxNCAxLjUtMi45QTIgMiAwIDAgMSA5LjI0IDEwSDIwYTIgMiAwIDAgMSAxLjk0IDIuNWwtMS41NCA2YTIgMiAwIDAgMS0xLjk1IDEuNUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDMuOWEyIDIgMCAwIDEgMS42OS45bC44MSAxLjJhMiAyIDAgMCAwIDEuNjcuOUgxOGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderOpen = createLucideIcon('folder-open', __iconNode);\n\nexport default FolderOpen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","import { \n  Menu, \n  MenuGroup, \n  MenuItem, \n  ModifierGroup,\n  ModifierOption,\n  SalesChannel,\n  Allergen,\n  MenuResponse,\n  MenuItemResponse,\n  MenuFilters,\n  CreateMenu,\n  CreateMenuGroup,\n  CreateMenuItem,\n  CreateModifierGroup,\n  CreateModifierOption,\n  UpdateMenu,\n  UpdateMenuGroup,\n  UpdateMenuItem,\n  UpdateModifierGroup,\n  UpdateModifierOption\n} from './types';\n\n// Mock data for development - replace with actual API calls\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n// Sample data\nconst sampleAllergens: Allergen[] = [\n  { id: '1', name: 'Gluten', description: 'Contains gluten', severity: 'moderate' },\n  { id: '2', name: 'Dairy', description: 'Contains dairy products', severity: 'moderate' },\n  { id: '3', name: 'Nuts', description: 'Contains tree nuts', severity: 'severe' },\n  { id: '4', name: 'Shellfish', description: 'Contains shellfish', severity: 'severe' },\n  { id: '5', name: 'Eggs', description: 'Contains eggs', severity: 'mild' },\n];\n\nconst sampleChannels: SalesChannel[] = [\n  { id: 'dine-in', name: 'Dine In', type: 'dine_in', isActive: true },\n  { id: 'takeout', name: 'Takeout', type: 'takeout', isActive: true },\n  { id: 'delivery', name: 'Delivery', type: 'delivery', isActive: true },\n  { id: 'online', name: 'Online Ordering', type: 'online', isActive: true },\n];\n\nlet mockMenus: Menu[] = [\n  {\n    id: '1',\n    name: 'Main Menu',\n    description: 'Our signature dishes and classics',\n    type: 'main',\n    sortOrder: 1,\n    isActive: true,\n    createdAt: new Date('2024-01-01'),\n    updatedAt: new Date('2024-01-15'),\n    media: [],\n    channelVisibility: [\n      { channelId: 'dine-in', isVisible: true },\n      { channelId: 'takeout', isVisible: true },\n    ],\n    locationIds: [],\n    groups: [\n      {\n        id: 'group-1',\n        name: 'Appetizers',\n        description: 'Start your meal right',\n        sortOrder: 1,\n        isActive: true,\n        createdAt: new Date('2024-01-01'),\n        updatedAt: new Date('2024-01-10'),\n        media: [],\n        channelVisibility: [],\n        menuId: '1',\n        items: [\n          {\n            id: 'item-1',\n            name: 'Buffalo Wings',\n            description: 'Crispy wings tossed in our signature buffalo sauce',\n            basePrice: 12.99,\n            sortOrder: 1,\n            isActive: true,\n            isAvailable: true,\n            createdAt: new Date('2024-01-01'),\n            updatedAt: new Date('2024-01-05'),\n            pricingStrategies: [],\n            tags: ['spicy', 'popular'],\n            allergens: [],\n            dietaryRestrictions: [],\n            media: [],\n            channelVisibility: [],\n            modifierGroups: [\n              {\n                id: 'mod-group-1',\n                name: 'Sauce Options',\n                description: 'Choose your sauce',\n                isRequired: true,\n                minSelections: 1,\n                maxSelections: 1,\n                sortOrder: 1,\n                displayType: 'radio',\n                isActive: true,\n                createdAt: new Date('2024-01-01'),\n                updatedAt: new Date('2024-01-01'),\n                options: [\n                  {\n                    id: 'mod-opt-1',\n                    name: 'Buffalo',\n                    description: 'Classic buffalo sauce',\n                    price: 0,\n                    sortOrder: 1,\n                    isDefault: true,\n                    isActive: true,\n                    createdAt: new Date('2024-01-01'),\n                    updatedAt: new Date('2024-01-01'),\n                    pricingStrategies: [],\n                    allergens: [],\n                    media: [],\n                  },\n                  {\n                    id: 'mod-opt-2',\n                    name: 'BBQ',\n                    description: 'Sweet and smoky BBQ sauce',\n                    price: 0,\n                    sortOrder: 2,\n                    isDefault: false,\n                    isActive: true,\n                    createdAt: new Date('2024-01-01'),\n                    updatedAt: new Date('2024-01-01'),\n                    pricingStrategies: [],\n                    allergens: [],\n                    media: [],\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        subGroups: []\n      }\n    ]\n  }\n];\n\n// API Functions\n\nexport async function getMenus(params?: {\n  page?: number;\n  limit?: number;\n  search?: string;\n  isActive?: boolean;\n}): Promise<MenuResponse> {\n  await delay(100);\n  \n  let filtered = [...mockMenus];\n  \n  // Apply filters\n  if (params?.search) {\n    const search = params.search.toLowerCase();\n    filtered = filtered.filter(menu => \n      menu.name.toLowerCase().includes(search) ||\n      menu.description?.toLowerCase().includes(search)\n    );\n  }\n  \n  if (params?.isActive !== undefined) {\n    filtered = filtered.filter(menu => menu.isActive === params.isActive);\n  }\n  \n  // Pagination\n  const page = params?.page || 1;\n  const limit = params?.limit || 10;\n  const start = (page - 1) * limit;\n  const end = start + limit;\n  \n  return {\n    data: filtered.slice(start, end),\n    total: filtered.length,\n    page,\n    limit,\n  };\n}\n\nexport async function getMenu(id: string): Promise<Menu | null> {\n  await delay(100);\n  return mockMenus.find(menu => menu.id === id) || null;\n}\n\nexport async function createMenu(data: CreateMenu): Promise<Menu> {\n  await delay(200);\n  \n  const newMenu: Menu = {\n    ...data,\n    id: `menu-${Date.now()}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    groups: [],\n  };\n  \n  mockMenus.push(newMenu);\n  return newMenu;\n}\n\nexport async function updateMenu(id: string, data: UpdateMenu): Promise<Menu | null> {\n  await delay(200);\n  \n  const index = mockMenus.findIndex(menu => menu.id === id);\n  if (index === -1) return null;\n  \n  mockMenus[index] = {\n    ...mockMenus[index],\n    ...data,\n    updatedAt: new Date(),\n  };\n  \n  return mockMenus[index];\n}\n\nexport async function deleteMenu(id: string): Promise<boolean> {\n  await delay(200);\n  \n  const index = mockMenus.findIndex(menu => menu.id === id);\n  if (index === -1) return false;\n  \n  mockMenus.splice(index, 1);\n  return true;\n}\n\n// Menu Groups\nexport async function getMenuGroups(menuId: string): Promise<MenuGroup[]> {\n  await delay(100);\n  \n  const menu = mockMenus.find(m => m.id === menuId);\n  return menu?.groups || [];\n}\n\nexport async function getMenuGroup(id: string): Promise<MenuGroup | null> {\n  await delay(100);\n  \n  for (const menu of mockMenus) {\n    const group = findGroupRecursive(menu.groups, id);\n    if (group) return group;\n  }\n  \n  return null;\n}\n\nfunction findGroupRecursive(groups: MenuGroup[], id: string): MenuGroup | null {\n  for (const group of groups) {\n    if (group.id === id) return group;\n    \n    const found = findGroupRecursive(group.subGroups, id);\n    if (found) return found;\n  }\n  return null;\n}\n\nexport async function createMenuGroup(data: CreateMenuGroup): Promise<MenuGroup> {\n  await delay(200);\n  \n  const newGroup: MenuGroup = {\n    ...data,\n    id: `group-${Date.now()}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    items: [],\n    subGroups: [],\n  };\n  \n  // Add to appropriate menu\n  const menu = mockMenus.find(m => m.id === data.menuId);\n  if (menu) {\n    if (data.parentGroupId) {\n      const parentGroup = findGroupRecursive(menu.groups, data.parentGroupId);\n      if (parentGroup) {\n        parentGroup.subGroups.push(newGroup);\n      }\n    } else {\n      menu.groups.push(newGroup);\n    }\n  }\n  \n  return newGroup;\n}\n\nexport async function updateMenuGroup(id: string, data: UpdateMenuGroup): Promise<MenuGroup | null> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    const group = findGroupRecursive(menu.groups, id);\n    if (group) {\n      Object.assign(group, {\n        ...data,\n        updatedAt: new Date(),\n      });\n      return group;\n    }\n  }\n  \n  return null;\n}\n\nexport async function deleteMenuGroup(id: string): Promise<boolean> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    if (removeGroupRecursive(menu.groups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\nfunction removeGroupRecursive(groups: MenuGroup[], id: string): boolean {\n  const index = groups.findIndex(group => group.id === id);\n  if (index !== -1) {\n    groups.splice(index, 1);\n    return true;\n  }\n  \n  for (const group of groups) {\n    if (removeGroupRecursive(group.subGroups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\n// Menu Items\nexport async function getMenuItems(params?: {\n  page?: number;\n  limit?: number;\n  menuId?: string;\n  groupId?: string;\n  filters?: MenuFilters;\n}): Promise<MenuItemResponse> {\n  await delay(100);\n  \n  let items: MenuItem[] = [];\n  \n  // Collect all items\n  for (const menu of mockMenus) {\n    if (params?.menuId && menu.id !== params.menuId) continue;\n    \n    collectItemsRecursive(menu.groups, items, params?.groupId);\n  }\n  \n  // Apply filters\n  if (params?.filters) {\n    items = applyMenuItemFilters(items, params.filters);\n  }\n  \n  // Pagination\n  const page = params?.page || 1;\n  const limit = params?.limit || 20;\n  const start = (page - 1) * limit;\n  const end = start + limit;\n  \n  return {\n    data: items.slice(start, end),\n    total: items.length,\n    page,\n    limit,\n  };\n}\n\nfunction collectItemsRecursive(\n  groups: MenuGroup[], \n  items: MenuItem[], \n  targetGroupId?: string\n): void {\n  for (const group of groups) {\n    if (!targetGroupId || group.id === targetGroupId) {\n      items.push(...group.items);\n    }\n    \n    if (!targetGroupId) {\n      collectItemsRecursive(group.subGroups, items);\n    }\n  }\n}\n\nfunction applyMenuItemFilters(items: MenuItem[], filters: MenuFilters): MenuItem[] {\n  return items.filter(item => {\n    if (filters.search) {\n      const search = filters.search.toLowerCase();\n      if (!item.name.toLowerCase().includes(search) &&\n          !item.description?.toLowerCase().includes(search)) {\n        return false;\n      }\n    }\n    \n    if (filters.isActive !== undefined && item.isActive !== filters.isActive) {\n      return false;\n    }\n    \n    if (filters.isAvailable !== undefined && item.isAvailable !== filters.isAvailable) {\n      return false;\n    }\n    \n    if (filters.priceRange) {\n      if (item.basePrice < filters.priceRange[0] || item.basePrice > filters.priceRange[1]) {\n        return false;\n      }\n    }\n    \n    if (filters.allergens?.length) {\n      const hasAllergen = filters.allergens.some(allergen => \n        item.allergens.includes(allergen)\n      );\n      if (hasAllergen) return false;\n    }\n    \n    if (filters.tags?.length) {\n      const hasTag = filters.tags.some(tag => item.tags.includes(tag));\n      if (!hasTag) return false;\n    }\n    \n    return true;\n  });\n}\n\nexport async function getMenuItem(id: string): Promise<MenuItem | null> {\n  await delay(100);\n  \n  for (const menu of mockMenus) {\n    const item = findItemRecursive(menu.groups, id);\n    if (item) return item;\n  }\n  \n  return null;\n}\n\nfunction findItemRecursive(groups: MenuGroup[], id: string): MenuItem | null {\n  for (const group of groups) {\n    const item = group.items.find(item => item.id === id);\n    if (item) return item;\n    \n    const found = findItemRecursive(group.subGroups, id);\n    if (found) return found;\n  }\n  return null;\n}\n\nexport async function createMenuItem(data: CreateMenuItem): Promise<MenuItem> {\n  await delay(200);\n  \n  const newItem: MenuItem = {\n    ...data,\n    id: `item-${Date.now()}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    modifierGroups: [],\n  };\n  \n  // Add to appropriate group\n  if (data.menuGroupId) {\n    for (const menu of mockMenus) {\n      const group = findGroupRecursive(menu.groups, data.menuGroupId);\n      if (group) {\n        group.items.push(newItem);\n        break;\n      }\n    }\n  }\n  \n  return newItem;\n}\n\nexport async function updateMenuItem(id: string, data: UpdateMenuItem): Promise<MenuItem | null> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    const item = findItemRecursive(menu.groups, id);\n    if (item) {\n      Object.assign(item, {\n        ...data,\n        updatedAt: new Date(),\n      });\n      return item;\n    }\n  }\n  \n  return null;\n}\n\nexport async function deleteMenuItem(id: string): Promise<boolean> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    if (removeItemRecursive(menu.groups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\nfunction removeItemRecursive(groups: MenuGroup[], id: string): boolean {\n  for (const group of groups) {\n    const index = group.items.findIndex(item => item.id === id);\n    if (index !== -1) {\n      group.items.splice(index, 1);\n      return true;\n    }\n    \n    if (removeItemRecursive(group.subGroups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\n// Modifier Groups\nexport async function getModifierGroups(itemId: string): Promise<ModifierGroup[]> {\n  await delay(100);\n  \n  const item = await getMenuItem(itemId);\n  return item?.modifierGroups || [];\n}\n\nexport async function createModifierGroup(\n  itemId: string, \n  data: CreateModifierGroup\n): Promise<ModifierGroup> {\n  await delay(200);\n  \n  const newGroup: ModifierGroup = {\n    ...data,\n    id: `mod-group-${Date.now()}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    options: [],\n  };\n  \n  // Add to item\n  const item = await getMenuItem(itemId);\n  if (item) {\n    item.modifierGroups.push(newGroup);\n  }\n  \n  return newGroup;\n}\n\nexport async function updateModifierGroup(\n  id: string, \n  data: UpdateModifierGroup\n): Promise<ModifierGroup | null> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    const group = findModifierGroupRecursive(menu.groups, id);\n    if (group) {\n      Object.assign(group, {\n        ...data,\n        updatedAt: new Date(),\n      });\n      return group;\n    }\n  }\n  \n  return null;\n}\n\nfunction findModifierGroupRecursive(\n  menuGroups: MenuGroup[], \n  id: string\n): ModifierGroup | null {\n  for (const group of menuGroups) {\n    for (const item of group.items) {\n      const modGroup = item.modifierGroups.find(mg => mg.id === id);\n      if (modGroup) return modGroup;\n    }\n    \n    const found = findModifierGroupRecursive(group.subGroups, id);\n    if (found) return found;\n  }\n  return null;\n}\n\nexport async function deleteModifierGroup(id: string): Promise<boolean> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    if (removeModifierGroupRecursive(menu.groups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\nfunction removeModifierGroupRecursive(menuGroups: MenuGroup[], id: string): boolean {\n  for (const group of menuGroups) {\n    for (const item of group.items) {\n      const index = item.modifierGroups.findIndex(mg => mg.id === id);\n      if (index !== -1) {\n        item.modifierGroups.splice(index, 1);\n        return true;\n      }\n    }\n    \n    if (removeModifierGroupRecursive(group.subGroups, id)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Modifier Options\nexport async function createModifierOption(\n  groupId: string,\n  data: CreateModifierOption\n): Promise<ModifierOption> {\n  await delay(200);\n  \n  const newOption: ModifierOption = {\n    ...data,\n    id: `mod-opt-${Date.now()}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  };\n  \n  // Add to group\n  const group = await getModifierGroup(groupId);\n  if (group) {\n    group.options.push(newOption);\n  }\n  \n  return newOption;\n}\n\nexport async function getModifierGroup(id: string): Promise<ModifierGroup | null> {\n  await delay(100);\n  \n  for (const menu of mockMenus) {\n    const group = findModifierGroupRecursive(menu.groups, id);\n    if (group) return group;\n  }\n  \n  return null;\n}\n\nexport async function updateModifierOption(\n  id: string,\n  data: UpdateModifierOption\n): Promise<ModifierOption | null> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    const option = findModifierOptionRecursive(menu.groups, id);\n    if (option) {\n      Object.assign(option, {\n        ...data,\n        updatedAt: new Date(),\n      });\n      return option;\n    }\n  }\n  \n  return null;\n}\n\nfunction findModifierOptionRecursive(\n  menuGroups: MenuGroup[], \n  id: string\n): ModifierOption | null {\n  for (const group of menuGroups) {\n    for (const item of group.items) {\n      for (const modGroup of item.modifierGroups) {\n        const option = modGroup.options.find(opt => opt.id === id);\n        if (option) return option;\n      }\n    }\n    \n    const found = findModifierOptionRecursive(group.subGroups, id);\n    if (found) return found;\n  }\n  return null;\n}\n\nexport async function deleteModifierOption(id: string): Promise<boolean> {\n  await delay(200);\n  \n  for (const menu of mockMenus) {\n    if (removeModifierOptionRecursive(menu.groups, id)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\nfunction removeModifierOptionRecursive(menuGroups: MenuGroup[], id: string): boolean {\n  for (const group of menuGroups) {\n    for (const item of group.items) {\n      for (const modGroup of item.modifierGroups) {\n        const index = modGroup.options.findIndex(opt => opt.id === id);\n        if (index !== -1) {\n          modGroup.options.splice(index, 1);\n          return true;\n        }\n      }\n    }\n    \n    if (removeModifierOptionRecursive(group.subGroups, id)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Utility functions\nexport async function getSalesChannels(): Promise<SalesChannel[]> {\n  await delay(50);\n  return [...sampleChannels];\n}\n\nexport async function getAllergens(): Promise<Allergen[]> {\n  await delay(50);\n  return [...sampleAllergens];\n}\n\nexport async function reorderItems(\n  groupId: string, \n  itemIds: string[]\n): Promise<boolean> {\n  await delay(200);\n  \n  const group = await getMenuGroup(groupId);\n  if (!group) return false;\n  \n  // Update sort orders based on new position\n  group.items.sort((a, b) => {\n    const aIndex = itemIds.indexOf(a.id);\n    const bIndex = itemIds.indexOf(b.id);\n    return aIndex - bIndex;\n  });\n  \n  group.items.forEach((item, index) => {\n    item.sortOrder = index + 1;\n    item.updatedAt = new Date();\n  });\n  \n  return true;\n}\n\nexport async function reorderGroups(\n  menuId: string, \n  groupIds: string[]\n): Promise<boolean> {\n  await delay(200);\n  \n  const menu = await getMenu(menuId);\n  if (!menu) return false;\n  \n  // Update sort orders based on new position\n  menu.groups.sort((a, b) => {\n    const aIndex = groupIds.indexOf(a.id);\n    const bIndex = groupIds.indexOf(b.id);\n    return aIndex - bIndex;\n  });\n  \n  menu.groups.forEach((group, index) => {\n    group.sortOrder = index + 1;\n    group.updatedAt = new Date();\n  });\n  \n  return true;\n}\n\nexport async function moveItem(\n  itemId: string, \n  targetGroupId: string\n): Promise<boolean> {\n  await delay(200);\n  \n  // Find and remove item from current location\n  let item: MenuItem | null = null;\n  for (const menu of mockMenus) {\n    if (removeItemRecursive(menu.groups, itemId)) {\n      item = await getMenuItem(itemId);\n      break;\n    }\n  }\n  \n  if (!item) return false;\n  \n  // Add to new group\n  const targetGroup = await getMenuGroup(targetGroupId);\n  if (!targetGroup) return false;\n  \n  item.menuGroupId = targetGroupId;\n  item.updatedAt = new Date();\n  targetGroup.items.push(item);\n  \n  return true;\n}\n\n// Bulk operations\nexport async function bulkUpdateItems(\n  itemIds: string[],\n  updates: Partial<UpdateMenuItem>\n): Promise<MenuItem[]> {\n  await delay(300);\n  \n  const updatedItems: MenuItem[] = [];\n  \n  for (const itemId of itemIds) {\n    const item = await updateMenuItem(itemId, updates);\n    if (item) {\n      updatedItems.push(item);\n    }\n  }\n  \n  return updatedItems;\n}\n\nexport async function bulkDeleteItems(itemIds: string[]): Promise<boolean> {\n  await delay(300);\n  \n  let allDeleted = true;\n  \n  for (const itemId of itemIds) {\n    const deleted = await deleteMenuItem(itemId);\n    if (!deleted) {\n      allDeleted = false;\n    }\n  }\n  \n  return allDeleted;\n}"],"names":[],"mappings":"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","ignoreList":[8,9,10,11,12,13,14]}