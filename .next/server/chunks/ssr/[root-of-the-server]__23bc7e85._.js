module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},29432,a=>{"use strict";function b(a){return a.isOnDemandRevalidate?"on-demand":a.isRevalidate?"stale":void 0}a.s(["getRevalidateReason",()=>b])},77341,a=>{"use strict";a.s(["NodeNextRequest",()=>k,"NodeNextResponse",()=>l],77341);var b,c=a.i(84513);class d extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new d}}class e extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,d,e){if("symbol"==typeof d)return c.ReflectAdapter.get(b,d,e);let f=d.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);if(void 0!==g)return c.ReflectAdapter.get(b,g,e)},set(b,d,e,f){if("symbol"==typeof d)return c.ReflectAdapter.set(b,d,e,f);let g=d.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return c.ReflectAdapter.set(b,h??d,e,f)},has(b,d){if("symbol"==typeof d)return c.ReflectAdapter.has(b,d);let e=d.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0!==f&&c.ReflectAdapter.has(b,f)},deleteProperty(b,d){if("symbol"==typeof d)return c.ReflectAdapter.deleteProperty(b,d);let e=d.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0===f||c.ReflectAdapter.deleteProperty(b,f)}})}static seal(a){return new Proxy(a,{get(a,b,e){switch(b){case"append":case"delete":case"set":return d.callable;default:return c.ReflectAdapter.get(a,b,e)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new e(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}a.i(21751),a.i(75164),a.i(18970),Symbol("__next_preview_data");let f=Symbol("__prerender_bypass");var g=a.i(30106),h=a.i(71717);class i{constructor(a,b,c){this.method=a,this.url=b,this.body=c}get cookies(){var b;return this._cookies?this._cookies:this._cookies=(b=this.headers,function(){let{cookie:c}=b;if(!c)return{};let{parse:d}=a.r(20460);return d(Array.isArray(c)?c.join("; "):c)})()}}class j{constructor(a){this.destination=a}redirect(a,b){return this.setHeader("Location",a),this.statusCode=b,b===h.RedirectStatusCode.PermanentRedirect&&this.setHeader("Refresh",`0;url=${a}`),this}}class k extends i{static #a=b=g.NEXT_REQUEST_META;constructor(a){var c;super(a.method.toUpperCase(),a.url,a),this._req=a,this.headers=this._req.headers,this.fetchMetrics=null==(c=this._req)?void 0:c.fetchMetrics,this[b]=this._req[g.NEXT_REQUEST_META]||{},this.streaming=!1}get originalRequest(){return this._req[g.NEXT_REQUEST_META]=this[g.NEXT_REQUEST_META],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(a){this._req=a}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:a=>{this._req.on("data",b=>{a.enqueue(new Uint8Array(b))}),this._req.on("end",()=>{a.close()}),this._req.on("error",b=>{a.error(b)})}})}}class l extends j{get originalResponse(){return f in this&&(this._res[f]=this[f]),this._res}constructor(a){super(a),this._res=a,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(a){this._res.statusCode=a}get statusMessage(){return this._res.statusMessage}set statusMessage(a){this._res.statusMessage=a}setHeader(a,b){return this._res.setHeader(a,b),this}removeHeader(a){return this._res.removeHeader(a),this}getHeaderValues(a){let b=this._res.getHeader(a);if(void 0!==b)return(Array.isArray(b)?b:[b]).map(a=>a.toString())}hasHeader(a){return this._res.hasHeader(a)}getHeader(a){let b=this.getHeaderValues(a);return Array.isArray(b)?b.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(a,b){let c=this.getHeaderValues(a)??[];return c.includes(b)||this._res.setHeader(a,[...c,b]),this}body(a){return this.textBody=a,this}send(){this._res.end(this.textBody)}onClose(a){this.originalResponse.on("close",a)}}},41763,a=>{"use strict";a.s(["normalizeAppPath",()=>c],41763);var b=a.i(32885);function c(a){var c;return(c=a.split("/").reduce((a,c,d,e)=>!c||(0,b.isGroupSegment)(c)||"@"===c[0]||("page"===c||"route"===c)&&d===e.length-1?a:a+"/"+c,"")).startsWith("/")?c:"/"+c}},54451,a=>{"use strict";a.s(["getCacheControlHeader",()=>c]);var b=a.i(21751);function c({revalidate:a,expire:c}){let d="number"==typeof a&&void 0!==c&&a<c?`, stale-while-revalidate=${c-a}`:"";return 0===a?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof a?`s-maxage=${a}${d}`:`s-maxage=${b.CACHE_ONE_YEAR}${d}`}},62212,a=>{a.n(a.i(66114))},92603,(a,b,c)=>{"use strict";function d(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"detectDomainLocale",{enumerable:!0,get:function(){return d}})},71442,(a,b,c)=>{"use strict";function d(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"parsePath",{enumerable:!0,get:function(){return d}})},91150,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return""+b+c+e+f}},47074,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathSuffix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return""+c+b+e+f}},39481,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"pathHasPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.parsePath)(a);return c===b||c.startsWith(b+"/")}},7700,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addLocale",{enumerable:!0,get:function(){return f}});let d=a.r(91150),e=a.r(39481);function f(a,b,c,f){if(!b||b===c)return a;let g=a.toLowerCase();return!f&&((0,e.pathHasPrefix)(g,"/api")||(0,e.pathHasPrefix)(g,"/"+b.toLowerCase()))?a:(0,d.addPathPrefix)(a,"/"+b)}},97642,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"formatNextPathnameInfo",{enumerable:!0,get:function(){return h}});let d=a.r(74993),e=a.r(91150),f=a.r(47074),g=a.r(7700);function h(a){let b=(0,g.addLocale)(a.pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix);return(a.buildId||!a.trailingSlash)&&(b=(0,d.removeTrailingSlash)(b)),a.buildId&&(b=(0,f.addPathSuffix)((0,e.addPathPrefix)(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=(0,e.addPathPrefix)(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:(0,f.addPathSuffix)(b,"/"):(0,d.removeTrailingSlash)(b)}},64239,(a,b,c)=>{"use strict";function d(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getHostname",{enumerable:!0,get:function(){return d}})},61601,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removePathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(39481);function e(a,b){if(!(0,d.pathHasPrefix)(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}},94971,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getNextPathnameInfo",{enumerable:!0,get:function(){return g}});let d=a.r(3885),e=a.r(61601),f=a.r(39481);function g(a,b){var c,g;let{basePath:h,i18n:i,trailingSlash:j}=null!=(c=b.nextConfig)?c:{},k={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):j};h&&(0,f.pathHasPrefix)(k.pathname,h)&&(k.pathname=(0,e.removePathPrefix)(k.pathname,h),k.basePath=h);let l=k.pathname;if(k.pathname.startsWith("/_next/data/")&&k.pathname.endsWith(".json")){let a=k.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");k.buildId=a[0],l="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(k.pathname=l)}if(i){let a=b.i18nProvider?b.i18nProvider.analyze(k.pathname):(0,d.normalizeLocalePath)(k.pathname,i.locales);k.locale=a.detectedLocale,k.pathname=null!=(g=a.pathname)?g:k.pathname,!a.detectedLocale&&k.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(l):(0,d.normalizeLocalePath)(l,i.locales)).detectedLocale&&(k.locale=a.detectedLocale)}return k}},22670,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"NextURL",{enumerable:!0,get:function(){return k}});let d=a.r(92603),e=a.r(97642),f=a.r(64239),g=a.r(94971),h=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function i(a,b){return new URL(String(a).replace(h,"localhost"),b&&String(b).replace(h,"localhost"))}let j=Symbol("NextURLInternal");class k{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[j]={url:i(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,e,h;let i=(0,g.getNextPathnameInfo)(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),k=(0,f.getHostname)(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(k):(0,d.detectDomainLocale)(null==(b=this[j].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,k);let l=(null==(c=this[j].domainLocale)?void 0:c.defaultLocale)||(null==(h=this[j].options.nextConfig)||null==(e=h.i18n)?void 0:e.defaultLocale);this[j].url.pathname=i.pathname,this[j].defaultLocale=l,this[j].basePath=i.basePath??"",this[j].buildId=i.buildId,this[j].locale=i.locale??l,this[j].trailingSlash=i.trailingSlash}formatPathname(){return(0,e.formatNextPathnameInfo)({basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash})}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(a){this[j].buildId=a}get locale(){return this[j].locale??""}set locale(a){var b,c;if(!this[j].locale||!(null==(c=this[j].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=a}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(a){this[j].url.host=a}get hostname(){return this[j].url.hostname}set hostname(a){this[j].url.hostname=a}get port(){return this[j].url.port}set port(a){this[j].url.port=a}get protocol(){return this[j].url.protocol}set protocol(a){this[j].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[j].url=i(a),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(a){this[j].url.pathname=a}get hash(){return this[j].url.hash}set hash(a){this[j].url.hash=a}get search(){return this[j].url.search}set search(a){this[j].url.search=a}get password(){return this[j].url.password}set password(a){this[j].url.password=a}get username(){return this[j].url.username}set username(a){this[j].url.username=a}get basePath(){return this[j].basePath}set basePath(a){this[j].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new k(String(this),this[j].options)}}},89753,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{PageSignatureError:function(){return d},RemovedPageError:function(){return e},RemovedUAError:function(){return f}});class d extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class e extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class f extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},63681,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{RequestCookies:function(){return d.RequestCookies},ResponseCookies:function(){return d.ResponseCookies},stringifyCookie:function(){return d.stringifyCookie}});let d=a.r(36226)},88491,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{INTERNALS:function(){return h},NextRequest:function(){return i}});let d=a.r(22670),e=a.r(92273),f=a.r(89753),g=a.r(63681),h=Symbol("internal request");class i extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);(0,e.validateURL)(c),b.body&&"half"!==b.duplex&&(b.duplex="half"),a instanceof Request?super(a,b):super(c,b);let f=new d.NextURL(c,{headers:(0,e.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:b.nextConfig});this[h]={cookies:new g.RequestCookies(this.headers),nextUrl:f,url:f.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[h].cookies}get nextUrl(){return this[h].nextUrl}get page(){throw new f.RemovedPageError}get ua(){throw new f.RemovedUAError}get url(){return this[h].url}}},37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},99413,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/kds/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/kds/page.tsx <module evaluation>","default")},13734,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/kds/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/kds/page.tsx","default")},10708,a=>{"use strict";a.i(99413);var b=a.i(13734);a.n(b)},23474,a=>{"use strict";a.s(["409f6b3900b971c76f4bf00ae1e3591795aab142ab",()=>f,"40d4ac634a2b4e85aa0700987c312269e94009d30f",()=>e,"40ec2fff4e95cd113e92ae237679821c84f117fa79",()=>d,"60377f8c5f870cb7effb0ad818dbe92c66db40386b",()=>g],23474),a.s([],28033);var b=a.i(37936),c=a.i(18558);async function d(a){try{return console.log(`Bumping ticket: ${a}`),await new Promise(a=>setTimeout(a,200)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,status:"completed",bumpedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error bumping ticket:",a),{success:!1,error:a instanceof Error?a.message:"Failed to bump ticket",timestamp:new Date}}}async function e(a){try{return console.log(`Recalling ticket: ${a}`),await new Promise(a=>setTimeout(a,200)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,status:"preparing",recalledAt:new Date},timestamp:new Date}}catch(a){return console.error("Error recalling ticket:",a),{success:!1,error:a instanceof Error?a.message:"Failed to recall ticket",timestamp:new Date}}}async function f(a){try{return console.log(`Firing ticket: ${a}`),await new Promise(a=>setTimeout(a,200)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,priority:"fire",firedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error firing ticket:",a),{success:!1,error:a instanceof Error?a.message:"Failed to fire ticket",timestamp:new Date}}}async function g(a,b){try{if(console.log(`Changing ticket ${a} priority to: ${b}`),!["normal","urgent","rush","fire"].includes(b))throw Error(`Invalid priority: ${b}`);return await new Promise(a=>setTimeout(a,200)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,priority:b,updatedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error changing ticket priority:",a),{success:!1,error:a instanceof Error?a.message:"Failed to change priority",timestamp:new Date}}}async function h(a,b){try{if(console.log(`Updating order ${a} status to: ${b}`),!["pending","preparing","ready","completed","cancelled"].includes(b))throw Error(`Invalid status: ${b}`);return await new Promise(a=>setTimeout(a,300)),(0,c.revalidateTag)("kds-orders"),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-metrics"),(0,c.revalidatePath)("/kds"),{success:!0,data:{orderId:a,status:b,updatedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error updating order status:",a),{success:!1,error:a instanceof Error?a.message:"Failed to update order status",timestamp:new Date}}}async function i(a,b){try{if(console.log(`Moving ticket ${a} to station: ${b}`),!["grill","fryer","salad","expo","pantry","dessert","beverage"].includes(b))throw Error(`Invalid station: ${b}`);return await new Promise(a=>setTimeout(a,250)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-stations"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,station:b,movedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error moving ticket to station:",a),{success:!1,error:a instanceof Error?a.message:"Failed to move ticket",timestamp:new Date}}}async function j(a,b){try{if(console.log(`Adding instructions to ticket ${a}: ${b}`),!b||0===b.trim().length)throw Error("Instructions cannot be empty");if(b.length>500)throw Error("Instructions too long (max 500 characters)");return await new Promise(a=>setTimeout(a,200)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,instructions:b.trim(),addedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error adding ticket instructions:",a),{success:!1,error:a instanceof Error?a.message:"Failed to add instructions",timestamp:new Date}}}async function k(a,b){try{if(console.log(`Updating estimated time for ticket ${a}: ${b} minutes`),b<0||b>120)throw Error("Estimated time must be between 0 and 120 minutes");await new Promise(a=>setTimeout(a,200));let d=new Date(Date.now()+6e4*b);return(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-metrics"),(0,c.revalidatePath)("/kds"),{success:!0,data:{ticketId:a,estimatedMinutes:b,estimatedTime:d,updatedAt:new Date},timestamp:new Date}}catch(a){return console.error("Error updating estimated time:",a),{success:!1,error:a instanceof Error?a.message:"Failed to update estimated time",timestamp:new Date}}}async function l(a){try{if(console.log(`Batch updating ${a.length} tickets`),0===a.length)throw Error("No updates provided");if(a.length>50)throw Error("Too many updates (max 50)");await new Promise(a=>setTimeout(a,500));let b=[];for(let c of a)try{let a;switch(c.action){case"bump":a=await d(c.ticketId);break;case"recall":a=await e(c.ticketId);break;case"fire":a=await f(c.ticketId);break;default:throw Error(`Invalid action: ${c.action}`)}b.push(a)}catch(a){b.push({success:!1,error:a instanceof Error?a.message:"Update failed",timestamp:new Date})}(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidateTag)("kds-metrics"),(0,c.revalidatePath)("/kds");let g=b.filter(a=>a.success).length,h=b.length-g;return{success:0===h,data:{total:b.length,successful:g,failed:h,results:b},timestamp:new Date}}catch(a){return console.error("Error in batch update:",a),{success:!1,error:a instanceof Error?a.message:"Batch update failed",timestamp:new Date}}}async function m(){try{return console.log("Resetting KDS display"),await new Promise(a=>setTimeout(a,1e3)),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidateTag)("kds-orders"),(0,c.revalidateTag)("kds-metrics"),(0,c.revalidateTag)("kds-stations"),(0,c.revalidatePath)("/kds"),{success:!0,data:{resetAt:new Date,message:"KDS display reset successfully"},timestamp:new Date}}catch(a){return console.error("Error resetting KDS display:",a),{success:!1,error:a instanceof Error?a.message:"Failed to reset display",timestamp:new Date}}}async function n(a,b,c){try{console.log("KDS Action:",{action:a,details:b,userId:c||"anonymous",timestamp:new Date,userAgent:"KDS-Terminal"})}catch(a){console.error("Error logging KDS action:",a)}}async function o(a){try{if(console.log("EMERGENCY STOP - Reason:",a),!a||0===a.trim().length)throw Error("Emergency stop reason is required");return await n("emergency_stop",{reason:a},"system"),await new Promise(a=>setTimeout(a,500)),(0,c.revalidateTag)("kds-orders"),(0,c.revalidateTag)("kds-tickets"),(0,c.revalidatePath)("/kds"),{success:!0,data:{reason:a.trim(),stoppedAt:new Date,message:"Emergency stop activated - all orders halted"},timestamp:new Date}}catch(a){return console.error("Error executing emergency stop:",a),{success:!1,error:a instanceof Error?a.message:"Emergency stop failed",timestamp:new Date}}}(0,a.i(13095).ensureServerEntryExports)([d,e,f,g,h,i,j,k,l,m,n,o]),(0,b.registerServerReference)(d,"40ec2fff4e95cd113e92ae237679821c84f117fa79",null),(0,b.registerServerReference)(e,"40d4ac634a2b4e85aa0700987c312269e94009d30f",null),(0,b.registerServerReference)(f,"409f6b3900b971c76f4bf00ae1e3591795aab142ab",null),(0,b.registerServerReference)(g,"60377f8c5f870cb7effb0ad818dbe92c66db40386b",null),(0,b.registerServerReference)(h,"60a5dbbb952b82e5fc34fb940e09ed031c090b31c1",null),(0,b.registerServerReference)(i,"6052be6f8951efc710525d5c3eb072f2412515893c",null),(0,b.registerServerReference)(j,"60d9266a4298dd6a3067e741b4ed1438ae8f5580e4",null),(0,b.registerServerReference)(k,"606dc2800171cc0c4e6698ea4267f1ad75148ef7e6",null),(0,b.registerServerReference)(l,"4008671974d03cb5c11c7de0273a6822d5fe49eab5",null),(0,b.registerServerReference)(m,"007ebba7b0051e0b7596358e797a3d3cc7efbe9ec9",null),(0,b.registerServerReference)(n,"708b97601bce4b9832411f932f88ac55c1d4a638e6",null),(0,b.registerServerReference)(o,"40535a58a536281e5eeff1b52375514f3c9d8ffcb3",null),a.i(28033)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__23bc7e85._.js.map