{"version":3,"sources":["turbopack:///[project]/node_modules/next-auth/core/types.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/interopRequireDefault.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/OverloadYield.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorDefine.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regenerator.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorAsyncIterator.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorAsyncGen.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorAsync.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorKeys.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/typeof.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorValues.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","turbopack:///[project]/node_modules/@babel/runtime/regenerator/index.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/toPrimitive.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/toPropertyKey.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/defineProperty.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/asyncToGenerator.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/classCallCheck.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/createClass.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/assertThisInitialized.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/getPrototypeOf.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/setPrototypeOf.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/inherits.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/isNativeFunction.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/construct.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/wrapNativeSuper.js","turbopack:///[project]/node_modules/next-auth/core/errors.js","turbopack:///[project]/node_modules/next-auth/utils/logger.js","turbopack:///[project]/node_modules/next-auth/utils/detect-origin.js","turbopack:///[project]/node_modules/openid-client/lib/errors.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/digest.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/buffer_utils.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/base64url.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/util/errors.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/random.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/iv.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_iv_length.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_object.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_cek_length.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/timing_safe_equal.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/cbc_tag.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/webcrypto.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/crypto_key.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ciphers.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/is_key_like.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/decrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/zlib.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_disjoint.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/is_object.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/aeskw.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/ecdhes.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_p2s.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/pbes2kw.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/rsaes.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/cek.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_encoder.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/flags.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/jwk_to_key.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/key/import.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/check_key_type.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/encrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/aesgcmkw.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/decrypt_key_management.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_crit.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/validate_algorithms.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/decrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_decoder.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/key_to_jwk.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/key/export.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/general/encrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/dsa_digest.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/node_key.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/hmac_digest.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/sign.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/verify.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/verify.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/verify.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/verify.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/epoch.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/secs.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/verify.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/decrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/flattened/sign.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/compact/sign.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jws/general/sign.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/produce.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/sign.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/encrypt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/thumbprint.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwk/embedded.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/local.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/fetch_jwks.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwks/remote.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/jwt/unsecured.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/util/base64url.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_protected_header.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/util/decode_jwt.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/generate.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_key_pair.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/key/generate_secret.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/runtime/runtime.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/util/runtime.js","turbopack:///[project]/node_modules/openid-client/node_modules/jose/dist/node/cjs/index.js","turbopack:///[project]/node_modules/oidc-token-hash/lib/index.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/is_key_object.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/base64url.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/decode_jwt.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/is_plain_object.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/defaults.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/www_authenticate_parser.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/assert.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/pick.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/process_response.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/unix_timestamp.js","turbopack:///[project]/node_modules/openid-client/lib/token_set.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/generators.js","turbopack:///[project]/node_modules/lru-cache/node_modules/yallist/iterator.js","turbopack:///[project]/node_modules/lru-cache/node_modules/yallist/yallist.js","turbopack:///[project]/node_modules/lru-cache/index.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/consts.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/request.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/weak_cache.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/deep_clone.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/keystore.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/merge.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/client.js","turbopack:///[project]/node_modules/object-hash/index.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/issuer.js","turbopack:///[project]/node_modules/openid-client/lib/device_flow_handle.js","turbopack:///[project]/node_modules/openid-client/lib/client.js","turbopack:///[project]/node_modules/openid-client/lib/issuer_registry.js","turbopack:///[project]/node_modules/openid-client/lib/helpers/webfinger_normalize.js","turbopack:///[project]/node_modules/openid-client/lib/issuer.js","turbopack:///[project]/node_modules/openid-client/lib/passport_strategy.js","turbopack:///[project]/node_modules/openid-client/lib/index.js","turbopack:///[project]/node_modules/next-auth/core/lib/oauth/client.js","turbopack:///[project]/node_modules/oauth/lib/sha1.js","turbopack:///[project]/node_modules/oauth/lib/_utils.js","turbopack:///[project]/node_modules/oauth/lib/oauth.js","turbopack:///[project]/node_modules/oauth/lib/oauth2.js","turbopack:///[project]/node_modules/oauth/index.js","turbopack:///[project]/node_modules/next-auth/core/lib/oauth/client-legacy.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/digest.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/buffer_utils.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/base64url.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/util/errors.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/random.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/iv.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/check_iv_length.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/is_key_object.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/check_cek_length.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/timing_safe_equal.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/cbc_tag.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/webcrypto.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/crypto_key.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/invalid_key_input.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/ciphers.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/is_key_like.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/zlib.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/is_disjoint.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/is_object.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/aeskw.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/get_named_curve.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/ecdhes.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/check_p2s.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/pbes2kw.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/check_modulus_length.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/rsaes.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/cek.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/asn1.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_encoder.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/flags.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/jwk_to_key.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/key/import.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/check_key_type.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/encrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/aesgcmkw.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/decrypt_key_management.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/validate_crit.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/validate_algorithms.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/general/decrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/asn1_sequence_decoder.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/key_to_jwk.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/key/export.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/encrypt_key_management.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/flattened/encrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/general/encrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/dsa_digest.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/node_key.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/hmac_digest.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/get_sign_verify_key.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/sign.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/verify.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/flattened/verify.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/compact/verify.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/general/verify.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/epoch.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/secs.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/lib/jwt_claims_set.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/verify.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/decrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/compact/encrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/flattened/sign.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/compact/sign.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jws/general/sign.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/produce.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/sign.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/encrypt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwk/thumbprint.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwk/embedded.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwks/local.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/fetch_jwks.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwks/remote.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/unsecured.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/util/base64url.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/util/decode_protected_header.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/util/decode_jwt.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/generate.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/key/generate_key_pair.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/key/generate_secret.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/runtime.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/util/runtime.js","turbopack:///[project]/node_modules/next-auth/node_modules/jose/dist/node/cjs/index.js","turbopack:///[project]/node_modules/@panva/hkdf/dist/node/cjs/runtime/fallback.js","turbopack:///[project]/node_modules/@panva/hkdf/dist/node/cjs/runtime/hkdf.js","turbopack:///[project]/node_modules/@panva/hkdf/dist/node/cjs/index.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/rng.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/regex.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/validate.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/stringify.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/v1.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/parse.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/v35.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/md5.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/v3.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/v4.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/sha1.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/v5.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/nil.js","turbopack:///[project]/node_modules/uuid/dist/esm-node/version.js","turbopack:///[project]/node_modules/next-auth/core/lib/cookie.js","turbopack:///[project]/node_modules/next-auth/jwt/types.js","turbopack:///[project]/node_modules/next-auth/jwt/index.js","turbopack:///[project]/node_modules/next-auth/core/lib/oauth/checks.js","turbopack:///[project]/node_modules/next-auth/core/lib/oauth/callback.js","turbopack:///[project]/node_modules/next-auth/core/lib/utils.js","turbopack:///[project]/node_modules/next-auth/core/lib/callback-handler.js","turbopack:///[project]/node_modules/next-auth/core/lib/email/getUserFromEmail.js","turbopack:///[project]/node_modules/next-auth/core/routes/callback.js","turbopack:///[project]/node_modules/next-auth/core/lib/oauth/authorization-url.js","turbopack:///[project]/node_modules/next-auth/core/lib/email/signin.js","turbopack:///[project]/node_modules/next-auth/core/routes/signin.js","turbopack:///[project]/node_modules/next-auth/core/routes/signout.js","turbopack:///[project]/node_modules/next-auth/core/routes/session.js","turbopack:///[project]/node_modules/next-auth/core/routes/providers.js","turbopack:///[project]/node_modules/next-auth/core/routes/index.js","turbopack:///[project]/node_modules/preact/src/constants.js","turbopack:///[project]/node_modules/preact/src/util.js","turbopack:///[project]/node_modules/preact/src/options.js","turbopack:///[project]/node_modules/preact/src/create-element.js","turbopack:///[project]/node_modules/preact/src/component.js","turbopack:///[project]/node_modules/preact/src/diff/props.js","turbopack:///[project]/node_modules/preact/src/create-context.js","turbopack:///[project]/node_modules/preact/src/diff/children.js","turbopack:///[project]/node_modules/preact/src/diff/index.js","turbopack:///[project]/node_modules/preact/src/render.js","turbopack:///[project]/node_modules/preact/src/diff/catch-error.js","turbopack:///[project]/node_modules/preact/src/clone-element.js","turbopack:///[project]/node_modules/preact-render-to-string/src/util.js","turbopack:///[project]/node_modules/preact-render-to-string/src/pretty.js","turbopack:///[project]/node_modules/preact-render-to-string/src/index.js","turbopack:///[project]/node_modules/preact-render-to-string/dist/index.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/extends.js","turbopack:///[project]/node_modules/next-auth/core/pages/signin.js","turbopack:///[project]/node_modules/next-auth/core/pages/signout.js","turbopack:///[project]/node_modules/next-auth/core/pages/verify-request.js","turbopack:///[project]/node_modules/next-auth/core/pages/error.js","turbopack:///[project]/node_modules/next-auth/css/index.js","turbopack:///[project]/node_modules/next-auth/core/pages/index.js","turbopack:///[project]/node_modules/next-auth/utils/merge.js","turbopack:///[project]/node_modules/next-auth/core/lib/providers.js","turbopack:///[project]/node_modules/next-auth/core/lib/default-callbacks.js","turbopack:///[project]/node_modules/next-auth/core/lib/csrf-token.js","turbopack:///[project]/node_modules/next-auth/core/lib/callback-url.js","turbopack:///[project]/node_modules/next-auth/utils/parse-url.js","turbopack:///[project]/node_modules/next-auth/core/init.js","turbopack:///[project]/node_modules/next-auth/core/lib/assert.js","turbopack:///[project]/node_modules/next-auth/node_modules/cookie/index.js","turbopack:///[project]/node_modules/next-auth/core/index.js","turbopack:///[project]/node_modules/next-auth/next/utils.js","turbopack:///[project]/node_modules/next/src/server/web/spec-extension/adapters/request-cookies.ts","turbopack:///[project]/node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts","turbopack:///[project]/node_modules/next/src/server/request/cookies.ts","turbopack:///[project]/node_modules/next/src/server/web/spec-extension/adapters/headers.ts","turbopack:///[project]/node_modules/next/src/server/request/headers.ts","turbopack:///[project]/node_modules/next/src/server/request/draft-mode.ts","turbopack:///[project]/node_modules/next/headers.js","turbopack:///[project]/node_modules/next-auth/next/index.js","turbopack:///[project]/node_modules/next-auth/index.js","turbopack:///[project]/node_modules/next-auth/providers/credentials.js","turbopack:///[project]/node_modules/bcryptjs/dist/bcrypt.js","turbopack:///[project]/node_modules/bcryptjs/index.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterAbstract.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/component/BlockedKeys/BlockedKeys.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/component/BlockedKeys/index.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterRes.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterStoreAbstract.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterRedis.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterMongo.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterMySQL.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterPostgres.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/component/MemoryStorage/Record.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/component/MemoryStorage/MemoryStorage.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterMemory.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterCluster.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterMemcache.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RLWrapperBlackAndWhite.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterUnion.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/component/RateLimiterQueueError.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterQueue.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/BurstyRateLimiter.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterDynamo.js","turbopack:///[project]/node_modules/rate-limiter-flexible/lib/RateLimiterPrisma.js","turbopack:///[project]/node_modules/rate-limiter-flexible/index.js","turbopack:///[project]/node_modules/next/dist/esm/build/templates/app-route.js","turbopack:///[project]/app/api/auth/[...nextauth]/route.ts","turbopack:///[project]/lib/security/validation.ts","turbopack:///[project]/config/security.config.ts","turbopack:///[project]/lib/security/encryption.ts","turbopack:///[project]/lib/security/rate-limit.ts"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nmodule.exports = _OverloadYield, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    function o(r, n) {\n      _regeneratorDefine(e, r, function (e) {\n        return this._invoke(r, n, e);\n      });\n    }\n    r ? i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2));\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _regeneratorDefine(e, r, n, t);\n}\nmodule.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (module.exports = _regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var OverloadYield = require(\"./OverloadYield.js\");\nvar regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction AsyncIterator(t, e) {\n  function n(r, o, i, f) {\n    try {\n      var c = t[r](o),\n        u = c.value;\n      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {\n        n(\"next\", t, i, f);\n      }, function (t) {\n        n(\"throw\", t, i, f);\n      }) : e.resolve(u).then(function (t) {\n        c.value = t, i(c);\n      }, function (t) {\n        return n(\"throw\", t, i, f);\n      });\n    } catch (t) {\n      f(t);\n    }\n  }\n  var r;\n  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, \"function\" == typeof Symbol && Symbol.asyncIterator || \"@asyncIterator\", function () {\n    return this;\n  })), regeneratorDefine(this, \"_invoke\", function (t, o, i) {\n    function f() {\n      return new e(function (e, r) {\n        n(t, i, e, r);\n      });\n    }\n    return r = r ? r.then(f, f) : f();\n  }, !0);\n}\nmodule.exports = AsyncIterator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regenerator = require(\"./regenerator.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nfunction _regeneratorAsyncGen(r, e, t, o, n) {\n  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);\n}\nmodule.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nfunction _regeneratorAsync(n, e, r, t, o) {\n  var a = regeneratorAsyncGen(n, e, r, t, o);\n  return a.next().then(function (n) {\n    return n.done ? n.value : a.next();\n  });\n}\nmodule.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorKeys(e) {\n  var n = Object(e),\n    r = [];\n  for (var t in n) r.unshift(t);\n  return function e() {\n    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;\n    return e.done = !0, e;\n  };\n}\nmodule.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorValues(e) {\n  if (null != e) {\n    var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"],\n      r = 0;\n    if (t) return t.call(e);\n    if (\"function\" == typeof e.next) return e;\n    if (!isNaN(e.length)) return {\n      next: function next() {\n        return e && r >= e.length && (e = void 0), {\n          value: e && e[r++],\n          done: !e\n        };\n      }\n    };\n  }\n  throw new TypeError(_typeof(e) + \" is not iterable\");\n}\nmodule.exports = _regeneratorValues, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var OverloadYield = require(\"./OverloadYield.js\");\nvar regenerator = require(\"./regenerator.js\");\nvar regeneratorAsync = require(\"./regeneratorAsync.js\");\nvar regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nvar regeneratorKeys = require(\"./regeneratorKeys.js\");\nvar regeneratorValues = require(\"./regeneratorValues.js\");\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  var r = regenerator(),\n    e = r.m(_regeneratorRuntime),\n    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;\n  function n(r) {\n    var e = \"function\" == typeof r && r.constructor;\n    return !!e && (e === t || \"GeneratorFunction\" === (e.displayName || e.name));\n  }\n  var o = {\n    \"throw\": 1,\n    \"return\": 2,\n    \"break\": 3,\n    \"continue\": 3\n  };\n  function a(r) {\n    var e, t;\n    return function (n) {\n      e || (e = {\n        stop: function stop() {\n          return t(n.a, 2);\n        },\n        \"catch\": function _catch() {\n          return n.v;\n        },\n        abrupt: function abrupt(r, e) {\n          return t(n.a, o[r], e);\n        },\n        delegateYield: function delegateYield(r, o, a) {\n          return e.resultName = o, t(n.d, regeneratorValues(r), a);\n        },\n        finish: function finish(r) {\n          return t(n.f, r);\n        }\n      }, t = function t(r, _t, o) {\n        n.p = e.prev, n.n = e.next;\n        try {\n          return r(_t, o);\n        } finally {\n          e.next = n.n;\n        }\n      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;\n      try {\n        return r.call(this, e);\n      } finally {\n        n.p = e.prev, n.n = e.next;\n      }\n    };\n  }\n  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return {\n      wrap: function wrap(e, t, n, o) {\n        return r.w(a(e), t, n, o && o.reverse());\n      },\n      isGeneratorFunction: n,\n      mark: r.m,\n      awrap: function awrap(r, e) {\n        return new OverloadYield(r, e);\n      },\n      AsyncIterator: regeneratorAsyncIterator,\n      async: function async(r, e, t, o, u) {\n        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);\n      },\n      keys: regeneratorKeys,\n      values: regeneratorValues\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(t) {\n  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _getPrototypeOf(t);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(t, e) {\n  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _setPrototypeOf(t, e);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (module.exports = _isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return module.exports = _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _wrapNativeSuper(t);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnsupportedStrategy = exports.UnknownError = exports.OAuthCallbackError = exports.MissingSecret = exports.MissingAuthorize = exports.MissingAdapterMethods = exports.MissingAdapter = exports.MissingAPIRoute = exports.InvalidCallbackUrl = exports.AccountNotLinkedError = void 0;\nexports.adapterErrorHandler = adapterErrorHandler;\nexports.capitalize = capitalize;\nexports.eventsErrorHandler = eventsErrorHandler;\nexports.upperSnake = upperSnake;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\nfunction _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nvar UnknownError = exports.UnknownError = function (_Error) {\n  function UnknownError(error) {\n    var _message;\n    var _this;\n    (0, _classCallCheck2.default)(this, UnknownError);\n    _this = _callSuper(this, UnknownError, [(_message = error === null || error === void 0 ? void 0 : error.message) !== null && _message !== void 0 ? _message : error]);\n    _this.name = \"UnknownError\";\n    _this.code = error.code;\n    if (error instanceof Error) {\n      _this.stack = error.stack;\n    }\n    return _this;\n  }\n  (0, _inherits2.default)(UnknownError, _Error);\n  return (0, _createClass2.default)(UnknownError, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        name: this.name,\n        message: this.message,\n        stack: this.stack\n      };\n    }\n  }]);\n}((0, _wrapNativeSuper2.default)(Error));\nvar OAuthCallbackError = exports.OAuthCallbackError = function (_UnknownError) {\n  function OAuthCallbackError() {\n    var _this2;\n    (0, _classCallCheck2.default)(this, OAuthCallbackError);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _callSuper(this, OAuthCallbackError, [].concat(args));\n    (0, _defineProperty2.default)(_this2, \"name\", \"OAuthCallbackError\");\n    return _this2;\n  }\n  (0, _inherits2.default)(OAuthCallbackError, _UnknownError);\n  return (0, _createClass2.default)(OAuthCallbackError);\n}(UnknownError);\nvar AccountNotLinkedError = exports.AccountNotLinkedError = function (_UnknownError2) {\n  function AccountNotLinkedError() {\n    var _this3;\n    (0, _classCallCheck2.default)(this, AccountNotLinkedError);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this3 = _callSuper(this, AccountNotLinkedError, [].concat(args));\n    (0, _defineProperty2.default)(_this3, \"name\", \"AccountNotLinkedError\");\n    return _this3;\n  }\n  (0, _inherits2.default)(AccountNotLinkedError, _UnknownError2);\n  return (0, _createClass2.default)(AccountNotLinkedError);\n}(UnknownError);\nvar MissingAPIRoute = exports.MissingAPIRoute = function (_UnknownError3) {\n  function MissingAPIRoute() {\n    var _this4;\n    (0, _classCallCheck2.default)(this, MissingAPIRoute);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this4 = _callSuper(this, MissingAPIRoute, [].concat(args));\n    (0, _defineProperty2.default)(_this4, \"name\", \"MissingAPIRouteError\");\n    (0, _defineProperty2.default)(_this4, \"code\", \"MISSING_NEXTAUTH_API_ROUTE_ERROR\");\n    return _this4;\n  }\n  (0, _inherits2.default)(MissingAPIRoute, _UnknownError3);\n  return (0, _createClass2.default)(MissingAPIRoute);\n}(UnknownError);\nvar MissingSecret = exports.MissingSecret = function (_UnknownError4) {\n  function MissingSecret() {\n    var _this5;\n    (0, _classCallCheck2.default)(this, MissingSecret);\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    _this5 = _callSuper(this, MissingSecret, [].concat(args));\n    (0, _defineProperty2.default)(_this5, \"name\", \"MissingSecretError\");\n    (0, _defineProperty2.default)(_this5, \"code\", \"NO_SECRET\");\n    return _this5;\n  }\n  (0, _inherits2.default)(MissingSecret, _UnknownError4);\n  return (0, _createClass2.default)(MissingSecret);\n}(UnknownError);\nvar MissingAuthorize = exports.MissingAuthorize = function (_UnknownError5) {\n  function MissingAuthorize() {\n    var _this6;\n    (0, _classCallCheck2.default)(this, MissingAuthorize);\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    _this6 = _callSuper(this, MissingAuthorize, [].concat(args));\n    (0, _defineProperty2.default)(_this6, \"name\", \"MissingAuthorizeError\");\n    (0, _defineProperty2.default)(_this6, \"code\", \"CALLBACK_CREDENTIALS_HANDLER_ERROR\");\n    return _this6;\n  }\n  (0, _inherits2.default)(MissingAuthorize, _UnknownError5);\n  return (0, _createClass2.default)(MissingAuthorize);\n}(UnknownError);\nvar MissingAdapter = exports.MissingAdapter = function (_UnknownError6) {\n  function MissingAdapter() {\n    var _this7;\n    (0, _classCallCheck2.default)(this, MissingAdapter);\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    _this7 = _callSuper(this, MissingAdapter, [].concat(args));\n    (0, _defineProperty2.default)(_this7, \"name\", \"MissingAdapterError\");\n    (0, _defineProperty2.default)(_this7, \"code\", \"EMAIL_REQUIRES_ADAPTER_ERROR\");\n    return _this7;\n  }\n  (0, _inherits2.default)(MissingAdapter, _UnknownError6);\n  return (0, _createClass2.default)(MissingAdapter);\n}(UnknownError);\nvar MissingAdapterMethods = exports.MissingAdapterMethods = function (_UnknownError7) {\n  function MissingAdapterMethods() {\n    var _this8;\n    (0, _classCallCheck2.default)(this, MissingAdapterMethods);\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n    _this8 = _callSuper(this, MissingAdapterMethods, [].concat(args));\n    (0, _defineProperty2.default)(_this8, \"name\", \"MissingAdapterMethodsError\");\n    (0, _defineProperty2.default)(_this8, \"code\", \"MISSING_ADAPTER_METHODS_ERROR\");\n    return _this8;\n  }\n  (0, _inherits2.default)(MissingAdapterMethods, _UnknownError7);\n  return (0, _createClass2.default)(MissingAdapterMethods);\n}(UnknownError);\nvar UnsupportedStrategy = exports.UnsupportedStrategy = function (_UnknownError8) {\n  function UnsupportedStrategy() {\n    var _this9;\n    (0, _classCallCheck2.default)(this, UnsupportedStrategy);\n    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n    _this9 = _callSuper(this, UnsupportedStrategy, [].concat(args));\n    (0, _defineProperty2.default)(_this9, \"name\", \"UnsupportedStrategyError\");\n    (0, _defineProperty2.default)(_this9, \"code\", \"CALLBACK_CREDENTIALS_JWT_ERROR\");\n    return _this9;\n  }\n  (0, _inherits2.default)(UnsupportedStrategy, _UnknownError8);\n  return (0, _createClass2.default)(UnsupportedStrategy);\n}(UnknownError);\nvar InvalidCallbackUrl = exports.InvalidCallbackUrl = function (_UnknownError9) {\n  function InvalidCallbackUrl() {\n    var _this10;\n    (0, _classCallCheck2.default)(this, InvalidCallbackUrl);\n    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n    _this10 = _callSuper(this, InvalidCallbackUrl, [].concat(args));\n    (0, _defineProperty2.default)(_this10, \"name\", \"InvalidCallbackUrl\");\n    (0, _defineProperty2.default)(_this10, \"code\", \"INVALID_CALLBACK_URL_ERROR\");\n    return _this10;\n  }\n  (0, _inherits2.default)(InvalidCallbackUrl, _UnknownError9);\n  return (0, _createClass2.default)(InvalidCallbackUrl);\n}(UnknownError);\nfunction upperSnake(s) {\n  return s.replace(/([A-Z])/g, \"_$1\").toUpperCase();\n}\nfunction capitalize(s) {\n  return \"\".concat(s[0].toUpperCase()).concat(s.slice(1));\n}\nfunction eventsErrorHandler(methods, logger) {\n  return Object.keys(methods).reduce(function (acc, name) {\n    acc[name] = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee() {\n      var method,\n        _args = arguments;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            method = methods[name];\n            _context.next = 4;\n            return method.apply(void 0, _args);\n          case 4:\n            return _context.abrupt(\"return\", _context.sent);\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            logger.error(\"\".concat(upperSnake(name), \"_EVENT_ERROR\"), _context.t0);\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return acc;\n  }, {});\n}\nfunction adapterErrorHandler(adapter, logger) {\n  if (!adapter) return;\n  return Object.keys(adapter).reduce(function (acc, name) {\n    acc[name] = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee2() {\n      var _len10,\n        args,\n        _key10,\n        method,\n        e,\n        _args2 = arguments;\n      return _regenerator.default.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            for (_len10 = _args2.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n              args[_key10] = _args2[_key10];\n            }\n            logger.debug(\"adapter_\".concat(name), {\n              args: args\n            });\n            method = adapter[name];\n            _context2.next = 6;\n            return method.apply(void 0, args);\n          case 6:\n            return _context2.abrupt(\"return\", _context2.sent);\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            logger.error(\"adapter_error_\".concat(name), _context2.t0);\n            e = new UnknownError(_context2.t0);\n            e.name = \"\".concat(capitalize(name), \"Error\");\n            throw e;\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n    return acc;\n  }, {});\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.proxyLogger = proxyLogger;\nexports.setLogger = setLogger;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _errors = require(\"../core/errors\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction formatError(o) {\n  if (o instanceof Error && !(o instanceof _errors.UnknownError)) {\n    return {\n      message: o.message,\n      stack: o.stack,\n      name: o.name\n    };\n  }\n  if (hasErrorProperty(o)) {\n    var _o$message;\n    o.error = formatError(o.error);\n    o.message = (_o$message = o.message) !== null && _o$message !== void 0 ? _o$message : o.error.message;\n  }\n  return o;\n}\nfunction hasErrorProperty(x) {\n  return !!(x !== null && x !== void 0 && x.error);\n}\nvar _logger = {\n  error: function error(code, metadata) {\n    metadata = formatError(metadata);\n    console.error(\"[next-auth][error][\".concat(code, \"]\"), \"\\nhttps://next-auth.js.org/errors#\".concat(code.toLowerCase()), metadata.message, metadata);\n  },\n  warn: function warn(code) {\n    console.warn(\"[next-auth][warn][\".concat(code, \"]\"), \"\\nhttps://next-auth.js.org/warnings#\".concat(code.toLowerCase()));\n  },\n  debug: function debug(code, metadata) {\n    console.log(\"[next-auth][debug][\".concat(code, \"]\"), metadata);\n  }\n};\nfunction setLogger() {\n  var newLogger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var debug = arguments.length > 1 ? arguments[1] : undefined;\n  if (!debug) _logger.debug = function () {};\n  if (newLogger.error) _logger.error = newLogger.error;\n  if (newLogger.warn) _logger.warn = newLogger.warn;\n  if (newLogger.debug) _logger.debug = newLogger.debug;\n}\nvar _default = exports.default = _logger;\nfunction proxyLogger() {\n  var logger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _logger;\n  var basePath = arguments.length > 1 ? arguments[1] : undefined;\n  try {\n    if (typeof window === \"undefined\") {\n      return logger;\n    }\n    var clientLogger = {};\n    var _loop = function _loop(level) {\n      clientLogger[level] = function () {\n        var _ref = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee(code, metadata) {\n          var url, body;\n          return _regenerator.default.wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _logger[level](code, metadata);\n                if (level === \"error\") {\n                  metadata = formatError(metadata);\n                }\n                ;\n                metadata.client = true;\n                url = \"\".concat(basePath, \"/_log\");\n                body = new URLSearchParams(_objectSpread({\n                  level: level,\n                  code: code\n                }, metadata));\n                if (!navigator.sendBeacon) {\n                  _context.next = 8;\n                  break;\n                }\n                return _context.abrupt(\"return\", navigator.sendBeacon(url, body));\n              case 8:\n                _context.next = 10;\n                return fetch(url, {\n                  method: \"POST\",\n                  body: body,\n                  keepalive: true\n                });\n              case 10:\n                return _context.abrupt(\"return\", _context.sent);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n    };\n    for (var level in logger) {\n      _loop(level);\n    }\n    return clientLogger;\n  } catch (_unused) {\n    return _logger;\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectOrigin = detectOrigin;\nfunction detectOrigin(forwardedHost, protocol) {\n  var _process$env$VERCEL;\n  if ((_process$env$VERCEL = process.env.VERCEL) !== null && _process$env$VERCEL !== void 0 ? _process$env$VERCEL : process.env.AUTH_TRUST_HOST) return `${protocol === \"http\" ? \"http\" : \"https\"}://${forwardedHost}`;\n  return process.env.NEXTAUTH_URL;\n}","const { format } = require('util');\n\nclass OPError extends Error {\n  constructor({ error_description, error, error_uri, session_state, state, scope }, response) {\n    super(!error_description ? error : `${error} (${error_description})`);\n\n    Object.assign(\n      this,\n      { error },\n      error_description && { error_description },\n      error_uri && { error_uri },\n      state && { state },\n      scope && { scope },\n      session_state && { session_state },\n    );\n\n    if (response) {\n      Object.defineProperty(this, 'response', {\n        value: response,\n      });\n    }\n\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\nclass RPError extends Error {\n  constructor(...args) {\n    if (typeof args[0] === 'string') {\n      super(format(...args));\n    } else {\n      const { message, printf, response, ...rest } = args[0];\n      if (printf) {\n        super(format(...printf));\n      } else {\n        super(message);\n      }\n      Object.assign(this, rest);\n      if (response) {\n        Object.defineProperty(this, 'response', {\n          value: response,\n        });\n      }\n    }\n\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\nmodule.exports = {\n  OPError,\n  RPError,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst digest = (algorithm, data) => (0, crypto_1.createHash)(algorithm).update(data).digest();\nexports.default = digest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concatKdf = exports.lengthAndInput = exports.uint32be = exports.uint64be = exports.p2s = exports.concat = exports.decoder = exports.encoder = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nexports.encoder = new TextEncoder();\nexports.decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nfunction concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    buffers.forEach((buffer) => {\n        buf.set(buffer, i);\n        i += buffer.length;\n    });\n    return buf;\n}\nexports.concat = concat;\nfunction p2s(alg, p2sInput) {\n    return concat(exports.encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nexports.p2s = p2s;\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nfunction uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexports.uint64be = uint64be;\nfunction uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexports.uint32be = uint32be;\nfunction lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexports.lengthAndInput = lengthAndInput;\nasync function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await (0, digest_js_1.default)('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\nexports.concatKdf = concatKdf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = exports.encodeBase64 = exports.decodeBase64 = void 0;\nconst buffer_1 = require(\"buffer\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nlet encode;\nfunction normalize(input) {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = buffer_utils_js_1.decoder.decode(encoded);\n    }\n    return encoded;\n}\nif (buffer_1.Buffer.isEncoding('base64url')) {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64url');\n}\nelse {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64').replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nconst decodeBase64 = (input) => buffer_1.Buffer.from(input, 'base64');\nexports.decodeBase64 = decodeBase64;\nconst encodeBase64 = (input) => buffer_1.Buffer.from(input).toString('base64');\nexports.encodeBase64 = encodeBase64;\nconst decode = (input) => buffer_1.Buffer.from(normalize(input), 'base64');\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JWSSignatureVerificationFailed = exports.JWKSTimeout = exports.JWKSMultipleMatchingKeys = exports.JWKSNoMatchingKey = exports.JWKSInvalid = exports.JWKInvalid = exports.JWTInvalid = exports.JWSInvalid = exports.JWEInvalid = exports.JWEDecompressionFailed = exports.JWEDecryptionFailed = exports.JOSENotSupported = exports.JOSEAlgNotAllowed = exports.JWTExpired = exports.JWTClaimValidationFailed = exports.JOSEError = void 0;\nclass JOSEError extends Error {\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n    constructor(message) {\n        var _a;\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        (_a = Error.captureStackTrace) === null || _a === void 0 ? void 0 : _a.call(Error, this, this.constructor);\n    }\n}\nexports.JOSEError = JOSEError;\nclass JWTClaimValidationFailed extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTClaimValidationFailed = JWTClaimValidationFailed;\nclass JWTExpired extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTExpired = JWTExpired;\nclass JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexports.JOSEAlgNotAllowed = JOSEAlgNotAllowed;\nclass JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexports.JOSENotSupported = JOSENotSupported;\nclass JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexports.JWEDecryptionFailed = JWEDecryptionFailed;\nclass JWEDecompressionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECOMPRESSION_FAILED';\n        this.message = 'decompression operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECOMPRESSION_FAILED';\n    }\n}\nexports.JWEDecompressionFailed = JWEDecompressionFailed;\nclass JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexports.JWEInvalid = JWEInvalid;\nclass JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexports.JWSInvalid = JWSInvalid;\nclass JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexports.JWTInvalid = JWTInvalid;\nclass JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexports.JWKInvalid = JWKInvalid;\nclass JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexports.JWKSInvalid = JWKSInvalid;\nclass JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexports.JWKSNoMatchingKey = JWKSNoMatchingKey;\nclass JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nexports.JWKSMultipleMatchingKeys = JWKSMultipleMatchingKeys;\nSymbol.asyncIterator;\nclass JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexports.JWKSTimeout = JWKSTimeout;\nclass JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nexports.JWSSignatureVerificationFailed = JWSSignatureVerificationFailed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar crypto_1 = require(\"crypto\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return crypto_1.randomFillSync; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== (0, iv_js_1.bitLength)(enc)) {\n        throw new errors_js_1.JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexports.default = checkIvLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst util = require(\"util\");\nexports.default = util.types.isKeyObject\n    ? (obj) => util.types.isKeyObject(obj)\n    : (obj) => obj != null && obj instanceof crypto_1.KeyObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst checkCekLength = (enc, cek) => {\n    let expected;\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            expected = parseInt(enc.slice(-3), 10);\n            break;\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            expected = parseInt(enc.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Content Encryption Algorithm ${enc} is not supported either by JOSE or your javascript runtime`);\n    }\n    if (cek instanceof Uint8Array) {\n        const actual = cek.byteLength << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    if ((0, is_key_object_js_1.default)(cek) && cek.type === 'secret') {\n        const actual = cek.symmetricKeySize << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    throw new TypeError('Invalid Content Encryption Key type');\n};\nexports.default = checkCekLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst timingSafeEqual = crypto_1.timingSafeEqual;\nexports.default = timingSafeEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nfunction cbcTag(aad, iv, ciphertext, macSize, macKey, keySize) {\n    const macData = (0, buffer_utils_js_1.concat)(aad, iv, ciphertext, (0, buffer_utils_js_1.uint64be)(aad.length << 3));\n    const hmac = (0, crypto_1.createHmac)(`sha${macSize}`, macKey);\n    hmac.update(macData);\n    return hmac.digest().slice(0, keySize >> 3);\n}\nexports.default = cbcTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCryptoKey = void 0;\nconst crypto = require(\"crypto\");\nconst util = require(\"util\");\nconst webcrypto = crypto.webcrypto;\nexports.default = webcrypto;\nexports.isCryptoKey = util.types.isCryptoKey\n    ? (key) => util.types.isCryptoKey(key)\n    :\n        (key) => false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkEncCryptoKey = exports.checkSigCryptoKey = void 0;\nfunction unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nfunction checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkSigCryptoKey = checkSigCryptoKey;\nfunction checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkEncCryptoKey = checkEncCryptoKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withAlg = void 0;\nfunction message(msg, actual, ...types) {\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor && actual.constructor.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexports.default = (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nfunction withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\nexports.withAlg = withAlg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nlet ciphers;\nexports.default = (algorithm) => {\n    ciphers || (ciphers = new Set((0, crypto_1.getCiphers)()));\n    return ciphers.has(algorithm);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.types = void 0;\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nexports.default = (key) => (0, is_key_object_js_1.default)(key) || (0, webcrypto_js_1.isCryptoKey)(key);\nconst types = ['KeyObject'];\nexports.types = types;\nif (globalThis.CryptoKey || (webcrypto_js_1.default === null || webcrypto_js_1.default === void 0 ? void 0 : webcrypto_js_1.default.CryptoKey)) {\n    types.push('CryptoKey');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst timing_safe_equal_js_1 = require(\"./timing_safe_equal.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const macSize = parseInt(enc.slice(-3), 10);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const expectedTag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    let macCheckPassed;\n    try {\n        macCheckPassed = (0, timing_safe_equal_js_1.default)(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, encKey, iv);\n        plaintext = (0, buffer_utils_js_1.concat)(decipher.update(ciphertext), decipher.final());\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nfunction gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n        decipher.setAuthTag(tag);\n        if (aad.byteLength) {\n            decipher.setAAD(aad, { plaintextLength: ciphertext.length });\n        }\n        const plaintext = decipher.update(ciphertext);\n        decipher.final();\n        return plaintext;\n    }\n    catch {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n}\nconst decrypt = (enc, cek, ciphertext, iv, tag, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'decrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcDecrypt(enc, key, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmDecrypt(enc, key, ciphertext, iv, tag, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deflate = exports.inflate = void 0;\nconst util_1 = require(\"util\");\nconst zlib_1 = require(\"zlib\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst inflateRaw = (0, util_1.promisify)(zlib_1.inflateRaw);\nconst deflateRaw = (0, util_1.promisify)(zlib_1.deflateRaw);\nconst inflate = (input) => inflateRaw(input, { maxOutputLength: 250000 }).catch(() => {\n    throw new errors_js_1.JWEDecompressionFailed();\n});\nexports.inflate = inflate;\nconst deflate = (input) => deflateRaw(input);\nexports.deflate = deflate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexports.default = isDisjoint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nfunction isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\nexports.default = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction checkKeySize(key, alg) {\n    if (key.symmetricKeySize << 3 !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction ensureKeyObject(key, alg, usage) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst wrap = (alg, key, cek) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(cek), cipher.final());\n};\nexports.wrap = wrap;\nconst unwrap = (alg, key, encryptedKey) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createDecipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(encryptedKey), cipher.final());\n};\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setCurve = exports.weakMap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst p256 = buffer_1.Buffer.from([42, 134, 72, 206, 61, 3, 1, 7]);\nconst p384 = buffer_1.Buffer.from([43, 129, 4, 0, 34]);\nconst p521 = buffer_1.Buffer.from([43, 129, 4, 0, 35]);\nconst secp256k1 = buffer_1.Buffer.from([43, 129, 4, 0, 10]);\nexports.weakMap = new WeakMap();\nconst namedCurveToJOSE = (namedCurve) => {\n    switch (namedCurve) {\n        case 'prime256v1':\n            return 'P-256';\n        case 'secp384r1':\n            return 'P-384';\n        case 'secp521r1':\n            return 'P-521';\n        case 'secp256k1':\n            return 'secp256k1';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n    }\n};\nconst getNamedCurve = (kee, raw) => {\n    var _a;\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError('only \"private\" or \"public\" type keys can be used for this operation');\n    }\n    switch (key.asymmetricKeyType) {\n        case 'ed25519':\n        case 'ed448':\n            return `Ed${key.asymmetricKeyType.slice(2)}`;\n        case 'x25519':\n        case 'x448':\n            return `X${key.asymmetricKeyType.slice(1)}`;\n        case 'ec': {\n            if (exports.weakMap.has(key)) {\n                return exports.weakMap.get(key);\n            }\n            let namedCurve = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.namedCurve;\n            if (!namedCurve && key.type === 'private') {\n                namedCurve = getNamedCurve((0, crypto_1.createPublicKey)(key), true);\n            }\n            else if (!namedCurve) {\n                const buf = key.export({ format: 'der', type: 'spki' });\n                const i = buf[1] < 128 ? 14 : 15;\n                const len = buf[i];\n                const curveOid = buf.slice(i + 1, i + 1 + len);\n                if (curveOid.equals(p256)) {\n                    namedCurve = 'prime256v1';\n                }\n                else if (curveOid.equals(p384)) {\n                    namedCurve = 'secp384r1';\n                }\n                else if (curveOid.equals(p521)) {\n                    namedCurve = 'secp521r1';\n                }\n                else if (curveOid.equals(secp256k1)) {\n                    namedCurve = 'secp256k1';\n                }\n                else {\n                    throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n                }\n            }\n            if (raw)\n                return namedCurve;\n            const curve = namedCurveToJOSE(namedCurve);\n            exports.weakMap.set(key, curve);\n            return curve;\n        }\n        default:\n            throw new TypeError('Invalid asymmetric key type for this operation');\n    }\n};\nfunction setCurve(keyObject, curve) {\n    exports.weakMap.set(keyObject, curve);\n}\nexports.setCurve = setCurve;\nexports.default = getNamedCurve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ecdhAllowed = exports.generateEpk = exports.deriveKey = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst generateKeyPair = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function deriveKey(publicKee, privateKee, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    let publicKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(publicKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(publicKee, 'ECDH');\n        publicKey = crypto_1.KeyObject.from(publicKee);\n    }\n    else if ((0, is_key_object_js_1.default)(publicKee)) {\n        publicKey = publicKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(publicKee, ...is_key_like_js_1.types));\n    }\n    let privateKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(privateKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(privateKee, 'ECDH', 'deriveBits');\n        privateKey = crypto_1.KeyObject.from(privateKee);\n    }\n    else if ((0, is_key_object_js_1.default)(privateKee)) {\n        privateKey = privateKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(privateKee, ...is_key_like_js_1.types));\n    }\n    const value = (0, buffer_utils_js_1.concat)((0, buffer_utils_js_1.lengthAndInput)(buffer_utils_js_1.encoder.encode(algorithm)), (0, buffer_utils_js_1.lengthAndInput)(apu), (0, buffer_utils_js_1.lengthAndInput)(apv), (0, buffer_utils_js_1.uint32be)(keyLength));\n    const sharedSecret = (0, crypto_1.diffieHellman)({ privateKey, publicKey });\n    return (0, buffer_utils_js_1.concatKdf)(sharedSecret, keyLength, value);\n}\nexports.deriveKey = deriveKey;\nasync function generateEpk(kee) {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    switch (key.asymmetricKeyType) {\n        case 'x25519':\n            return generateKeyPair('x25519');\n        case 'x448': {\n            return generateKeyPair('x448');\n        }\n        case 'ec': {\n            const namedCurve = (0, get_named_curve_js_1.default)(key);\n            return generateKeyPair('ec', { namedCurve });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported EPK');\n    }\n}\nexports.generateEpk = generateEpk;\nconst ecdhAllowed = (key) => ['P-256', 'P-384', 'P-521', 'X25519', 'X448'].includes((0, get_named_curve_js_1.default)(key));\nexports.ecdhAllowed = ecdhAllowed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new errors_js_1.JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\nexports.default = checkP2s;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst util_1 = require(\"util\");\nconst crypto_1 = require(\"crypto\");\nconst random_js_1 = require(\"./random.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst aeskw_js_1 = require(\"./aeskw.js\");\nconst check_p2s_js_1 = require(\"../lib/check_p2s.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst pbkdf2 = (0, util_1.promisify)(crypto_1.pbkdf2);\nfunction getPassword(key, alg) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key.export();\n    }\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, 'deriveBits', 'deriveKey');\n        return crypto_1.KeyObject.from(key).export();\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst encrypt = async (alg, key, cek, p2c = 2048, p2s = (0, random_js_1.default)(new Uint8Array(16))) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    const encryptedKey = await (0, aeskw_js_1.wrap)(alg.slice(-6), derivedKey, cek);\n    return { encryptedKey, p2c, p2s: (0, base64url_js_1.encode)(p2s) };\n};\nexports.encrypt = encrypt;\nconst decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    return (0, aeskw_js_1.unwrap)(alg.slice(-6), derivedKey, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setModulusLength = exports.weakMap = void 0;\nexports.weakMap = new WeakMap();\nconst getLength = (buf, index) => {\n    let len = buf.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        if (index === 0) {\n            return len;\n        }\n        return getLength(buf.subarray(2 + len), index - 1);\n    }\n    const num = len & 0x7f;\n    len = 0;\n    for (let i = 0; i < num; i++) {\n        len <<= 8;\n        const j = buf.readUInt8(2 + i);\n        len |= j;\n    }\n    if (index === 0) {\n        return len;\n    }\n    return getLength(buf.subarray(2 + len), index - 1);\n};\nconst getLengthOfSeqIndex = (sequence, index) => {\n    const len = sequence.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        return getLength(sequence.subarray(2), index);\n    }\n    const num = len & 0x7f;\n    return getLength(sequence.subarray(2 + num), index);\n};\nconst getModulusLength = (key) => {\n    var _a, _b;\n    if (exports.weakMap.has(key)) {\n        return exports.weakMap.get(key);\n    }\n    const modulusLength = (_b = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.modulusLength) !== null && _b !== void 0 ? _b : (getLengthOfSeqIndex(key.export({ format: 'der', type: 'pkcs1' }), key.type === 'private' ? 1 : 0) -\n        1) <<\n        3;\n    exports.weakMap.set(key, modulusLength);\n    return modulusLength;\n};\nconst setModulusLength = (keyObject, modulusLength) => {\n    exports.weakMap.set(keyObject, modulusLength);\n};\nexports.setModulusLength = setModulusLength;\nexports.default = (key, alg) => {\n    if (getModulusLength(key) < 2048) {\n        throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst crypto_1 = require(\"crypto\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst checkKey = (key, alg) => {\n    if (key.asymmetricKeyType !== 'rsa') {\n        throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n    }\n    (0, check_modulus_length_js_1.default)(key, alg);\n};\nconst resolvePadding = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return crypto_1.constants.RSA_PKCS1_OAEP_PADDING;\n        case 'RSA1_5':\n            return crypto_1.constants.RSA_PKCS1_PADDING;\n        default:\n            return undefined;\n    }\n};\nconst resolveOaepHash = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n            return 'sha1';\n        case 'RSA-OAEP-256':\n            return 'sha256';\n        case 'RSA-OAEP-384':\n            return 'sha384';\n        case 'RSA-OAEP-512':\n            return 'sha512';\n        default:\n            return undefined;\n    }\n};\nfunction ensureKeyObject(key, alg, ...usages) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, ...usages);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n}\nconst encrypt = (alg, key, cek) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey', 'encrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.publicEncrypt)({ key: keyObject, oaepHash, padding }, cek);\n};\nexports.encrypt = encrypt;\nconst decrypt = (alg, key, encryptedKey) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey', 'decrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.privateDecrypt)({ key: keyObject, oaepHash, padding }, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromX509 = exports.fromSPKI = exports.fromPKCS8 = exports.toPKCS8 = exports.toSPKI = void 0;\nconst crypto_1 = require(\"crypto\");\nconst buffer_1 = require(\"buffer\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst genericExport = (keyType, keyFormat, key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n    }\n    if (keyObject.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return keyObject.export({ format: 'pem', type: keyFormat });\n};\nconst toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexports.toSPKI = toSPKI;\nconst toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nexports.toPKCS8 = toPKCS8;\nconst fromPKCS8 = (pem) => (0, crypto_1.createPrivateKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g, ''), 'base64'),\n    type: 'pkcs8',\n    format: 'der',\n});\nexports.fromPKCS8 = fromPKCS8;\nconst fromSPKI = (pem) => (0, crypto_1.createPublicKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g, ''), 'base64'),\n    type: 'spki',\n    format: 'der',\n});\nexports.fromSPKI = fromSPKI;\nconst fromX509 = (pem) => (0, crypto_1.createPublicKey)({\n    key: pem,\n    type: 'spki',\n    format: 'pem',\n});\nexports.fromX509 = fromX509;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst tagInteger = 0x02;\nconst tagBitStr = 0x03;\nconst tagOctStr = 0x04;\nconst tagSequence = 0x30;\nconst bZero = buffer_1.Buffer.from([0x00]);\nconst bTagInteger = buffer_1.Buffer.from([tagInteger]);\nconst bTagBitStr = buffer_1.Buffer.from([tagBitStr]);\nconst bTagSequence = buffer_1.Buffer.from([tagSequence]);\nconst bTagOctStr = buffer_1.Buffer.from([tagOctStr]);\nconst encodeLength = (len) => {\n    if (len < 128)\n        return buffer_1.Buffer.from([len]);\n    const buffer = buffer_1.Buffer.alloc(5);\n    buffer.writeUInt32BE(len, 1);\n    let offset = 1;\n    while (buffer[offset] === 0)\n        offset++;\n    buffer[offset - 1] = 0x80 | (5 - offset);\n    return buffer.slice(offset - 1);\n};\nconst oids = new Map([\n    ['P-256', buffer_1.Buffer.from('06 08 2A 86 48 CE 3D 03 01 07'.replace(/ /g, ''), 'hex')],\n    ['secp256k1', buffer_1.Buffer.from('06 05 2B 81 04 00 0A'.replace(/ /g, ''), 'hex')],\n    ['P-384', buffer_1.Buffer.from('06 05 2B 81 04 00 22'.replace(/ /g, ''), 'hex')],\n    ['P-521', buffer_1.Buffer.from('06 05 2B 81 04 00 23'.replace(/ /g, ''), 'hex')],\n    ['ecPublicKey', buffer_1.Buffer.from('06 07 2A 86 48 CE 3D 02 01'.replace(/ /g, ''), 'hex')],\n    ['X25519', buffer_1.Buffer.from('06 03 2B 65 6E'.replace(/ /g, ''), 'hex')],\n    ['X448', buffer_1.Buffer.from('06 03 2B 65 6F'.replace(/ /g, ''), 'hex')],\n    ['Ed25519', buffer_1.Buffer.from('06 03 2B 65 70'.replace(/ /g, ''), 'hex')],\n    ['Ed448', buffer_1.Buffer.from('06 03 2B 65 71'.replace(/ /g, ''), 'hex')],\n]);\nclass DumbAsn1Encoder {\n    constructor() {\n        this.length = 0;\n        this.elements = [];\n    }\n    oidFor(oid) {\n        const bOid = oids.get(oid);\n        if (!bOid) {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported OID');\n        }\n        this.elements.push(bOid);\n        this.length += bOid.length;\n    }\n    zero() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), bZero);\n        this.length += 3;\n    }\n    one() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), buffer_1.Buffer.from([0x01]));\n        this.length += 3;\n    }\n    unsignedInteger(integer) {\n        if (integer[0] & 0x80) {\n            const len = encodeLength(integer.length + 1);\n            this.elements.push(bTagInteger, len, bZero, integer);\n            this.length += 2 + len.length + integer.length;\n        }\n        else {\n            let i = 0;\n            while (integer[i] === 0 && (integer[i + 1] & 0x80) === 0)\n                i++;\n            const len = encodeLength(integer.length - i);\n            this.elements.push(bTagInteger, encodeLength(integer.length - i), integer.slice(i));\n            this.length += 1 + len.length + integer.length - i;\n        }\n    }\n    octStr(octStr) {\n        const len = encodeLength(octStr.length);\n        this.elements.push(bTagOctStr, encodeLength(octStr.length), octStr);\n        this.length += 1 + len.length + octStr.length;\n    }\n    bitStr(bitS) {\n        const len = encodeLength(bitS.length + 1);\n        this.elements.push(bTagBitStr, encodeLength(bitS.length + 1), bZero, bitS);\n        this.length += 1 + len.length + bitS.length + 1;\n    }\n    add(seq) {\n        this.elements.push(seq);\n        this.length += seq.length;\n    }\n    end(tag = bTagSequence) {\n        const len = encodeLength(this.length);\n        return buffer_1.Buffer.concat([tag, len, ...this.elements], 1 + len.length + this.length);\n    }\n}\nexports.default = DumbAsn1Encoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwkImport = exports.jwkExport = exports.rsaPssParams = exports.oneShotCallback = void 0;\nconst [major, minor] = process.versions.node.split('.').map((str) => parseInt(str, 10));\nexports.oneShotCallback = major >= 16 || (major === 15 && minor >= 13);\nexports.rsaPssParams = !('electron' in process.versions) && (major >= 17 || (major === 16 && minor >= 9));\nexports.jwkExport = major >= 16 || (major === 15 && minor >= 9);\nexports.jwkImport = major >= 16 || (major === 15 && minor >= 12);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst asn1_sequence_encoder_js_1 = require(\"./asn1_sequence_encoder.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst parse = (jwk) => {\n    if (flags_js_1.jwkImport && jwk.kty !== 'oct') {\n        return jwk.d\n            ? (0, crypto_1.createPrivateKey)({ format: 'jwk', key: jwk })\n            : (0, crypto_1.createPublicKey)({ format: 'jwk', key: jwk });\n    }\n    switch (jwk.kty) {\n        case 'oct': {\n            return (0, crypto_1.createSecretKey)((0, base64url_js_1.decode)(jwk.k));\n        }\n        case 'RSA': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const modulus = buffer_1.Buffer.from(jwk.n, 'base64');\n            const exponent = buffer_1.Buffer.from(jwk.e, 'base64');\n            if (isPrivate) {\n                enc.zero();\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.d, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.p, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.q, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dp, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dq, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.qi, 'base64'));\n            }\n            else {\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n            }\n            const der = enc.end();\n            const createInput = {\n                key: der,\n                format: 'der',\n                type: 'pkcs1',\n            };\n            const keyObject = isPrivate ? (0, crypto_1.createPrivateKey)(createInput) : (0, crypto_1.createPublicKey)(createInput);\n            (0, check_modulus_length_js_1.setModulusLength)(keyObject, modulus.length << 3);\n            return keyObject;\n        }\n        case 'EC': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const pub = buffer_1.Buffer.concat([\n                buffer_1.Buffer.alloc(1, 4),\n                buffer_1.Buffer.from(jwk.x, 'base64'),\n                buffer_1.Buffer.from(jwk.y, 'base64'),\n            ]);\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor('ecPublicKey');\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.one();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const enc$3 = new asn1_sequence_encoder_js_1.default();\n                enc$3.bitStr(pub);\n                const f2 = enc$3.end(buffer_1.Buffer.from([0xa1]));\n                enc$2.add(f2);\n                const f = enc$2.end();\n                const enc$4 = new asn1_sequence_encoder_js_1.default();\n                enc$4.add(f);\n                const f3 = enc$4.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f3);\n                const der = enc.end();\n                const keyObject = (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n                (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n                return keyObject;\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor('ecPublicKey');\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(pub);\n            const der = enc.end();\n            const keyObject = (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n            (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n            return keyObject;\n        }\n        case 'OKP': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const f = enc$2.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f);\n                const der = enc.end();\n                return (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(buffer_1.Buffer.from(jwk.x, 'base64'));\n            const der = enc.end();\n            return (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n};\nexports.default = parse;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.importJWK = exports.importPKCS8 = exports.importX509 = exports.importSPKI = void 0;\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst jwk_to_key_js_1 = require(\"../runtime/jwk_to_key.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nasync function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return (0, asn1_js_1.fromSPKI)(spki, alg, options);\n}\nexports.importSPKI = importSPKI;\nasync function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return (0, asn1_js_1.fromX509)(x509, alg, options);\n}\nexports.importX509 = importX509;\nasync function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return (0, asn1_js_1.fromPKCS8)(pkcs8, alg, options);\n}\nexports.importPKCS8 = importPKCS8;\nasync function importJWK(jwk, alg, octAsKeyObject) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            octAsKeyObject !== null && octAsKeyObject !== void 0 ? octAsKeyObject : (octAsKeyObject = jwk.ext !== true);\n            if (octAsKeyObject) {\n                return (0, jwk_to_key_js_1.default)({ ...jwk, alg, ext: (_a = jwk.ext) !== null && _a !== void 0 ? _a : false });\n            }\n            return (0, base64url_js_1.decode)(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new errors_js_1.JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return (0, jwk_to_key_js_1.default)({ ...jwk, alg });\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\nexports.importJWK = importJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst invalid_key_input_js_1 = require(\"./invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"../runtime/is_key_like.js\");\nconst symmetricTypeCheck = (alg, key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n};\nexports.default = checkKeyType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, encKey, iv);\n    const ciphertext = (0, buffer_utils_js_1.concat)(cipher.update(plaintext), cipher.final());\n    const macSize = parseInt(enc.slice(-3), 10);\n    const tag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    return { ciphertext, tag };\n}\nfunction gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n    if (aad.byteLength) {\n        cipher.setAAD(aad, { plaintextLength: plaintext.length });\n    }\n    const ciphertext = cipher.update(plaintext);\n    cipher.final();\n    const tag = cipher.getAuthTag();\n    return { ciphertext, tag };\n}\nconst encrypt = (enc, plaintext, cek, iv, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'encrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcEncrypt(enc, plaintext, key, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmEncrypt(enc, plaintext, key, iv, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = encrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst encrypt_js_1 = require(\"../runtime/encrypt.js\");\nconst decrypt_js_1 = require(\"../runtime/decrypt.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nasync function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    iv || (iv = (0, iv_js_1.default)(jweAlgorithm));\n    const { ciphertext: encryptedKey, tag } = await (0, encrypt_js_1.default)(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return { encryptedKey, iv: (0, base64url_js_1.encode)(iv), tag: (0, base64url_js_1.encode)(tag) };\n}\nexports.wrap = wrap;\nasync function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return (0, decrypt_js_1.default)(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst import_js_1 = require(\"../key/import.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    (0, check_key_type_js_1.default)(alg, key, 'decrypt');\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!(0, is_object_js_1.default)(joseHeader.epk))\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await (0, import_js_1.importJWK)(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = (0, base64url_js_1.decode)(joseHeader.apu);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = (0, base64url_js_1.decode)(joseHeader.apv);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, rsaes_js_1.decrypt)(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = (options === null || options === void 0 ? void 0 : options.maxPBES2Count) || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = (0, base64url_js_1.decode)(joseHeader.p2s);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return (0, pbes2kw_js_1.decrypt)(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = (0, base64url_js_1.decode)(joseHeader.iv);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = (0, base64url_js_1.decode)(joseHeader.tag);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n            }\n            return (0, aesgcmkw_js_1.unwrap)(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexports.default = decryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new errors_js_1.JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexports.default = validateCrit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexports.default = validateAlgorithms;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedDecrypt = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst decrypt_js_1 = require(\"../../runtime/decrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst decrypt_key_management_js_1 = require(\"../../lib/decrypt_key_management.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedDecrypt(jwe, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new errors_js_1.JWEInvalid('JOSE Header missing');\n    }\n    if (typeof jwe.iv !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Initialization Vector missing or incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (typeof jwe.tag !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Authentication Tag missing or incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !(0, is_object_js_1.default)(jwe.header)) {\n        throw new errors_js_1.JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !(0, is_object_js_1.default)(jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jwe.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        if (!parsedProt || !parsedProt.zip) {\n            throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n        }\n        if (joseHeader.zip !== 'DEF') {\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n        }\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new errors_js_1.JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && (0, validate_algorithms_js_1.default)('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        (0, validate_algorithms_js_1.default)('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if (keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = (0, base64url_js_1.decode)(jwe.encrypted_key);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await (0, decrypt_key_management_js_1.default)(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof errors_js_1.JWEInvalid || err instanceof errors_js_1.JOSENotSupported) {\n            throw err;\n        }\n        cek = (0, cek_js_1.default)(enc);\n    }\n    let iv;\n    let tag;\n    try {\n        iv = (0, base64url_js_1.decode)(jwe.iv);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n    }\n    try {\n        tag = (0, base64url_js_1.decode)(jwe.tag);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n    }\n    const protectedHeader = buffer_utils_js_1.encoder.encode((_a = jwe.protected) !== null && _a !== void 0 ? _a : '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = (0, base64url_js_1.decode)(jwe.ciphertext);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    let plaintext = await (0, decrypt_js_1.default)(enc, cek, ciphertext, iv, tag, additionalData);\n    if (joseHeader.zip === 'DEF') {\n        plaintext = await ((options === null || options === void 0 ? void 0 : options.inflateRaw) || zlib_js_1.inflate)(plaintext);\n    }\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = (0, base64url_js_1.decode)(jwe.aad);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedDecrypt = flattenedDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = buffer_utils_js_1.decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new errors_js_1.JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new errors_js_1.JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await (0, decrypt_js_1.flattenedDecrypt)({\n        ciphertext,\n        iv: (iv || undefined),\n        protected: protectedHeader || undefined,\n        tag: (tag || undefined),\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.compactDecrypt = compactDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalDecrypt(jwe, key, options) {\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await (0, decrypt_js_1.flattenedDecrypt)({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWEDecryptionFailed();\n}\nexports.generalDecrypt = generalDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tagInteger = 0x02;\nconst tagSequence = 0x30;\nclass Asn1SequenceDecoder {\n    constructor(buffer) {\n        if (buffer[0] !== tagSequence) {\n            throw new TypeError();\n        }\n        this.buffer = buffer;\n        this.offset = 1;\n        const len = this.decodeLength();\n        if (len !== buffer.length - this.offset) {\n            throw new TypeError();\n        }\n    }\n    decodeLength() {\n        let length = this.buffer[this.offset++];\n        if (length & 0x80) {\n            const nBytes = length & ~0x80;\n            length = 0;\n            for (let i = 0; i < nBytes; i++)\n                length = (length << 8) | this.buffer[this.offset + i];\n            this.offset += nBytes;\n        }\n        return length;\n    }\n    unsignedInteger() {\n        if (this.buffer[this.offset++] !== tagInteger) {\n            throw new TypeError();\n        }\n        let length = this.decodeLength();\n        if (this.buffer[this.offset] === 0) {\n            this.offset++;\n            length--;\n        }\n        const result = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n    end() {\n        if (this.offset !== this.buffer.length) {\n            throw new TypeError();\n        }\n    }\n}\nexports.default = Asn1SequenceDecoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst asn1_sequence_decoder_js_1 = require(\"./asn1_sequence_decoder.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst keyToJWK = (key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: (0, base64url_js_1.encode)(key),\n        };\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (flags_js_1.jwkExport) {\n        if (keyObject.type !== 'secret' &&\n            !['rsa', 'ec', 'ed25519', 'x25519', 'ed448', 'x448'].includes(keyObject.asymmetricKeyType)) {\n            throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n        }\n        return keyObject.export({ format: 'jwk' });\n    }\n    switch (keyObject.type) {\n        case 'secret':\n            return {\n                kty: 'oct',\n                k: (0, base64url_js_1.encode)(keyObject.export()),\n            };\n        case 'private':\n        case 'public': {\n            switch (keyObject.asymmetricKeyType) {\n                case 'rsa': {\n                    const der = keyObject.export({ format: 'der', type: 'pkcs1' });\n                    const dec = new asn1_sequence_decoder_js_1.default(der);\n                    if (keyObject.type === 'private') {\n                        dec.unsignedInteger();\n                    }\n                    const n = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    const e = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    let jwk;\n                    if (keyObject.type === 'private') {\n                        jwk = {\n                            d: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            p: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            q: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dp: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dq: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            qi: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                        };\n                    }\n                    dec.end();\n                    return { kty: 'RSA', n, e, ...jwk };\n                }\n                case 'ec': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    let len;\n                    let offset;\n                    let correction;\n                    switch (crv) {\n                        case 'secp256k1':\n                            len = 64;\n                            offset = 31 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-256':\n                            len = 64;\n                            offset = 34 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-384':\n                            len = 96;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        case 'P-521':\n                            len = 132;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        default:\n                            throw new errors_js_1.JOSENotSupported('Unsupported curve');\n                    }\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'EC',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-len, -len / 2)),\n                            y: (0, base64url_js_1.encode)(der.subarray(-len / 2)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    if (der.length < 100) {\n                        offset += correction;\n                    }\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(offset, offset + len / 2)),\n                    };\n                }\n                case 'ed25519':\n                case 'x25519': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-32)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(-32)),\n                    };\n                }\n                case 'ed448':\n                case 'x448': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                    };\n                }\n                default:\n                    throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n            }\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key type');\n    }\n};\nexports.default = keyToJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.exportJWK = exports.exportPKCS8 = exports.exportSPKI = void 0;\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst asn1_js_2 = require(\"../runtime/asn1.js\");\nconst key_to_jwk_js_1 = require(\"../runtime/key_to_jwk.js\");\nasync function exportSPKI(key) {\n    return (0, asn1_js_1.toSPKI)(key);\n}\nexports.exportSPKI = exportSPKI;\nasync function exportPKCS8(key) {\n    return (0, asn1_js_2.toPKCS8)(key);\n}\nexports.exportPKCS8 = exportPKCS8;\nasync function exportJWK(key) {\n    return (0, key_to_jwk_js_1.default)(key);\n}\nexports.exportJWK = exportJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst export_js_1 = require(\"../key/export.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    (0, check_key_type_js_1.default)(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await (0, export_js_1.exportJWK)(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = (0, base64url_js_1.encode)(apu);\n            if (apv)\n                parameters.apv = (0, base64url_js_1.encode)(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await (0, aeskw_js_1.wrap)(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, rsaes_js_1.encrypt)(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, pbes2kw_js_1.encrypt)(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, aeskw_js_1.wrap)(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, aesgcmkw_js_1.wrap)(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexports.default = encryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedEncrypt = exports.unprotected = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst encrypt_js_1 = require(\"../../runtime/encrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst iv_js_1 = require(\"../../lib/iv.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nexports.unprotected = Symbol();\nclass FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new errors_js_1.JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            if (!this._protectedHeader || !this._protectedHeader.zip) {\n                throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n            }\n            if (joseHeader.zip !== 'DEF') {\n                throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n            }\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (alg === 'dir') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Encryption');\n            }\n        }\n        else if (alg === 'ECDH-ES') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Key Agreement');\n            }\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && exports.unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        this._iv || (this._iv = (0, iv_js_1.default)(enc));\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = (0, base64url_js_1.encode)(this._aad);\n            additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        let ciphertext;\n        let tag;\n        if (joseHeader.zip === 'DEF') {\n            const deflated = await ((options === null || options === void 0 ? void 0 : options.deflateRaw) || zlib_js_1.deflate)(this._plaintext);\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, deflated, cek, this._iv, additionalData));\n        }\n        else {\n            ;\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, this._plaintext, cek, this._iv, additionalData));\n        }\n        const jwe = {\n            ciphertext: (0, base64url_js_1.encode)(ciphertext),\n            iv: (0, base64url_js_1.encode)(this._iv),\n            tag: (0, base64url_js_1.encode)(tag),\n        };\n        if (encryptedKey) {\n            jwe.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\nexports.FlattenedEncrypt = FlattenedEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass IndividualRecipient {\n    constructor(enc, key, options) {\n        this.parent = enc;\n        this.key = key;\n        this.options = options;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addRecipient(...args) {\n        return this.parent.addRecipient(...args);\n    }\n    encrypt(...args) {\n        return this.parent.encrypt(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralEncrypt {\n    constructor(plaintext) {\n        this._recipients = [];\n        this._plaintext = plaintext;\n    }\n    addRecipient(key, options) {\n        const recipient = new IndividualRecipient(this, key, { crit: options === null || options === void 0 ? void 0 : options.crit });\n        this._recipients.push(recipient);\n        return recipient;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    async encrypt(options) {\n        var _a, _b, _c;\n        if (!this._recipients.length) {\n            throw new errors_js_1.JWEInvalid('at least one recipient must be added');\n        }\n        options = { deflateRaw: options === null || options === void 0 ? void 0 : options.deflateRaw };\n        if (this._recipients.length === 1) {\n            const [recipient] = this._recipients;\n            const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                .setAdditionalAuthenticatedData(this._aad)\n                .setProtectedHeader(this._protectedHeader)\n                .setSharedUnprotectedHeader(this._unprotectedHeader)\n                .setUnprotectedHeader(recipient.unprotectedHeader)\n                .encrypt(recipient.key, { ...recipient.options, ...options });\n            let jwe = {\n                ciphertext: flattened.ciphertext,\n                iv: flattened.iv,\n                recipients: [{}],\n                tag: flattened.tag,\n            };\n            if (flattened.aad)\n                jwe.aad = flattened.aad;\n            if (flattened.protected)\n                jwe.protected = flattened.protected;\n            if (flattened.unprotected)\n                jwe.unprotected = flattened.unprotected;\n            if (flattened.encrypted_key)\n                jwe.recipients[0].encrypted_key = flattened.encrypted_key;\n            if (flattened.header)\n                jwe.recipients[0].header = flattened.header;\n            return jwe;\n        }\n        let enc;\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, recipient.unprotectedHeader)) {\n                throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n            }\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const { alg } = joseHeader;\n            if (typeof alg !== 'string' || !alg) {\n                throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n            }\n            if (alg === 'dir' || alg === 'ECDH-ES') {\n                throw new errors_js_1.JWEInvalid('\"dir\" and \"ECDH-ES\" alg may only be used with a single recipient');\n            }\n            if (typeof joseHeader.enc !== 'string' || !joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n            }\n            if (!enc) {\n                enc = joseHeader.enc;\n            }\n            else if (enc !== joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter must be the same for all recipients');\n            }\n            (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), recipient.options.crit, this._protectedHeader, joseHeader);\n            if (joseHeader.zip !== undefined) {\n                if (!this._protectedHeader || !this._protectedHeader.zip) {\n                    throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n                }\n            }\n        }\n        const cek = (0, cek_js_1.default)(enc);\n        let jwe = {\n            ciphertext: '',\n            iv: '',\n            recipients: [],\n            tag: '',\n        };\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            const target = {};\n            jwe.recipients.push(target);\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const p2c = joseHeader.alg.startsWith('PBES2') ? 2048 + i : undefined;\n            if (i === 0) {\n                const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                    .setAdditionalAuthenticatedData(this._aad)\n                    .setContentEncryptionKey(cek)\n                    .setProtectedHeader(this._protectedHeader)\n                    .setSharedUnprotectedHeader(this._unprotectedHeader)\n                    .setUnprotectedHeader(recipient.unprotectedHeader)\n                    .setKeyManagementParameters({ p2c })\n                    .encrypt(recipient.key, {\n                    ...recipient.options,\n                    ...options,\n                    [encrypt_js_1.unprotected]: true,\n                });\n                jwe.ciphertext = flattened.ciphertext;\n                jwe.iv = flattened.iv;\n                jwe.tag = flattened.tag;\n                if (flattened.aad)\n                    jwe.aad = flattened.aad;\n                if (flattened.protected)\n                    jwe.protected = flattened.protected;\n                if (flattened.unprotected)\n                    jwe.unprotected = flattened.unprotected;\n                target.encrypted_key = flattened.encrypted_key;\n                if (flattened.header)\n                    target.header = flattened.header;\n                continue;\n            }\n            const { encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(((_a = recipient.unprotectedHeader) === null || _a === void 0 ? void 0 : _a.alg) ||\n                ((_b = this._protectedHeader) === null || _b === void 0 ? void 0 : _b.alg) ||\n                ((_c = this._unprotectedHeader) === null || _c === void 0 ? void 0 : _c.alg), enc, recipient.key, cek, { p2c });\n            target.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n            if (recipient.unprotectedHeader || parameters)\n                target.header = { ...recipient.unprotectedHeader, ...parameters };\n        }\n        return jwe;\n    }\n}\nexports.GeneralEncrypt = GeneralEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction dsaDigest(alg) {\n    switch (alg) {\n        case 'PS256':\n        case 'RS256':\n        case 'ES256':\n        case 'ES256K':\n            return 'sha256';\n        case 'PS384':\n        case 'RS384':\n        case 'ES384':\n            return 'sha384';\n        case 'PS512':\n        case 'RS512':\n        case 'ES512':\n            return 'sha512';\n        case 'EdDSA':\n            return undefined;\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = dsaDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst PSS = {\n    padding: crypto_1.constants.RSA_PKCS1_PSS_PADDING,\n    saltLength: crypto_1.constants.RSA_PSS_SALTLEN_DIGEST,\n};\nconst ecCurveAlgMap = new Map([\n    ['ES256', 'P-256'],\n    ['ES256K', 'secp256k1'],\n    ['ES384', 'P-384'],\n    ['ES512', 'P-521'],\n]);\nfunction keyForCrypto(alg, key) {\n    switch (alg) {\n        case 'EdDSA':\n            if (!['ed25519', 'ed448'].includes(key.asymmetricKeyType)) {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448');\n            }\n            return key;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return key;\n        case flags_js_1.rsaPssParams && 'PS256':\n        case flags_js_1.rsaPssParams && 'PS384':\n        case flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType === 'rsa-pss') {\n                const { hashAlgorithm, mgf1HashAlgorithm, saltLength } = key.asymmetricKeyDetails;\n                const length = parseInt(alg.slice(-3), 10);\n                if (hashAlgorithm !== undefined &&\n                    (hashAlgorithm !== `sha${length}` || mgf1HashAlgorithm !== hashAlgorithm)) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of \"alg\" ${alg}`);\n                }\n                if (saltLength !== undefined && saltLength > length >> 3) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of \"alg\" ${alg}`);\n                }\n            }\n            else if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case !flags_js_1.rsaPssParams && 'PS256':\n        case !flags_js_1.rsaPssParams && 'PS384':\n        case !flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case 'ES256':\n        case 'ES256K':\n        case 'ES384':\n        case 'ES512': {\n            if (key.asymmetricKeyType !== 'ec') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ec');\n            }\n            const actual = (0, get_named_curve_js_1.default)(key);\n            const expected = ecCurveAlgMap.get(alg);\n            if (actual !== expected) {\n                throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${expected}, got ${actual}`);\n            }\n            return { dsaEncoding: 'ieee-p1363', key };\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = keyForCrypto;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction hmacDigest(alg) {\n    switch (alg) {\n        case 'HS256':\n            return 'sha256';\n        case 'HS384':\n            return 'sha384';\n        case 'HS512':\n            return 'sha512';\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = hmacDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction getSignVerifyKey(alg, key, usage) {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n        }\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if (key instanceof crypto_1.KeyObject) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkSigCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nexports.default = getSignVerifyKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst hmac_digest_js_1 = require(\"./hmac_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nlet oneShotSign;\nif (crypto.sign.length > 3) {\n    oneShotSign = (0, util_1.promisify)(crypto.sign);\n}\nelse {\n    oneShotSign = crypto.sign;\n}\nconst sign = async (alg, key, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'sign');\n    if (alg.startsWith('HS')) {\n        const hmac = crypto.createHmac((0, hmac_digest_js_1.default)(alg), keyObject);\n        hmac.update(data);\n        return hmac.digest();\n    }\n    return oneShotSign((0, dsa_digest_js_1.default)(alg), data, (0, node_key_js_1.default)(alg, keyObject));\n};\nexports.default = sign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst sign_js_1 = require(\"./sign.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nconst flags_js_1 = require(\"./flags.js\");\nlet oneShotVerify;\nif (crypto.verify.length > 4 && flags_js_1.oneShotCallback) {\n    oneShotVerify = (0, util_1.promisify)(crypto.verify);\n}\nelse {\n    oneShotVerify = crypto.verify;\n}\nconst verify = async (alg, key, signature, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'verify');\n    if (alg.startsWith('HS')) {\n        const expected = await (0, sign_js_1.default)(alg, keyObject, data);\n        const actual = signature;\n        try {\n            return crypto.timingSafeEqual(actual, expected);\n        }\n        catch {\n            return false;\n        }\n    }\n    const algorithm = (0, dsa_digest_js_1.default)(alg);\n    const keyInput = (0, node_key_js_1.default)(alg, keyObject);\n    try {\n        return await oneShotVerify(algorithm, data, keyInput, signature);\n    }\n    catch {\n        return false;\n    }\n};\nexports.default = verify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedVerify = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst verify_js_1 = require(\"../../runtime/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedVerify(jws, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new errors_js_1.JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !(0, is_object_js_1.default)(jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jws.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && (0, validate_algorithms_js_1.default)('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new errors_js_1.JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new errors_js_1.JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    (0, check_key_type_js_1.default)(alg, key, 'verify');\n    const data = (0, buffer_utils_js_1.concat)(buffer_utils_js_1.encoder.encode((_a = jws.protected) !== null && _a !== void 0 ? _a : ''), buffer_utils_js_1.encoder.encode('.'), typeof jws.payload === 'string' ? buffer_utils_js_1.encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = (0, base64url_js_1.decode)(jws.signature);\n    }\n    catch {\n        throw new errors_js_1.JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await (0, verify_js_1.default)(alg, key, signature, data);\n    if (!verified) {\n        throw new errors_js_1.JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = (0, base64url_js_1.decode)(jws.payload);\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = buffer_utils_js_1.encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedVerify = flattenedVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = buffer_utils_js_1.decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new errors_js_1.JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new errors_js_1.JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await (0, verify_js_1.flattenedVerify)({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.compactVerify = compactVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalVerify(jws, key, options) {\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('General JWS must be an object');\n    }\n    if (!Array.isArray(jws.signatures) || !jws.signatures.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWSInvalid('JWS Signatures missing or incorrect type');\n    }\n    for (const signature of jws.signatures) {\n        try {\n            return await (0, verify_js_1.flattenedVerify)({\n                header: signature.header,\n                payload: jws.payload,\n                protected: signature.protected,\n                signature: signature.signature,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWSSignatureVerificationFailed();\n}\nexports.generalVerify = generalVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (date) => Math.floor(date.getTime() / 1000);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;\nexports.default = (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[1]);\n    const unit = matched[2].toLowerCase();\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            return Math.round(value);\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            return Math.round(value * minute);\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            return Math.round(value * hour);\n        case 'day':\n        case 'days':\n        case 'd':\n            return Math.round(value * day);\n        case 'week':\n        case 'weeks':\n        case 'w':\n            return Math.round(value * week);\n        default:\n            return Math.round(value * year);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"./buffer_utils.js\");\nconst epoch_js_1 = require(\"./epoch.js\");\nconst secs_js_1 = require(\"./secs.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexports.default = (protectedHeader, encodedPayload, options = {}) => {\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"typ\" JWT header value', 'typ', 'check_failed');\n    }\n    let payload;\n    try {\n        payload = JSON.parse(buffer_utils_js_1.decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!(0, is_object_js_1.default)(payload)) {\n        throw new errors_js_1.JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    if (maxTokenAge !== undefined)\n        requiredClaims.push('iat');\n    if (audience !== undefined)\n        requiredClaims.push('aud');\n    if (subject !== undefined)\n        requiredClaims.push('sub');\n    if (issuer !== undefined)\n        requiredClaims.push('iss');\n    for (const claim of new Set(requiredClaims.reverse())) {\n        if (!(claim in payload)) {\n            throw new errors_js_1.JWTClaimValidationFailed(`missing required \"${claim}\" claim`, claim, 'missing');\n        }\n    }\n    if (issuer && !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"iss\" claim value', 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"sub\" claim value', 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"aud\" claim value', 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = (0, secs_js_1.default)(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = (0, epoch_js_1.default)(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim must be a number', 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim must be a number', 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"exp\" claim must be a number', 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new errors_js_1.JWTExpired('\"exp\" claim timestamp check failed', 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : (0, secs_js_1.default)(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new errors_js_1.JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtVerify = void 0;\nconst verify_js_1 = require(\"../jws/compact/verify.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtVerify(jwt, key, options) {\n    var _a;\n    const verified = await (0, verify_js_1.compactVerify)(jwt, key, options);\n    if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n        throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = (0, jwt_claims_set_js_1.default)(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.jwtVerify = jwtVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtDecrypt = void 0;\nconst decrypt_js_1 = require(\"../jwe/compact/decrypt.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtDecrypt(jwt, key, options) {\n    const decrypted = await (0, decrypt_js_1.compactDecrypt)(jwt, key, options);\n    const payload = (0, jwt_claims_set_js_1.default)(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.jwtDecrypt = jwtDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nclass CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new encrypt_js_1.FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\nexports.CompactEncrypt = CompactEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedSign = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst sign_js_1 = require(\"../../runtime/sign.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new errors_js_1.JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader)) {\n            throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        (0, check_key_type_js_1.default)(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        const data = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), payload);\n        const signature = await (0, sign_js_1.default)(alg, key, data);\n        const jws = {\n            signature: (0, base64url_js_1.encode)(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = buffer_utils_js_1.decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\nexports.FlattenedSign = FlattenedSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nclass CompactSign {\n    constructor(payload) {\n        this._flattened = new sign_js_1.FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\nexports.CompactSign = CompactSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nclass IndividualSignature {\n    constructor(sig, key, options) {\n        this.parent = sig;\n        this.key = key;\n        this.options = options;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addSignature(...args) {\n        return this.parent.addSignature(...args);\n    }\n    sign(...args) {\n        return this.parent.sign(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralSign {\n    constructor(payload) {\n        this._signatures = [];\n        this._payload = payload;\n    }\n    addSignature(key, options) {\n        const signature = new IndividualSignature(this, key, options);\n        this._signatures.push(signature);\n        return signature;\n    }\n    async sign() {\n        if (!this._signatures.length) {\n            throw new errors_js_1.JWSInvalid('at least one signature must be added');\n        }\n        const jws = {\n            signatures: [],\n            payload: '',\n        };\n        for (let i = 0; i < this._signatures.length; i++) {\n            const signature = this._signatures[i];\n            const flattened = new sign_js_1.FlattenedSign(this._payload);\n            flattened.setProtectedHeader(signature.protectedHeader);\n            flattened.setUnprotectedHeader(signature.unprotectedHeader);\n            const { payload, ...rest } = await flattened.sign(signature.key, signature.options);\n            if (i === 0) {\n                jws.payload = payload;\n            }\n            else if (jws.payload !== payload) {\n                throw new errors_js_1.JWSInvalid('inconsistent use of JWS Unencoded Payload (RFC7797)');\n            }\n            jws.signatures.push(rest);\n        }\n        return jws;\n    }\n}\nexports.GeneralSign = GeneralSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProduceJWT = void 0;\nconst epoch_js_1 = require(\"../lib/epoch.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst secs_js_1 = require(\"../lib/secs.js\");\nclass ProduceJWT {\n    constructor(payload) {\n        if (!(0, is_object_js_1.default)(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: input };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: input };\n        }\n        else {\n            this._payload = { ...this._payload, exp: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: (0, epoch_js_1.default)(new Date()) };\n        }\n        else {\n            this._payload = { ...this._payload, iat: input };\n        }\n        return this;\n    }\n}\nexports.ProduceJWT = ProduceJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignJWT = void 0;\nconst sign_js_1 = require(\"../jws/compact/sign.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass SignJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        var _a;\n        const sig = new sign_js_1.CompactSign(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\nexports.SignJWT = SignJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EncryptJWT = void 0;\nconst encrypt_js_1 = require(\"../jwe/compact/encrypt.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass EncryptJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new encrypt_js_1.CompactEncrypt(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\nexports.EncryptJWT = EncryptJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new errors_js_1.JWKInvalid(`${description} missing or invalid`);\n    }\n};\nasync function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = buffer_utils_js_1.encoder.encode(JSON.stringify(components));\n    return (0, base64url_js_1.encode)(await (0, digest_js_1.default)(digestAlgorithm, data));\n}\nexports.calculateJwkThumbprint = calculateJwkThumbprint;\nasync function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\nexports.calculateJwkThumbprintUri = calculateJwkThumbprintUri;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmbeddedJWK = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token === null || token === void 0 ? void 0 : token.header,\n    };\n    if (!(0, is_object_js_1.default)(joseHeader.jwk)) {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await (0, import_js_1.importJWK)({ ...joseHeader.jwk, ext: true }, joseHeader.alg, true);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\nexports.EmbeddedJWK = EmbeddedJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLocalJWKSet = exports.LocalJWKSet = exports.isJWKSLike = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nexports.isJWKSLike = isJWKSLike;\nfunction isJWKLike(key) {\n    return (0, is_object_js_1.default)(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token === null || token === void 0 ? void 0 : token.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new errors_js_1.JWKSNoMatchingKey();\n        }\n        else if (length !== 1) {\n            const error = new errors_js_1.JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch {\n                        continue;\n                    }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nexports.LocalJWKSet = LocalJWKSet;\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await (0, import_js_1.importJWK)({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nfunction createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createLocalJWKSet = createLocalJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst http = require(\"http\");\nconst https = require(\"https\");\nconst events_1 = require(\"events\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst fetchJwks = async (url, timeout, options) => {\n    let get;\n    switch (url.protocol) {\n        case 'https:':\n            get = https.get;\n            break;\n        case 'http:':\n            get = http.get;\n            break;\n        default:\n            throw new TypeError('Unsupported URL protocol.');\n    }\n    const { agent, headers } = options;\n    const req = get(url.href, {\n        agent,\n        timeout,\n        headers,\n    });\n    const [response] = (await Promise.race([(0, events_1.once)(req, 'response'), (0, events_1.once)(req, 'timeout')]));\n    if (!response) {\n        req.destroy();\n        throw new errors_js_1.JWKSTimeout();\n    }\n    if (response.statusCode !== 200) {\n        throw new errors_js_1.JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    const parts = [];\n    for await (const part of response) {\n        parts.push(part);\n    }\n    try {\n        return JSON.parse(buffer_utils_js_1.decoder.decode((0, buffer_utils_js_1.concat)(...parts)));\n    }\n    catch {\n        throw new errors_js_1.JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexports.default = fetchJwks;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRemoteJWKSet = void 0;\nconst fetch_jwks_js_1 = require(\"../runtime/fetch_jwks.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst local_js_1 = require(\"./local.js\");\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nclass RemoteJWKSet extends local_js_1.LocalJWKSet {\n    constructor(url, options) {\n        super({ keys: [] });\n        this._jwks = undefined;\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options === null || options === void 0 ? void 0 : options.agent, headers: options === null || options === void 0 ? void 0 : options.headers };\n        this._timeoutDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.timeoutDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.cooldownDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof (options === null || options === void 0 ? void 0 : options.cacheMaxAge) === 'number' ? options === null || options === void 0 ? void 0 : options.cacheMaxAge : 600000;\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._jwks || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await super.getKey(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof errors_js_1.JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return super.getKey(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        this._pendingFetch || (this._pendingFetch = (0, fetch_jwks_js_1.default)(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            if (!(0, local_js_1.isJWKSLike)(json)) {\n                throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n            }\n            this._jwks = { keys: json.keys };\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nfunction createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createRemoteJWKSet = createRemoteJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsecuredJWT = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass UnsecuredJWT extends produce_js_1.ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new errors_js_1.JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(buffer_utils_js_1.decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = (0, jwt_claims_set_js_1.default)(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\nexports.UnsecuredJWT = UnsecuredJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nexports.encode = base64url.encode;\nexports.decode = base64url.decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeProtectedHeader = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(buffer_utils_js_1.decoder.decode((0, base64url_js_1.decode)(protectedB64u)));\n        if (!(0, is_object_js_1.default)(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\nexports.decodeProtectedHeader = decodeProtectedHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeJwt = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"./errors.js\");\nfunction decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new errors_js_1.JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new errors_js_1.JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new errors_js_1.JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new errors_js_1.JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = (0, base64url_js_1.decode)(payload);\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(buffer_utils_js_1.decoder.decode(decoded));\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!(0, is_object_js_1.default)(result))\n        throw new errors_js_1.JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\nexports.decodeJwt = decodeJwt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = exports.generateSecret = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst random_js_1 = require(\"./random.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst generate = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function generateSecret(alg, options) {\n    let length;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            break;\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return (0, crypto_1.createSecretKey)((0, random_js_1.default)(new Uint8Array(length >> 3)));\n}\nexports.generateSecret = generateSecret;\nasync function generateKeyPair(alg, options) {\n    var _a, _b;\n    switch (alg) {\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n        case 'RSA1_5': {\n            const modulusLength = (_a = options === null || options === void 0 ? void 0 : options.modulusLength) !== null && _a !== void 0 ? _a : 2048;\n            if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n                throw new errors_js_1.JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n            }\n            const keypair = await generate('rsa', {\n                modulusLength,\n                publicExponent: 0x10001,\n            });\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.privateKey, modulusLength);\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.publicKey, modulusLength);\n            return keypair;\n        }\n        case 'ES256':\n            return generate('ec', { namedCurve: 'P-256' });\n        case 'ES256K':\n            return generate('ec', { namedCurve: 'secp256k1' });\n        case 'ES384':\n            return generate('ec', { namedCurve: 'P-384' });\n        case 'ES512':\n            return generate('ec', { namedCurve: 'P-521' });\n        case 'EdDSA': {\n            switch (options === null || options === void 0 ? void 0 : options.crv) {\n                case undefined:\n                case 'Ed25519':\n                    return generate('ed25519');\n                case 'Ed448':\n                    return generate('ed448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448');\n            }\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW':\n            const crv = (_b = options === null || options === void 0 ? void 0 : options.crv) !== null && _b !== void 0 ? _b : 'P-256';\n            switch (crv) {\n                case undefined:\n                case 'P-256':\n                case 'P-384':\n                case 'P-521':\n                    return generate('ec', { namedCurve: crv });\n                case 'X25519':\n                    return generate('x25519');\n                case 'X448':\n                    return generate('x448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateKeyPair(alg, options) {\n    return (0, generate_js_1.generateKeyPair)(alg, options);\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateSecret = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateSecret(alg, options) {\n    return (0, generate_js_1.generateSecret)(alg, options);\n}\nexports.generateSecret = generateSecret;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = 'node:crypto';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst runtime_js_1 = require(\"../runtime/runtime.js\");\nexports.default = runtime_js_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cryptoRuntime = exports.base64url = exports.generateSecret = exports.generateKeyPair = exports.errors = exports.decodeJwt = exports.decodeProtectedHeader = exports.importJWK = exports.importX509 = exports.importPKCS8 = exports.importSPKI = exports.exportJWK = exports.exportSPKI = exports.exportPKCS8 = exports.UnsecuredJWT = exports.createRemoteJWKSet = exports.createLocalJWKSet = exports.EmbeddedJWK = exports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = exports.EncryptJWT = exports.SignJWT = exports.GeneralSign = exports.FlattenedSign = exports.CompactSign = exports.FlattenedEncrypt = exports.CompactEncrypt = exports.jwtDecrypt = exports.jwtVerify = exports.generalVerify = exports.flattenedVerify = exports.compactVerify = exports.GeneralEncrypt = exports.generalDecrypt = exports.flattenedDecrypt = exports.compactDecrypt = void 0;\nvar decrypt_js_1 = require(\"./jwe/compact/decrypt.js\");\nObject.defineProperty(exports, \"compactDecrypt\", { enumerable: true, get: function () { return decrypt_js_1.compactDecrypt; } });\nvar decrypt_js_2 = require(\"./jwe/flattened/decrypt.js\");\nObject.defineProperty(exports, \"flattenedDecrypt\", { enumerable: true, get: function () { return decrypt_js_2.flattenedDecrypt; } });\nvar decrypt_js_3 = require(\"./jwe/general/decrypt.js\");\nObject.defineProperty(exports, \"generalDecrypt\", { enumerable: true, get: function () { return decrypt_js_3.generalDecrypt; } });\nvar encrypt_js_1 = require(\"./jwe/general/encrypt.js\");\nObject.defineProperty(exports, \"GeneralEncrypt\", { enumerable: true, get: function () { return encrypt_js_1.GeneralEncrypt; } });\nvar verify_js_1 = require(\"./jws/compact/verify.js\");\nObject.defineProperty(exports, \"compactVerify\", { enumerable: true, get: function () { return verify_js_1.compactVerify; } });\nvar verify_js_2 = require(\"./jws/flattened/verify.js\");\nObject.defineProperty(exports, \"flattenedVerify\", { enumerable: true, get: function () { return verify_js_2.flattenedVerify; } });\nvar verify_js_3 = require(\"./jws/general/verify.js\");\nObject.defineProperty(exports, \"generalVerify\", { enumerable: true, get: function () { return verify_js_3.generalVerify; } });\nvar verify_js_4 = require(\"./jwt/verify.js\");\nObject.defineProperty(exports, \"jwtVerify\", { enumerable: true, get: function () { return verify_js_4.jwtVerify; } });\nvar decrypt_js_4 = require(\"./jwt/decrypt.js\");\nObject.defineProperty(exports, \"jwtDecrypt\", { enumerable: true, get: function () { return decrypt_js_4.jwtDecrypt; } });\nvar encrypt_js_2 = require(\"./jwe/compact/encrypt.js\");\nObject.defineProperty(exports, \"CompactEncrypt\", { enumerable: true, get: function () { return encrypt_js_2.CompactEncrypt; } });\nvar encrypt_js_3 = require(\"./jwe/flattened/encrypt.js\");\nObject.defineProperty(exports, \"FlattenedEncrypt\", { enumerable: true, get: function () { return encrypt_js_3.FlattenedEncrypt; } });\nvar sign_js_1 = require(\"./jws/compact/sign.js\");\nObject.defineProperty(exports, \"CompactSign\", { enumerable: true, get: function () { return sign_js_1.CompactSign; } });\nvar sign_js_2 = require(\"./jws/flattened/sign.js\");\nObject.defineProperty(exports, \"FlattenedSign\", { enumerable: true, get: function () { return sign_js_2.FlattenedSign; } });\nvar sign_js_3 = require(\"./jws/general/sign.js\");\nObject.defineProperty(exports, \"GeneralSign\", { enumerable: true, get: function () { return sign_js_3.GeneralSign; } });\nvar sign_js_4 = require(\"./jwt/sign.js\");\nObject.defineProperty(exports, \"SignJWT\", { enumerable: true, get: function () { return sign_js_4.SignJWT; } });\nvar encrypt_js_4 = require(\"./jwt/encrypt.js\");\nObject.defineProperty(exports, \"EncryptJWT\", { enumerable: true, get: function () { return encrypt_js_4.EncryptJWT; } });\nvar thumbprint_js_1 = require(\"./jwk/thumbprint.js\");\nObject.defineProperty(exports, \"calculateJwkThumbprint\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprint; } });\nObject.defineProperty(exports, \"calculateJwkThumbprintUri\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprintUri; } });\nvar embedded_js_1 = require(\"./jwk/embedded.js\");\nObject.defineProperty(exports, \"EmbeddedJWK\", { enumerable: true, get: function () { return embedded_js_1.EmbeddedJWK; } });\nvar local_js_1 = require(\"./jwks/local.js\");\nObject.defineProperty(exports, \"createLocalJWKSet\", { enumerable: true, get: function () { return local_js_1.createLocalJWKSet; } });\nvar remote_js_1 = require(\"./jwks/remote.js\");\nObject.defineProperty(exports, \"createRemoteJWKSet\", { enumerable: true, get: function () { return remote_js_1.createRemoteJWKSet; } });\nvar unsecured_js_1 = require(\"./jwt/unsecured.js\");\nObject.defineProperty(exports, \"UnsecuredJWT\", { enumerable: true, get: function () { return unsecured_js_1.UnsecuredJWT; } });\nvar export_js_1 = require(\"./key/export.js\");\nObject.defineProperty(exports, \"exportPKCS8\", { enumerable: true, get: function () { return export_js_1.exportPKCS8; } });\nObject.defineProperty(exports, \"exportSPKI\", { enumerable: true, get: function () { return export_js_1.exportSPKI; } });\nObject.defineProperty(exports, \"exportJWK\", { enumerable: true, get: function () { return export_js_1.exportJWK; } });\nvar import_js_1 = require(\"./key/import.js\");\nObject.defineProperty(exports, \"importSPKI\", { enumerable: true, get: function () { return import_js_1.importSPKI; } });\nObject.defineProperty(exports, \"importPKCS8\", { enumerable: true, get: function () { return import_js_1.importPKCS8; } });\nObject.defineProperty(exports, \"importX509\", { enumerable: true, get: function () { return import_js_1.importX509; } });\nObject.defineProperty(exports, \"importJWK\", { enumerable: true, get: function () { return import_js_1.importJWK; } });\nvar decode_protected_header_js_1 = require(\"./util/decode_protected_header.js\");\nObject.defineProperty(exports, \"decodeProtectedHeader\", { enumerable: true, get: function () { return decode_protected_header_js_1.decodeProtectedHeader; } });\nvar decode_jwt_js_1 = require(\"./util/decode_jwt.js\");\nObject.defineProperty(exports, \"decodeJwt\", { enumerable: true, get: function () { return decode_jwt_js_1.decodeJwt; } });\nexports.errors = require(\"./util/errors.js\");\nvar generate_key_pair_js_1 = require(\"./key/generate_key_pair.js\");\nObject.defineProperty(exports, \"generateKeyPair\", { enumerable: true, get: function () { return generate_key_pair_js_1.generateKeyPair; } });\nvar generate_secret_js_1 = require(\"./key/generate_secret.js\");\nObject.defineProperty(exports, \"generateSecret\", { enumerable: true, get: function () { return generate_secret_js_1.generateSecret; } });\nexports.base64url = require(\"./util/base64url.js\");\nvar runtime_js_1 = require(\"./util/runtime.js\");\nObject.defineProperty(exports, \"cryptoRuntime\", { enumerable: true, get: function () { return runtime_js_1.default; } });\n","const { strict: assert } = require('assert');\nconst { createHash } = require('crypto');\nconst { format } = require('util');\n\nlet encode;\nif (Buffer.isEncoding('base64url')) {\n  encode = (input) => input.toString('base64url');\n} else {\n  const fromBase64 = (base64) => base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n  encode = (input) => fromBase64(input.toString('base64'));\n}\n\n/** SPECIFICATION\n * Its (_hash) value is the base64url encoding of the left-most half of the hash of the octets of\n * the ASCII representation of the token value, where the hash algorithm used is the hash algorithm\n * used in the alg Header Parameter of the ID Token's JOSE Header. For instance, if the alg is\n * RS256, hash the token value with SHA-256, then take the left-most 128 bits and base64url encode\n * them. The _hash value is a case sensitive string.\n */\n\n/**\n * @name getHash\n * @api private\n *\n * returns the sha length based off the JOSE alg heade value, defaults to sha256\n *\n * @param token {String} token value to generate the hash from\n * @param alg {String} ID Token JOSE header alg value (i.e. RS256, HS384, ES512, PS256)\n * @param [crv] {String} For EdDSA the curve decides what hash algorithm is used. Required for EdDSA\n */\nfunction getHash(alg, crv) {\n  switch (alg) {\n    case 'HS256':\n    case 'RS256':\n    case 'PS256':\n    case 'ES256':\n    case 'ES256K':\n      return createHash('sha256');\n\n    case 'HS384':\n    case 'RS384':\n    case 'PS384':\n    case 'ES384':\n      return createHash('sha384');\n\n    case 'HS512':\n    case 'RS512':\n    case 'PS512':\n    case 'ES512':\n    case 'Ed25519':\n      return createHash('sha512');\n\n    case 'Ed448':\n      return createHash('shake256', { outputLength: 114 });\n\n    case 'EdDSA':\n      switch (crv) {\n        case 'Ed25519':\n          return createHash('sha512');\n        case 'Ed448':\n          return createHash('shake256', { outputLength: 114 });\n        default:\n          throw new TypeError('unrecognized or invalid EdDSA curve provided');\n      }\n\n    default:\n      throw new TypeError('unrecognized or invalid JWS algorithm provided');\n  }\n}\n\nfunction generate(token, alg, crv) {\n  const digest = getHash(alg, crv).update(token).digest();\n  return encode(digest.slice(0, digest.length / 2));\n}\n\nfunction validate(names, actual, source, alg, crv) {\n  if (typeof names.claim !== 'string' || !names.claim) {\n    throw new TypeError('names.claim must be a non-empty string');\n  }\n\n  if (typeof names.source !== 'string' || !names.source) {\n    throw new TypeError('names.source must be a non-empty string');\n  }\n\n  assert(typeof actual === 'string' && actual, `${names.claim} must be a non-empty string`);\n  assert(typeof source === 'string' && source, `${names.source} must be a non-empty string`);\n\n  let expected;\n  let msg;\n  try {\n    expected = generate(source, alg, crv);\n  } catch (err) {\n    msg = format('%s could not be validated (%s)', names.claim, err.message);\n  }\n\n  msg = msg || format('%s mismatch, expected %s, got: %s', names.claim, expected, actual);\n\n  assert.equal(expected, actual, msg);\n}\n\nmodule.exports = {\n  validate,\n  generate,\n};\n","const util = require('util');\nconst crypto = require('crypto');\n\nmodule.exports = util.types.isKeyObject || ((obj) => obj && obj instanceof crypto.KeyObject);\n","let encode;\nif (Buffer.isEncoding('base64url')) {\n  encode = (input, encoding = 'utf8') => Buffer.from(input, encoding).toString('base64url');\n} else {\n  const fromBase64 = (base64) => base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n  encode = (input, encoding = 'utf8') =>\n    fromBase64(Buffer.from(input, encoding).toString('base64'));\n}\n\nconst decode = (input) => Buffer.from(input, 'base64');\n\nmodule.exports.decode = decode;\nmodule.exports.encode = encode;\n","const base64url = require('./base64url');\n\nmodule.exports = (token) => {\n  if (typeof token !== 'string' || !token) {\n    throw new TypeError('JWT must be a string');\n  }\n\n  const { 0: header, 1: payload, 2: signature, length } = token.split('.');\n\n  if (length === 5) {\n    throw new TypeError('encrypted JWTs cannot be decoded');\n  }\n\n  if (length !== 3) {\n    throw new Error('JWTs must have three components');\n  }\n\n  try {\n    return {\n      header: JSON.parse(base64url.decode(header)),\n      payload: JSON.parse(base64url.decode(payload)),\n      signature,\n    };\n  } catch (err) {\n    throw new Error('JWT is malformed');\n  }\n};\n","module.exports = (a) => !!a && a.constructor === Object;\n","const isPlainObject = require('./is_plain_object');\n\nfunction defaults(deep, target, ...sources) {\n  for (const source of sources) {\n    if (!isPlainObject(source)) {\n      continue;\n    }\n    for (const [key, value] of Object.entries(source)) {\n      /* istanbul ignore if */\n      if (key === '__proto__' || key === 'constructor') {\n        continue;\n      }\n      if (typeof target[key] === 'undefined' && typeof value !== 'undefined') {\n        target[key] = value;\n      }\n\n      if (deep && isPlainObject(target[key]) && isPlainObject(value)) {\n        defaults(true, target[key], value);\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = defaults.bind(undefined, false);\nmodule.exports.deep = defaults.bind(undefined, true);\n","const REGEXP = /(\\w+)=(\"[^\"]*\")/g;\n\nmodule.exports = (wwwAuthenticate) => {\n  const params = {};\n  try {\n    while (REGEXP.exec(wwwAuthenticate) !== null) {\n      if (RegExp.$1 && RegExp.$2) {\n        params[RegExp.$1] = RegExp.$2.slice(1, -1);\n      }\n    }\n  } catch (err) {}\n\n  return params;\n};\n","function assertSigningAlgValuesSupport(endpoint, issuer, properties) {\n  if (!issuer[`${endpoint}_endpoint`]) return;\n\n  const eam = `${endpoint}_endpoint_auth_method`;\n  const easa = `${endpoint}_endpoint_auth_signing_alg`;\n  const easavs = `${endpoint}_endpoint_auth_signing_alg_values_supported`;\n\n  if (properties[eam] && properties[eam].endsWith('_jwt') && !properties[easa] && !issuer[easavs]) {\n    throw new TypeError(\n      `${easavs} must be configured on the issuer if ${easa} is not defined on a client`,\n    );\n  }\n}\n\nfunction assertIssuerConfiguration(issuer, endpoint) {\n  if (!issuer[endpoint]) {\n    throw new TypeError(`${endpoint} must be configured on the issuer`);\n  }\n}\n\nmodule.exports = {\n  assertSigningAlgValuesSupport,\n  assertIssuerConfiguration,\n};\n","module.exports = function pick(object, ...paths) {\n  const obj = {};\n  for (const path of paths) {\n    if (object[path] !== undefined) {\n      obj[path] = object[path];\n    }\n  }\n  return obj;\n};\n","const { STATUS_CODES } = require('http');\nconst { format } = require('util');\n\nconst { OPError } = require('../errors');\nconst parseWwwAuthenticate = require('./www_authenticate_parser');\n\nconst throwAuthenticateErrors = (response) => {\n  const params = parseWwwAuthenticate(response.headers['www-authenticate']);\n\n  if (params.error) {\n    throw new OPError(params, response);\n  }\n};\n\nconst isStandardBodyError = (response) => {\n  let result = false;\n  try {\n    let jsonbody;\n    if (typeof response.body !== 'object' || Buffer.isBuffer(response.body)) {\n      jsonbody = JSON.parse(response.body);\n    } else {\n      jsonbody = response.body;\n    }\n    result = typeof jsonbody.error === 'string' && jsonbody.error.length;\n    if (result) Object.defineProperty(response, 'body', { value: jsonbody, configurable: true });\n  } catch (err) {}\n\n  return result;\n};\n\nfunction processResponse(response, { statusCode = 200, body = true, bearer = false } = {}) {\n  if (response.statusCode !== statusCode) {\n    if (bearer) {\n      throwAuthenticateErrors(response);\n    }\n\n    if (isStandardBodyError(response)) {\n      throw new OPError(response.body, response);\n    }\n\n    throw new OPError(\n      {\n        error: format(\n          'expected %i %s, got: %i %s',\n          statusCode,\n          STATUS_CODES[statusCode],\n          response.statusCode,\n          STATUS_CODES[response.statusCode],\n        ),\n      },\n      response,\n    );\n  }\n\n  if (body && !response.body) {\n    throw new OPError(\n      {\n        error: format(\n          'expected %i %s with body but no body was returned',\n          statusCode,\n          STATUS_CODES[statusCode],\n        ),\n      },\n      response,\n    );\n  }\n\n  return response.body;\n}\n\nmodule.exports = processResponse;\n","module.exports = () => Math.floor(Date.now() / 1000);\n","const base64url = require('./helpers/base64url');\nconst now = require('./helpers/unix_timestamp');\n\nclass TokenSet {\n  constructor(values) {\n    Object.assign(this, values);\n    const { constructor, ...properties } = Object.getOwnPropertyDescriptors(\n      this.constructor.prototype,\n    );\n\n    Object.defineProperties(this, properties);\n  }\n\n  set expires_in(value) {\n    this.expires_at = now() + Number(value);\n  }\n\n  get expires_in() {\n    return Math.max.apply(null, [this.expires_at - now(), 0]);\n  }\n\n  expired() {\n    return this.expires_in === 0;\n  }\n\n  claims() {\n    if (!this.id_token) {\n      throw new TypeError('id_token not present in TokenSet');\n    }\n\n    return JSON.parse(base64url.decode(this.id_token.split('.')[1]));\n  }\n}\n\nmodule.exports = TokenSet;\n","const { createHash, randomBytes } = require('crypto');\n\nconst base64url = require('./base64url');\n\nconst random = (bytes = 32) => base64url.encode(randomBytes(bytes));\n\nmodule.exports = {\n  random,\n  state: random,\n  nonce: random,\n  codeVerifier: random,\n  codeChallenge: (codeVerifier) =>\n    base64url.encode(createHash('sha256').update(codeVerifier).digest()),\n};\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","const HTTP_OPTIONS = Symbol();\nconst CLOCK_TOLERANCE = Symbol();\n\nmodule.exports = {\n  CLOCK_TOLERANCE,\n  HTTP_OPTIONS,\n};\n","const assert = require('assert');\nconst querystring = require('querystring');\nconst http = require('http');\nconst https = require('https');\nconst { once } = require('events');\nconst { URL } = require('url');\n\nconst LRU = require('lru-cache');\n\nconst pkg = require('../../package.json');\nconst { RPError } = require('../errors');\n\nconst pick = require('./pick');\nconst { deep: defaultsDeep } = require('./defaults');\nconst { HTTP_OPTIONS } = require('./consts');\n\nlet DEFAULT_HTTP_OPTIONS;\nconst NQCHAR = /^[\\x21\\x23-\\x5B\\x5D-\\x7E]+$/;\n\nconst allowed = [\n  'agent',\n  'ca',\n  'cert',\n  'crl',\n  'headers',\n  'key',\n  'lookup',\n  'passphrase',\n  'pfx',\n  'timeout',\n];\n\nconst setDefaults = (props, options) => {\n  DEFAULT_HTTP_OPTIONS = defaultsDeep(\n    {},\n    props.length ? pick(options, ...props) : options,\n    DEFAULT_HTTP_OPTIONS,\n  );\n};\n\nsetDefaults([], {\n  headers: {\n    'User-Agent': `${pkg.name}/${pkg.version} (${pkg.homepage})`,\n    'Accept-Encoding': 'identity',\n  },\n  timeout: 3500,\n});\n\nfunction send(req, body, contentType) {\n  if (contentType) {\n    req.removeHeader('content-type');\n    req.setHeader('content-type', contentType);\n  }\n  if (body) {\n    req.removeHeader('content-length');\n    req.setHeader('content-length', Buffer.byteLength(body));\n    req.write(body);\n  }\n  req.end();\n}\n\nconst nonces = new LRU({ max: 100 });\n\nmodule.exports = async function request(options, { accessToken, mTLS = false, DPoP } = {}) {\n  let url;\n  try {\n    url = new URL(options.url);\n    delete options.url;\n    assert(/^(https?:)$/.test(url.protocol));\n  } catch (err) {\n    throw new TypeError('only valid absolute URLs can be requested');\n  }\n  const optsFn = this[HTTP_OPTIONS];\n  let opts = options;\n\n  const nonceKey = `${url.origin}${url.pathname}`;\n  if (DPoP && 'dpopProof' in this) {\n    opts.headers = opts.headers || {};\n    opts.headers.DPoP = await this.dpopProof(\n      {\n        htu: `${url.origin}${url.pathname}`,\n        htm: options.method || 'GET',\n        nonce: nonces.get(nonceKey),\n      },\n      DPoP,\n      accessToken,\n    );\n  }\n\n  let userOptions;\n  if (optsFn) {\n    userOptions = pick(\n      optsFn.call(this, url, defaultsDeep({}, opts, DEFAULT_HTTP_OPTIONS)),\n      ...allowed,\n    );\n  }\n  opts = defaultsDeep({}, userOptions, opts, DEFAULT_HTTP_OPTIONS);\n\n  if (mTLS && !opts.pfx && !(opts.key && opts.cert)) {\n    throw new TypeError('mutual-TLS certificate and key not set');\n  }\n\n  if (opts.searchParams) {\n    for (const [key, value] of Object.entries(opts.searchParams)) {\n      url.searchParams.delete(key);\n      url.searchParams.set(key, value);\n    }\n  }\n\n  let responseType;\n  let form;\n  let json;\n  let body;\n  ({ form, responseType, json, body, ...opts } = opts);\n\n  for (const [key, value] of Object.entries(opts.headers || {})) {\n    if (value === undefined) {\n      delete opts.headers[key];\n    }\n  }\n\n  let response;\n  const req = (url.protocol === 'https:' ? https.request : http.request)(url.href, opts);\n  return (async () => {\n    if (json) {\n      send(req, JSON.stringify(json), 'application/json');\n    } else if (form) {\n      send(req, querystring.stringify(form), 'application/x-www-form-urlencoded');\n    } else if (body) {\n      send(req, body);\n    } else {\n      send(req);\n    }\n\n    [response] = await Promise.race([once(req, 'response'), once(req, 'timeout')]);\n\n    // timeout reached\n    if (!response) {\n      req.destroy();\n      throw new RPError(`outgoing request timed out after ${opts.timeout}ms`);\n    }\n\n    const parts = [];\n\n    for await (const part of response) {\n      parts.push(part);\n    }\n\n    if (parts.length) {\n      switch (responseType) {\n        case 'json': {\n          Object.defineProperty(response, 'body', {\n            get() {\n              let value = Buffer.concat(parts);\n              try {\n                value = JSON.parse(value);\n              } catch (err) {\n                Object.defineProperty(err, 'response', { value: response });\n                throw err;\n              } finally {\n                Object.defineProperty(response, 'body', { value, configurable: true });\n              }\n              return value;\n            },\n            configurable: true,\n          });\n          break;\n        }\n        case undefined:\n        case 'buffer': {\n          Object.defineProperty(response, 'body', {\n            get() {\n              const value = Buffer.concat(parts);\n              Object.defineProperty(response, 'body', { value, configurable: true });\n              return value;\n            },\n            configurable: true,\n          });\n          break;\n        }\n        default:\n          throw new TypeError('unsupported responseType request option');\n      }\n    }\n\n    return response;\n  })()\n    .catch((err) => {\n      if (response) Object.defineProperty(err, 'response', { value: response });\n      throw err;\n    })\n    .finally(() => {\n      const dpopNonce = response && response.headers['dpop-nonce'];\n      if (dpopNonce && NQCHAR.test(dpopNonce)) {\n        nonces.set(nonceKey, dpopNonce);\n      }\n    });\n};\n\nmodule.exports.setDefaults = setDefaults.bind(undefined, allowed);\n","module.exports.keystores = new WeakMap();\n","module.exports = globalThis.structuredClone || ((obj) => JSON.parse(JSON.stringify(obj)));\n","const jose = require('jose');\n\nconst clone = require('./deep_clone');\nconst isPlainObject = require('./is_plain_object');\n\nconst internal = Symbol();\n\nconst keyscore = (key, { alg, use }) => {\n  let score = 0;\n\n  if (alg && key.alg) {\n    score++;\n  }\n\n  if (use && key.use) {\n    score++;\n  }\n\n  return score;\n};\n\nfunction getKtyFromAlg(alg) {\n  switch (typeof alg === 'string' && alg.slice(0, 2)) {\n    case 'RS':\n    case 'PS':\n      return 'RSA';\n    case 'ES':\n      return 'EC';\n    case 'Ed':\n      return 'OKP';\n    default:\n      return undefined;\n  }\n}\n\nfunction getAlgorithms(use, alg, kty, crv) {\n  // Ed25519, Ed448, and secp256k1 always have \"alg\"\n  // OKP always has \"use\"\n  if (alg) {\n    return new Set([alg]);\n  }\n\n  switch (kty) {\n    case 'EC': {\n      let algs = [];\n\n      if (use === 'enc' || use === undefined) {\n        algs = algs.concat(['ECDH-ES', 'ECDH-ES+A128KW', 'ECDH-ES+A192KW', 'ECDH-ES+A256KW']);\n      }\n\n      if (use === 'sig' || use === undefined) {\n        switch (crv) {\n          case 'P-256':\n          case 'P-384':\n            algs = algs.concat([`ES${crv.slice(-3)}`]);\n            break;\n          case 'P-521':\n            algs = algs.concat(['ES512']);\n            break;\n          case 'secp256k1':\n            if (jose.cryptoRuntime === 'node:crypto') {\n              algs = algs.concat(['ES256K']);\n            }\n            break;\n        }\n      }\n\n      return new Set(algs);\n    }\n    case 'OKP': {\n      return new Set(['ECDH-ES', 'ECDH-ES+A128KW', 'ECDH-ES+A192KW', 'ECDH-ES+A256KW']);\n    }\n    case 'RSA': {\n      let algs = [];\n\n      if (use === 'enc' || use === undefined) {\n        algs = algs.concat(['RSA-OAEP', 'RSA-OAEP-256', 'RSA-OAEP-384', 'RSA-OAEP-512']);\n        if (jose.cryptoRuntime === 'node:crypto') {\n          algs = algs.concat(['RSA1_5']);\n        }\n      }\n\n      if (use === 'sig' || use === undefined) {\n        algs = algs.concat(['PS256', 'PS384', 'PS512', 'RS256', 'RS384', 'RS512']);\n      }\n\n      return new Set(algs);\n    }\n    default:\n      throw new Error('unreachable');\n  }\n}\n\nmodule.exports = class KeyStore {\n  #keys;\n\n  constructor(i, keys) {\n    if (i !== internal) throw new Error('invalid constructor call');\n    this.#keys = keys;\n  }\n\n  toJWKS() {\n    return {\n      keys: this.map(({ jwk: { d, p, q, dp, dq, qi, ...jwk } }) => jwk),\n    };\n  }\n\n  all({ alg, kid, use } = {}) {\n    if (!use || !alg) {\n      throw new Error();\n    }\n\n    const kty = getKtyFromAlg(alg);\n\n    const search = { alg, use };\n    return this.filter((key) => {\n      let candidate = true;\n\n      if (candidate && kty !== undefined && key.jwk.kty !== kty) {\n        candidate = false;\n      }\n\n      if (candidate && kid !== undefined && key.jwk.kid !== kid) {\n        candidate = false;\n      }\n\n      if (candidate && use !== undefined && key.jwk.use !== undefined && key.jwk.use !== use) {\n        candidate = false;\n      }\n\n      if (candidate && key.jwk.alg && key.jwk.alg !== alg) {\n        candidate = false;\n      } else if (!key.algorithms.has(alg)) {\n        candidate = false;\n      }\n\n      return candidate;\n    }).sort((first, second) => keyscore(second, search) - keyscore(first, search));\n  }\n\n  get(...args) {\n    return this.all(...args)[0];\n  }\n\n  static async fromJWKS(jwks, { onlyPublic = false, onlyPrivate = false } = {}) {\n    if (\n      !isPlainObject(jwks) ||\n      !Array.isArray(jwks.keys) ||\n      jwks.keys.some((k) => !isPlainObject(k) || !('kty' in k))\n    ) {\n      throw new TypeError('jwks must be a JSON Web Key Set formatted object');\n    }\n\n    const keys = [];\n\n    for (let jwk of jwks.keys) {\n      jwk = clone(jwk);\n      const { kty, kid, crv } = jwk;\n\n      let { alg, use } = jwk;\n\n      if (typeof kty !== 'string' || !kty) {\n        continue;\n      }\n\n      if (use !== undefined && use !== 'sig' && use !== 'enc') {\n        continue;\n      }\n\n      if (typeof alg !== 'string' && alg !== undefined) {\n        continue;\n      }\n\n      if (typeof kid !== 'string' && kid !== undefined) {\n        continue;\n      }\n\n      if (kty === 'EC' && use === 'sig') {\n        switch (crv) {\n          case 'P-256':\n            alg = 'ES256';\n            break;\n          case 'P-384':\n            alg = 'ES384';\n            break;\n          case 'P-521':\n            alg = 'ES512';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (crv === 'secp256k1') {\n        use = 'sig';\n        alg = 'ES256K';\n      }\n\n      if (kty === 'OKP') {\n        switch (crv) {\n          case 'Ed25519':\n          case 'Ed448':\n            use = 'sig';\n            alg = 'EdDSA';\n            break;\n          case 'X25519':\n          case 'X448':\n            use = 'enc';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (alg && !use) {\n        switch (true) {\n          case alg.startsWith('ECDH'):\n            use = 'enc';\n            break;\n          case alg.startsWith('RSA'):\n            use = 'enc';\n            break;\n          default:\n            break;\n        }\n      }\n\n      if (onlyPrivate && (jwk.kty === 'oct' || !jwk.d)) {\n        throw new Error('jwks must only contain private keys');\n      }\n\n      if (onlyPublic && (jwk.d || jwk.k)) {\n        continue;\n      }\n\n      keys.push({\n        jwk: { ...jwk, alg, use },\n        async keyObject(alg) {\n          if (this[alg]) {\n            return this[alg];\n          }\n\n          const keyObject = await jose.importJWK(this.jwk, alg);\n          this[alg] = keyObject;\n          return keyObject;\n        },\n        get algorithms() {\n          Object.defineProperty(this, 'algorithms', {\n            value: getAlgorithms(this.jwk.use, this.jwk.alg, this.jwk.kty, this.jwk.crv),\n            enumerable: true,\n            configurable: false,\n          });\n          return this.algorithms;\n        },\n      });\n    }\n\n    return new this(internal, keys);\n  }\n\n  filter(...args) {\n    return this.#keys.filter(...args);\n  }\n\n  find(...args) {\n    return this.#keys.find(...args);\n  }\n\n  every(...args) {\n    return this.#keys.every(...args);\n  }\n\n  some(...args) {\n    return this.#keys.some(...args);\n  }\n\n  map(...args) {\n    return this.#keys.map(...args);\n  }\n\n  forEach(...args) {\n    return this.#keys.forEach(...args);\n  }\n\n  reduce(...args) {\n    return this.#keys.reduce(...args);\n  }\n\n  sort(...args) {\n    return this.#keys.sort(...args);\n  }\n\n  *[Symbol.iterator]() {\n    for (const key of this.#keys) {\n      yield key;\n    }\n  }\n};\n","const isPlainObject = require('./is_plain_object');\n\nfunction merge(target, ...sources) {\n  for (const source of sources) {\n    if (!isPlainObject(source)) {\n      continue;\n    }\n    for (const [key, value] of Object.entries(source)) {\n      /* istanbul ignore if */\n      if (key === '__proto__' || key === 'constructor') {\n        continue;\n      }\n      if (isPlainObject(target[key]) && isPlainObject(value)) {\n        target[key] = merge(target[key], value);\n      } else if (typeof value !== 'undefined') {\n        target[key] = value;\n      }\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = merge;\n","const jose = require('jose');\n\nconst { RPError } = require('../errors');\n\nconst { assertIssuerConfiguration } = require('./assert');\nconst { random } = require('./generators');\nconst now = require('./unix_timestamp');\nconst request = require('./request');\nconst { keystores } = require('./weak_cache');\nconst merge = require('./merge');\n\n// TODO: in v6.x additionally encode the `- _ . ! ~ * ' ( )` characters\n// https://github.com/panva/node-openid-client/commit/5a2ea80ef5e59ec0c03dbd97d82f551e24a9d348\nconst formUrlEncode = (value) => encodeURIComponent(value).replace(/%20/g, '+');\n\nasync function clientAssertion(endpoint, payload) {\n  let alg = this[`${endpoint}_endpoint_auth_signing_alg`];\n  if (!alg) {\n    assertIssuerConfiguration(\n      this.issuer,\n      `${endpoint}_endpoint_auth_signing_alg_values_supported`,\n    );\n  }\n\n  if (this[`${endpoint}_endpoint_auth_method`] === 'client_secret_jwt') {\n    if (!alg) {\n      const supported = this.issuer[`${endpoint}_endpoint_auth_signing_alg_values_supported`];\n      alg =\n        Array.isArray(supported) && supported.find((signAlg) => /^HS(?:256|384|512)/.test(signAlg));\n    }\n\n    if (!alg) {\n      throw new RPError(\n        `failed to determine a JWS Algorithm to use for ${\n          this[`${endpoint}_endpoint_auth_method`]\n        } Client Assertion`,\n      );\n    }\n\n    return new jose.CompactSign(Buffer.from(JSON.stringify(payload)))\n      .setProtectedHeader({ alg })\n      .sign(this.secretForAlg(alg));\n  }\n\n  const keystore = await keystores.get(this);\n\n  if (!keystore) {\n    throw new TypeError('no client jwks provided for signing a client assertion with');\n  }\n\n  if (!alg) {\n    const supported = this.issuer[`${endpoint}_endpoint_auth_signing_alg_values_supported`];\n    alg =\n      Array.isArray(supported) &&\n      supported.find((signAlg) => keystore.get({ alg: signAlg, use: 'sig' }));\n  }\n\n  if (!alg) {\n    throw new RPError(\n      `failed to determine a JWS Algorithm to use for ${\n        this[`${endpoint}_endpoint_auth_method`]\n      } Client Assertion`,\n    );\n  }\n\n  const key = keystore.get({ alg, use: 'sig' });\n  if (!key) {\n    throw new RPError(\n      `no key found in client jwks to sign a client assertion with using alg ${alg}`,\n    );\n  }\n\n  return new jose.CompactSign(Buffer.from(JSON.stringify(payload)))\n    .setProtectedHeader({ alg, kid: key.jwk && key.jwk.kid })\n    .sign(await key.keyObject(alg));\n}\n\nasync function authFor(endpoint, { clientAssertionPayload } = {}) {\n  const authMethod = this[`${endpoint}_endpoint_auth_method`];\n  switch (authMethod) {\n    case 'self_signed_tls_client_auth':\n    case 'tls_client_auth':\n    case 'none':\n      return { form: { client_id: this.client_id } };\n    case 'client_secret_post':\n      if (typeof this.client_secret !== 'string') {\n        throw new TypeError(\n          'client_secret_post client authentication method requires a client_secret',\n        );\n      }\n      return { form: { client_id: this.client_id, client_secret: this.client_secret } };\n    case 'private_key_jwt':\n    case 'client_secret_jwt': {\n      const timestamp = now();\n\n      const assertion = await clientAssertion.call(this, endpoint, {\n        iat: timestamp,\n        exp: timestamp + 60,\n        jti: random(),\n        iss: this.client_id,\n        sub: this.client_id,\n        aud: this.issuer.issuer,\n        ...clientAssertionPayload,\n      });\n\n      return {\n        form: {\n          client_id: this.client_id,\n          client_assertion: assertion,\n          client_assertion_type: 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer',\n        },\n      };\n    }\n    case 'client_secret_basic': {\n      // This is correct behaviour, see https://tools.ietf.org/html/rfc6749#section-2.3.1 and the\n      // related appendix. (also https://github.com/panva/node-openid-client/pull/91)\n      // > The client identifier is encoded using the\n      // > \"application/x-www-form-urlencoded\" encoding algorithm per\n      // > Appendix B, and the encoded value is used as the username; the client\n      // > password is encoded using the same algorithm and used as the\n      // > password.\n      if (typeof this.client_secret !== 'string') {\n        throw new TypeError(\n          'client_secret_basic client authentication method requires a client_secret',\n        );\n      }\n      const encoded = `${formUrlEncode(this.client_id)}:${formUrlEncode(this.client_secret)}`;\n      const value = Buffer.from(encoded).toString('base64');\n      return { headers: { Authorization: `Basic ${value}` } };\n    }\n    default: {\n      throw new TypeError(`missing, or unsupported, ${endpoint}_endpoint_auth_method`);\n    }\n  }\n}\n\nfunction resolveResponseType() {\n  const { length, 0: value } = this.response_types;\n\n  if (length === 1) {\n    return value;\n  }\n\n  return undefined;\n}\n\nfunction resolveRedirectUri() {\n  const { length, 0: value } = this.redirect_uris || [];\n\n  if (length === 1) {\n    return value;\n  }\n\n  return undefined;\n}\n\nasync function authenticatedPost(\n  endpoint,\n  opts,\n  { clientAssertionPayload, endpointAuthMethod = endpoint, DPoP } = {},\n) {\n  const auth = await authFor.call(this, endpointAuthMethod, { clientAssertionPayload });\n  const requestOpts = merge(opts, auth);\n\n  const mTLS =\n    this[`${endpointAuthMethod}_endpoint_auth_method`].includes('tls_client_auth') ||\n    (endpoint === 'token' && this.tls_client_certificate_bound_access_tokens);\n\n  let targetUrl;\n  if (mTLS && this.issuer.mtls_endpoint_aliases) {\n    targetUrl = this.issuer.mtls_endpoint_aliases[`${endpoint}_endpoint`];\n  }\n\n  targetUrl = targetUrl || this.issuer[`${endpoint}_endpoint`];\n\n  if ('form' in requestOpts) {\n    for (const [key, value] of Object.entries(requestOpts.form)) {\n      if (typeof value === 'undefined') {\n        delete requestOpts.form[key];\n      }\n    }\n  }\n\n  return request.call(\n    this,\n    {\n      ...requestOpts,\n      method: 'POST',\n      url: targetUrl,\n      headers: {\n        ...(endpoint !== 'revocation'\n          ? {\n              Accept: 'application/json',\n            }\n          : undefined),\n        ...requestOpts.headers,\n      },\n    },\n    { mTLS, DPoP },\n  );\n}\n\nmodule.exports = {\n  resolveResponseType,\n  resolveRedirectUri,\n  authFor,\n  authenticatedPost,\n};\n","'use strict';\n\nvar crypto = require('crypto');\n\n/**\n * Exported function\n *\n * Options:\n *\n *  - `algorithm` hash algo to be used by this instance: *'sha1', 'md5'\n *  - `excludeValues` {true|*false} hash object keys, values ignored\n *  - `encoding` hash encoding, supports 'buffer', '*hex', 'binary', 'base64'\n *  - `ignoreUnknown` {true|*false} ignore unknown object types\n *  - `replacer` optional function that replaces values before hashing\n *  - `respectFunctionProperties` {*true|false} consider function properties when hashing\n *  - `respectFunctionNames` {*true|false} consider 'name' property of functions for hashing\n *  - `respectType` {*true|false} Respect special properties (prototype, constructor)\n *    when hashing to distinguish between types\n *  - `unorderedArrays` {true|*false} Sort all arrays before hashing\n *  - `unorderedSets` {*true|false} Sort `Set` and `Map` instances before hashing\n *  * = default\n *\n * @param {object} object value to hash\n * @param {object} options hashing options\n * @return {string} hash value\n * @api public\n */\nexports = module.exports = objectHash;\n\nfunction objectHash(object, options){\n  options = applyDefaults(object, options);\n\n  return hash(object, options);\n}\n\n/**\n * Exported sugar methods\n *\n * @param {object} object value to hash\n * @return {string} hash value\n * @api public\n */\nexports.sha1 = function(object){\n  return objectHash(object);\n};\nexports.keys = function(object){\n  return objectHash(object, {excludeValues: true, algorithm: 'sha1', encoding: 'hex'});\n};\nexports.MD5 = function(object){\n  return objectHash(object, {algorithm: 'md5', encoding: 'hex'});\n};\nexports.keysMD5 = function(object){\n  return objectHash(object, {algorithm: 'md5', encoding: 'hex', excludeValues: true});\n};\n\n// Internals\nvar hashes = crypto.getHashes ? crypto.getHashes().slice() : ['sha1', 'md5'];\nhashes.push('passthrough');\nvar encodings = ['buffer', 'hex', 'binary', 'base64'];\n\nfunction applyDefaults(object, sourceOptions){\n  sourceOptions = sourceOptions || {};\n\n  // create a copy rather than mutating\n  var options = {};\n  options.algorithm = sourceOptions.algorithm || 'sha1';\n  options.encoding = sourceOptions.encoding || 'hex';\n  options.excludeValues = sourceOptions.excludeValues ? true : false;\n  options.algorithm = options.algorithm.toLowerCase();\n  options.encoding = options.encoding.toLowerCase();\n  options.ignoreUnknown = sourceOptions.ignoreUnknown !== true ? false : true; // default to false\n  options.respectType = sourceOptions.respectType === false ? false : true; // default to true\n  options.respectFunctionNames = sourceOptions.respectFunctionNames === false ? false : true;\n  options.respectFunctionProperties = sourceOptions.respectFunctionProperties === false ? false : true;\n  options.unorderedArrays = sourceOptions.unorderedArrays !== true ? false : true; // default to false\n  options.unorderedSets = sourceOptions.unorderedSets === false ? false : true; // default to false\n  options.unorderedObjects = sourceOptions.unorderedObjects === false ? false : true; // default to true\n  options.replacer = sourceOptions.replacer || undefined;\n  options.excludeKeys = sourceOptions.excludeKeys || undefined;\n\n  if(typeof object === 'undefined') {\n    throw new Error('Object argument required.');\n  }\n\n  // if there is a case-insensitive match in the hashes list, accept it\n  // (i.e. SHA256 for sha256)\n  for (var i = 0; i < hashes.length; ++i) {\n    if (hashes[i].toLowerCase() === options.algorithm.toLowerCase()) {\n      options.algorithm = hashes[i];\n    }\n  }\n\n  if(hashes.indexOf(options.algorithm) === -1){\n    throw new Error('Algorithm \"' + options.algorithm + '\"  not supported. ' +\n      'supported values: ' + hashes.join(', '));\n  }\n\n  if(encodings.indexOf(options.encoding) === -1 &&\n     options.algorithm !== 'passthrough'){\n    throw new Error('Encoding \"' + options.encoding + '\"  not supported. ' +\n      'supported values: ' + encodings.join(', '));\n  }\n\n  return options;\n}\n\n/** Check if the given function is a native function */\nfunction isNativeFunction(f) {\n  if ((typeof f) !== 'function') {\n    return false;\n  }\n  var exp = /^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i;\n  return exp.exec(Function.prototype.toString.call(f)) != null;\n}\n\nfunction hash(object, options) {\n  var hashingStream;\n\n  if (options.algorithm !== 'passthrough') {\n    hashingStream = crypto.createHash(options.algorithm);\n  } else {\n    hashingStream = new PassThrough();\n  }\n\n  if (typeof hashingStream.write === 'undefined') {\n    hashingStream.write = hashingStream.update;\n    hashingStream.end   = hashingStream.update;\n  }\n\n  var hasher = typeHasher(options, hashingStream);\n  hasher.dispatch(object);\n  if (!hashingStream.update) {\n    hashingStream.end('');\n  }\n\n  if (hashingStream.digest) {\n    return hashingStream.digest(options.encoding === 'buffer' ? undefined : options.encoding);\n  }\n\n  var buf = hashingStream.read();\n  if (options.encoding === 'buffer') {\n    return buf;\n  }\n\n  return buf.toString(options.encoding);\n}\n\n/**\n * Expose streaming API\n *\n * @param {object} object  Value to serialize\n * @param {object} options  Options, as for hash()\n * @param {object} stream  A stream to write the serializiation to\n * @api public\n */\nexports.writeToStream = function(object, options, stream) {\n  if (typeof stream === 'undefined') {\n    stream = options;\n    options = {};\n  }\n\n  options = applyDefaults(object, options);\n\n  return typeHasher(options, stream).dispatch(object);\n};\n\nfunction typeHasher(options, writeTo, context){\n  context = context || [];\n  var write = function(str) {\n    if (writeTo.update) {\n      return writeTo.update(str, 'utf8');\n    } else {\n      return writeTo.write(str, 'utf8');\n    }\n  };\n\n  return {\n    dispatch: function(value){\n      if (options.replacer) {\n        value = options.replacer(value);\n      }\n\n      var type = typeof value;\n      if (value === null) {\n        type = 'null';\n      }\n\n      //console.log(\"[DEBUG] Dispatch: \", value, \"->\", type, \" -> \", \"_\" + type);\n\n      return this['_' + type](value);\n    },\n    _object: function(object) {\n      var pattern = (/\\[object (.*)\\]/i);\n      var objString = Object.prototype.toString.call(object);\n      var objType = pattern.exec(objString);\n      if (!objType) { // object type did not match [object ...]\n        objType = 'unknown:[' + objString + ']';\n      } else {\n        objType = objType[1]; // take only the class name\n      }\n\n      objType = objType.toLowerCase();\n\n      var objectNumber = null;\n\n      if ((objectNumber = context.indexOf(object)) >= 0) {\n        return this.dispatch('[CIRCULAR:' + objectNumber + ']');\n      } else {\n        context.push(object);\n      }\n\n      if (typeof Buffer !== 'undefined' && Buffer.isBuffer && Buffer.isBuffer(object)) {\n        write('buffer:');\n        return write(object);\n      }\n\n      if(objType !== 'object' && objType !== 'function' && objType !== 'asyncfunction') {\n        if(this['_' + objType]) {\n          this['_' + objType](object);\n        } else if (options.ignoreUnknown) {\n          return write('[' + objType + ']');\n        } else {\n          throw new Error('Unknown object type \"' + objType + '\"');\n        }\n      }else{\n        var keys = Object.keys(object);\n        if (options.unorderedObjects) {\n          keys = keys.sort();\n        }\n        // Make sure to incorporate special properties, so\n        // Types with different prototypes will produce\n        // a different hash and objects derived from\n        // different functions (`new Foo`, `new Bar`) will\n        // produce different hashes.\n        // We never do this for native functions since some\n        // seem to break because of that.\n        if (options.respectType !== false && !isNativeFunction(object)) {\n          keys.splice(0, 0, 'prototype', '__proto__', 'constructor');\n        }\n\n        if (options.excludeKeys) {\n          keys = keys.filter(function(key) { return !options.excludeKeys(key); });\n        }\n\n        write('object:' + keys.length + ':');\n        var self = this;\n        return keys.forEach(function(key){\n          self.dispatch(key);\n          write(':');\n          if(!options.excludeValues) {\n            self.dispatch(object[key]);\n          }\n          write(',');\n        });\n      }\n    },\n    _array: function(arr, unordered){\n      unordered = typeof unordered !== 'undefined' ? unordered :\n        options.unorderedArrays !== false; // default to options.unorderedArrays\n\n      var self = this;\n      write('array:' + arr.length + ':');\n      if (!unordered || arr.length <= 1) {\n        return arr.forEach(function(entry) {\n          return self.dispatch(entry);\n        });\n      }\n\n      // the unordered case is a little more complicated:\n      // since there is no canonical ordering on objects,\n      // i.e. {a:1} < {a:2} and {a:1} > {a:2} are both false,\n      // we first serialize each entry using a PassThrough stream\n      // before sorting.\n      // also: we cant use the same context array for all entries\n      // since the order of hashing should *not* matter. instead,\n      // we keep track of the additions to a copy of the context array\n      // and add all of them to the global context array when were done\n      var contextAdditions = [];\n      var entries = arr.map(function(entry) {\n        var strm = new PassThrough();\n        var localContext = context.slice(); // make copy\n        var hasher = typeHasher(options, strm, localContext);\n        hasher.dispatch(entry);\n        // take only what was added to localContext and append it to contextAdditions\n        contextAdditions = contextAdditions.concat(localContext.slice(context.length));\n        return strm.read().toString();\n      });\n      context = context.concat(contextAdditions);\n      entries.sort();\n      return this._array(entries, false);\n    },\n    _date: function(date){\n      return write('date:' + date.toJSON());\n    },\n    _symbol: function(sym){\n      return write('symbol:' + sym.toString());\n    },\n    _error: function(err){\n      return write('error:' + err.toString());\n    },\n    _boolean: function(bool){\n      return write('bool:' + bool.toString());\n    },\n    _string: function(string){\n      write('string:' + string.length + ':');\n      write(string.toString());\n    },\n    _function: function(fn){\n      write('fn:');\n      if (isNativeFunction(fn)) {\n        this.dispatch('[native]');\n      } else {\n        this.dispatch(fn.toString());\n      }\n\n      if (options.respectFunctionNames !== false) {\n        // Make sure we can still distinguish native functions\n        // by their name, otherwise String and Function will\n        // have the same hash\n        this.dispatch(\"function-name:\" + String(fn.name));\n      }\n\n      if (options.respectFunctionProperties) {\n        this._object(fn);\n      }\n    },\n    _number: function(number){\n      return write('number:' + number.toString());\n    },\n    _xml: function(xml){\n      return write('xml:' + xml.toString());\n    },\n    _null: function() {\n      return write('Null');\n    },\n    _undefined: function() {\n      return write('Undefined');\n    },\n    _regexp: function(regex){\n      return write('regex:' + regex.toString());\n    },\n    _uint8array: function(arr){\n      write('uint8array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint8clampedarray: function(arr){\n      write('uint8clampedarray:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int8array: function(arr){\n      write('uint8array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint16array: function(arr){\n      write('uint16array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int16array: function(arr){\n      write('uint16array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint32array: function(arr){\n      write('uint32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int32array: function(arr){\n      write('uint32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float32array: function(arr){\n      write('float32array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float64array: function(arr){\n      write('float64array:');\n      return this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _arraybuffer: function(arr){\n      write('arraybuffer:');\n      return this.dispatch(new Uint8Array(arr));\n    },\n    _url: function(url) {\n      return write('url:' + url.toString(), 'utf8');\n    },\n    _map: function(map) {\n      write('map:');\n      var arr = Array.from(map);\n      return this._array(arr, options.unorderedSets !== false);\n    },\n    _set: function(set) {\n      write('set:');\n      var arr = Array.from(set);\n      return this._array(arr, options.unorderedSets !== false);\n    },\n    _file: function(file) {\n      write('file:');\n      return this.dispatch([file.name, file.size, file.type, file.lastModfied]);\n    },\n    _blob: function() {\n      if (options.ignoreUnknown) {\n        return write('[blob]');\n      }\n\n      throw Error('Hashing Blob objects is currently not supported\\n' +\n        '(see https://github.com/puleos/object-hash/issues/26)\\n' +\n        'Use \"options.replacer\" or \"options.ignoreUnknown\"\\n');\n    },\n    _domwindow: function() { return write('domwindow'); },\n    _bigint: function(number){\n      return write('bigint:' + number.toString());\n    },\n    /* Node.js standard native objects */\n    _process: function() { return write('process'); },\n    _timer: function() { return write('timer'); },\n    _pipe: function() { return write('pipe'); },\n    _tcp: function() { return write('tcp'); },\n    _udp: function() { return write('udp'); },\n    _tty: function() { return write('tty'); },\n    _statwatcher: function() { return write('statwatcher'); },\n    _securecontext: function() { return write('securecontext'); },\n    _connection: function() { return write('connection'); },\n    _zlib: function() { return write('zlib'); },\n    _context: function() { return write('context'); },\n    _nodescript: function() { return write('nodescript'); },\n    _httpparser: function() { return write('httpparser'); },\n    _dataview: function() { return write('dataview'); },\n    _signal: function() { return write('signal'); },\n    _fsevent: function() { return write('fsevent'); },\n    _tlswrap: function() { return write('tlswrap'); },\n  };\n}\n\n// Mini-implementation of stream.PassThrough\n// We are far from having need for the full implementation, and we can\n// make assumptions like \"many writes, then only one final read\"\n// and we can ignore encoding specifics\nfunction PassThrough() {\n  return {\n    buf: '',\n\n    write: function(b) {\n      this.buf += b;\n    },\n\n    end: function(b) {\n      this.buf += b;\n    },\n\n    read: function() {\n      return this.buf;\n    }\n  };\n}\n","const objectHash = require('object-hash');\nconst LRU = require('lru-cache');\n\nconst { RPError } = require('../errors');\n\nconst { assertIssuerConfiguration } = require('./assert');\nconst KeyStore = require('./keystore');\nconst { keystores } = require('./weak_cache');\nconst processResponse = require('./process_response');\nconst request = require('./request');\n\nconst inFlight = new WeakMap();\nconst caches = new WeakMap();\nconst lrus = (ctx) => {\n  if (!caches.has(ctx)) {\n    caches.set(ctx, new LRU({ max: 100 }));\n  }\n  return caches.get(ctx);\n};\n\nasync function getKeyStore(reload = false) {\n  assertIssuerConfiguration(this, 'jwks_uri');\n\n  const keystore = keystores.get(this);\n  const cache = lrus(this);\n\n  if (reload || !keystore) {\n    if (inFlight.has(this)) {\n      return inFlight.get(this);\n    }\n    cache.reset();\n    inFlight.set(\n      this,\n      (async () => {\n        const response = await request\n          .call(this, {\n            method: 'GET',\n            responseType: 'json',\n            url: this.jwks_uri,\n            headers: {\n              Accept: 'application/json, application/jwk-set+json',\n            },\n          })\n          .finally(() => {\n            inFlight.delete(this);\n          });\n        const jwks = processResponse(response);\n\n        const joseKeyStore = KeyStore.fromJWKS(jwks, { onlyPublic: true });\n        cache.set('throttle', true, 60 * 1000);\n        keystores.set(this, joseKeyStore);\n\n        return joseKeyStore;\n      })(),\n    );\n\n    return inFlight.get(this);\n  }\n\n  return keystore;\n}\n\nasync function queryKeyStore({ kid, kty, alg, use }, { allowMulti = false } = {}) {\n  const cache = lrus(this);\n\n  const def = {\n    kid,\n    kty,\n    alg,\n    use,\n  };\n\n  const defHash = objectHash(def, {\n    algorithm: 'sha256',\n    ignoreUnknown: true,\n    unorderedArrays: true,\n    unorderedSets: true,\n    respectType: false,\n  });\n\n  // refresh keystore on every unknown key but also only upto once every minute\n  const freshJwksUri = cache.get(defHash) || cache.get('throttle');\n\n  const keystore = await getKeyStore.call(this, !freshJwksUri);\n  const keys = keystore.all(def);\n\n  delete def.use;\n  if (keys.length === 0) {\n    throw new RPError({\n      printf: [\"no valid key found in issuer's jwks_uri for key parameters %j\", def],\n      jwks: keystore,\n    });\n  }\n\n  if (!allowMulti && keys.length > 1 && !kid) {\n    throw new RPError({\n      printf: [\n        \"multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case\",\n        def,\n      ],\n      jwks: keystore,\n    });\n  }\n\n  cache.set(defHash, true);\n\n  return keys;\n}\n\nmodule.exports.queryKeyStore = queryKeyStore;\nmodule.exports.keystore = getKeyStore;\n","const { inspect } = require('util');\n\nconst { RPError, OPError } = require('./errors');\nconst now = require('./helpers/unix_timestamp');\n\nclass DeviceFlowHandle {\n  #aborted;\n  #client;\n  #clientAssertionPayload;\n  #DPoP;\n  #exchangeBody;\n  #expires_at;\n  #interval;\n  #maxAge;\n  #response;\n  constructor({ client, exchangeBody, clientAssertionPayload, response, maxAge, DPoP }) {\n    ['verification_uri', 'user_code', 'device_code'].forEach((prop) => {\n      if (typeof response[prop] !== 'string' || !response[prop]) {\n        throw new RPError(\n          `expected ${prop} string to be returned by Device Authorization Response, got %j`,\n          response[prop],\n        );\n      }\n    });\n\n    if (!Number.isSafeInteger(response.expires_in)) {\n      throw new RPError(\n        'expected expires_in number to be returned by Device Authorization Response, got %j',\n        response.expires_in,\n      );\n    }\n\n    this.#expires_at = now() + response.expires_in;\n    this.#client = client;\n    this.#DPoP = DPoP;\n    this.#maxAge = maxAge;\n    this.#exchangeBody = exchangeBody;\n    this.#clientAssertionPayload = clientAssertionPayload;\n    this.#response = response;\n    this.#interval = response.interval * 1000 || 5000;\n  }\n\n  abort() {\n    this.#aborted = true;\n  }\n\n  async poll({ signal } = {}) {\n    if ((signal && signal.aborted) || this.#aborted) {\n      throw new RPError('polling aborted');\n    }\n\n    if (this.expired()) {\n      throw new RPError(\n        'the device code %j has expired and the device authorization session has concluded',\n        this.device_code,\n      );\n    }\n\n    await new Promise((resolve) => setTimeout(resolve, this.#interval));\n\n    let tokenset;\n    try {\n      tokenset = await this.#client.grant(\n        {\n          ...this.#exchangeBody,\n          grant_type: 'urn:ietf:params:oauth:grant-type:device_code',\n          device_code: this.device_code,\n        },\n        { clientAssertionPayload: this.#clientAssertionPayload, DPoP: this.#DPoP },\n      );\n    } catch (err) {\n      switch (err instanceof OPError && err.error) {\n        case 'slow_down':\n          this.#interval += 5000;\n        case 'authorization_pending':\n          return this.poll({ signal });\n        default:\n          throw err;\n      }\n    }\n\n    if ('id_token' in tokenset) {\n      await this.#client.decryptIdToken(tokenset);\n      await this.#client.validateIdToken(tokenset, undefined, 'token', this.#maxAge);\n    }\n\n    return tokenset;\n  }\n\n  get device_code() {\n    return this.#response.device_code;\n  }\n\n  get user_code() {\n    return this.#response.user_code;\n  }\n\n  get verification_uri() {\n    return this.#response.verification_uri;\n  }\n\n  get verification_uri_complete() {\n    return this.#response.verification_uri_complete;\n  }\n\n  get expires_in() {\n    return Math.max.apply(null, [this.#expires_at - now(), 0]);\n  }\n\n  expired() {\n    return this.expires_in === 0;\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.#response, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n}\n\nmodule.exports = DeviceFlowHandle;\n","const { inspect } = require('util');\nconst stdhttp = require('http');\nconst crypto = require('crypto');\nconst { strict: assert } = require('assert');\nconst querystring = require('querystring');\nconst url = require('url');\nconst { URL, URLSearchParams } = require('url');\n\nconst jose = require('jose');\nconst tokenHash = require('oidc-token-hash');\n\nconst isKeyObject = require('./helpers/is_key_object');\nconst decodeJWT = require('./helpers/decode_jwt');\nconst base64url = require('./helpers/base64url');\nconst defaults = require('./helpers/defaults');\nconst parseWwwAuthenticate = require('./helpers/www_authenticate_parser');\nconst { assertSigningAlgValuesSupport, assertIssuerConfiguration } = require('./helpers/assert');\nconst pick = require('./helpers/pick');\nconst isPlainObject = require('./helpers/is_plain_object');\nconst processResponse = require('./helpers/process_response');\nconst TokenSet = require('./token_set');\nconst { OPError, RPError } = require('./errors');\nconst now = require('./helpers/unix_timestamp');\nconst { random } = require('./helpers/generators');\nconst request = require('./helpers/request');\nconst { CLOCK_TOLERANCE } = require('./helpers/consts');\nconst { keystores } = require('./helpers/weak_cache');\nconst KeyStore = require('./helpers/keystore');\nconst clone = require('./helpers/deep_clone');\nconst { authenticatedPost, resolveResponseType, resolveRedirectUri } = require('./helpers/client');\nconst { queryKeyStore } = require('./helpers/issuer');\nconst DeviceFlowHandle = require('./device_flow_handle');\n\nconst [major, minor] = process.version\n  .slice(1)\n  .split('.')\n  .map((str) => parseInt(str, 10));\n\nconst rsaPssParams = major >= 17 || (major === 16 && minor >= 9);\nconst retryAttempt = Symbol();\nconst skipNonceCheck = Symbol();\nconst skipMaxAgeCheck = Symbol();\n\nfunction pickCb(input) {\n  return pick(\n    input,\n    'access_token', // OAuth 2.0\n    'code', // OAuth 2.0\n    'error_description', // OAuth 2.0\n    'error_uri', // OAuth 2.0\n    'error', // OAuth 2.0\n    'expires_in', // OAuth 2.0\n    'id_token', // OIDC Core 1.0\n    'iss', // draft-ietf-oauth-iss-auth-resp\n    'response', // FAPI JARM\n    'session_state', // OIDC Session Management\n    'state', // OAuth 2.0\n    'token_type', // OAuth 2.0\n  );\n}\n\nfunction authorizationHeaderValue(token, tokenType = 'Bearer') {\n  return `${tokenType} ${token}`;\n}\n\nfunction getSearchParams(input) {\n  const parsed = url.parse(input);\n  if (!parsed.search) return {};\n  return querystring.parse(parsed.search.substring(1));\n}\n\nfunction verifyPresence(payload, jwt, prop) {\n  if (payload[prop] === undefined) {\n    throw new RPError({\n      message: `missing required JWT property ${prop}`,\n      jwt,\n    });\n  }\n}\n\nfunction authorizationParams(params) {\n  const authParams = {\n    client_id: this.client_id,\n    scope: 'openid',\n    response_type: resolveResponseType.call(this),\n    redirect_uri: resolveRedirectUri.call(this),\n    ...params,\n  };\n\n  Object.entries(authParams).forEach(([key, value]) => {\n    if (value === null || value === undefined) {\n      delete authParams[key];\n    } else if (key === 'claims' && typeof value === 'object') {\n      authParams[key] = JSON.stringify(value);\n    } else if (key === 'resource' && Array.isArray(value)) {\n      authParams[key] = value;\n    } else if (typeof value !== 'string') {\n      authParams[key] = String(value);\n    }\n  });\n\n  return authParams;\n}\n\nfunction getKeystore(jwks) {\n  if (\n    !isPlainObject(jwks) ||\n    !Array.isArray(jwks.keys) ||\n    jwks.keys.some((k) => !isPlainObject(k) || !('kty' in k))\n  ) {\n    throw new TypeError('jwks must be a JSON Web Key Set formatted object');\n  }\n\n  return KeyStore.fromJWKS(jwks, { onlyPrivate: true });\n}\n\n// if an OP doesnt support client_secret_basic but supports client_secret_post, use it instead\n// this is in place to take care of most common pitfalls when first using discovered Issuers without\n// the support for default values defined by Discovery 1.0\nfunction checkBasicSupport(client, properties) {\n  try {\n    const supported = client.issuer.token_endpoint_auth_methods_supported;\n    if (!supported.includes(properties.token_endpoint_auth_method)) {\n      if (supported.includes('client_secret_post')) {\n        properties.token_endpoint_auth_method = 'client_secret_post';\n      }\n    }\n  } catch (err) {}\n}\n\nfunction handleCommonMistakes(client, metadata, properties) {\n  if (!metadata.token_endpoint_auth_method) {\n    // if no explicit value was provided\n    checkBasicSupport(client, properties);\n  }\n\n  // :fp: c'mon people... RTFM\n  if (metadata.redirect_uri) {\n    if (metadata.redirect_uris) {\n      throw new TypeError('provide a redirect_uri or redirect_uris, not both');\n    }\n    properties.redirect_uris = [metadata.redirect_uri];\n    delete properties.redirect_uri;\n  }\n\n  if (metadata.response_type) {\n    if (metadata.response_types) {\n      throw new TypeError('provide a response_type or response_types, not both');\n    }\n    properties.response_types = [metadata.response_type];\n    delete properties.response_type;\n  }\n}\n\nfunction getDefaultsForEndpoint(endpoint, issuer, properties) {\n  if (!issuer[`${endpoint}_endpoint`]) return;\n\n  const tokenEndpointAuthMethod = properties.token_endpoint_auth_method;\n  const tokenEndpointAuthSigningAlg = properties.token_endpoint_auth_signing_alg;\n\n  const eam = `${endpoint}_endpoint_auth_method`;\n  const easa = `${endpoint}_endpoint_auth_signing_alg`;\n\n  if (properties[eam] === undefined && properties[easa] === undefined) {\n    if (tokenEndpointAuthMethod !== undefined) {\n      properties[eam] = tokenEndpointAuthMethod;\n    }\n    if (tokenEndpointAuthSigningAlg !== undefined) {\n      properties[easa] = tokenEndpointAuthSigningAlg;\n    }\n  }\n}\n\nclass BaseClient {\n  #metadata;\n  #issuer;\n  #aadIssValidation;\n  #additionalAuthorizedParties;\n  constructor(issuer, aadIssValidation, metadata = {}, jwks, options) {\n    this.#metadata = new Map();\n    this.#issuer = issuer;\n    this.#aadIssValidation = aadIssValidation;\n\n    if (typeof metadata.client_id !== 'string' || !metadata.client_id) {\n      throw new TypeError('client_id is required');\n    }\n\n    const properties = {\n      grant_types: ['authorization_code'],\n      id_token_signed_response_alg: 'RS256',\n      authorization_signed_response_alg: 'RS256',\n      response_types: ['code'],\n      token_endpoint_auth_method: 'client_secret_basic',\n      ...(this.fapi1()\n        ? {\n            grant_types: ['authorization_code', 'implicit'],\n            id_token_signed_response_alg: 'PS256',\n            authorization_signed_response_alg: 'PS256',\n            response_types: ['code id_token'],\n            tls_client_certificate_bound_access_tokens: true,\n            token_endpoint_auth_method: undefined,\n          }\n        : undefined),\n      ...(this.fapi2()\n        ? {\n            id_token_signed_response_alg: 'PS256',\n            authorization_signed_response_alg: 'PS256',\n            token_endpoint_auth_method: undefined,\n          }\n        : undefined),\n      ...metadata,\n    };\n\n    if (this.fapi()) {\n      switch (properties.token_endpoint_auth_method) {\n        case 'self_signed_tls_client_auth':\n        case 'tls_client_auth':\n          break;\n        case 'private_key_jwt':\n          if (!jwks) {\n            throw new TypeError('jwks is required');\n          }\n          break;\n        case undefined:\n          throw new TypeError('token_endpoint_auth_method is required');\n        default:\n          throw new TypeError('invalid or unsupported token_endpoint_auth_method');\n      }\n    }\n\n    if (this.fapi2()) {\n      if (\n        properties.tls_client_certificate_bound_access_tokens &&\n        properties.dpop_bound_access_tokens\n      ) {\n        throw new TypeError(\n          'either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true',\n        );\n      }\n\n      if (\n        !properties.tls_client_certificate_bound_access_tokens &&\n        !properties.dpop_bound_access_tokens\n      ) {\n        throw new TypeError(\n          'either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true',\n        );\n      }\n    }\n\n    handleCommonMistakes(this, metadata, properties);\n\n    assertSigningAlgValuesSupport('token', this.issuer, properties);\n    ['introspection', 'revocation'].forEach((endpoint) => {\n      getDefaultsForEndpoint(endpoint, this.issuer, properties);\n      assertSigningAlgValuesSupport(endpoint, this.issuer, properties);\n    });\n\n    Object.entries(properties).forEach(([key, value]) => {\n      this.#metadata.set(key, value);\n      if (!this[key]) {\n        Object.defineProperty(this, key, {\n          get() {\n            return this.#metadata.get(key);\n          },\n          enumerable: true,\n        });\n      }\n    });\n\n    if (jwks !== undefined) {\n      const keystore = getKeystore.call(this, jwks);\n      keystores.set(this, keystore);\n    }\n\n    if (options != null && options.additionalAuthorizedParties) {\n      this.#additionalAuthorizedParties = clone(options.additionalAuthorizedParties);\n    }\n\n    this[CLOCK_TOLERANCE] = 0;\n  }\n\n  authorizationUrl(params = {}) {\n    if (!isPlainObject(params)) {\n      throw new TypeError('params must be a plain object');\n    }\n    assertIssuerConfiguration(this.issuer, 'authorization_endpoint');\n    const target = new URL(this.issuer.authorization_endpoint);\n\n    for (const [name, value] of Object.entries(authorizationParams.call(this, params))) {\n      if (Array.isArray(value)) {\n        target.searchParams.delete(name);\n        for (const member of value) {\n          target.searchParams.append(name, member);\n        }\n      } else {\n        target.searchParams.set(name, value);\n      }\n    }\n\n    // TODO: is the replace needed?\n    return target.href.replace(/\\+/g, '%20');\n  }\n\n  authorizationPost(params = {}) {\n    if (!isPlainObject(params)) {\n      throw new TypeError('params must be a plain object');\n    }\n    const inputs = authorizationParams.call(this, params);\n    const formInputs = Object.keys(inputs)\n      .map((name) => `<input type=\"hidden\" name=\"${name}\" value=\"${inputs[name]}\"/>`)\n      .join('\\n');\n\n    return `<!DOCTYPE html>\n<head>\n<title>Requesting Authorization</title>\n</head>\n<body onload=\"javascript:document.forms[0].submit()\">\n<form method=\"post\" action=\"${this.issuer.authorization_endpoint}\">\n  ${formInputs}\n</form>\n</body>\n</html>`;\n  }\n\n  endSessionUrl(params = {}) {\n    assertIssuerConfiguration(this.issuer, 'end_session_endpoint');\n\n    const { 0: postLogout, length } = this.post_logout_redirect_uris || [];\n\n    const { post_logout_redirect_uri = length === 1 ? postLogout : undefined } = params;\n\n    let id_token_hint;\n    ({ id_token_hint, ...params } = params);\n    if (id_token_hint instanceof TokenSet) {\n      if (!id_token_hint.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      id_token_hint = id_token_hint.id_token;\n    }\n\n    const target = url.parse(this.issuer.end_session_endpoint);\n    const query = defaults(\n      getSearchParams(this.issuer.end_session_endpoint),\n      params,\n      {\n        post_logout_redirect_uri,\n        client_id: this.client_id,\n      },\n      { id_token_hint },\n    );\n\n    Object.entries(query).forEach(([key, value]) => {\n      if (value === null || value === undefined) {\n        delete query[key];\n      }\n    });\n\n    target.search = null;\n    target.query = query;\n\n    return url.format(target);\n  }\n\n  callbackParams(input) {\n    const isIncomingMessage =\n      input instanceof stdhttp.IncomingMessage || (input && input.method && input.url);\n    const isString = typeof input === 'string';\n\n    if (!isString && !isIncomingMessage) {\n      throw new TypeError(\n        '#callbackParams only accepts string urls, http.IncomingMessage or a lookalike',\n      );\n    }\n    if (isIncomingMessage) {\n      switch (input.method) {\n        case 'GET':\n          return pickCb(getSearchParams(input.url));\n        case 'POST':\n          if (input.body === undefined) {\n            throw new TypeError(\n              'incoming message body missing, include a body parser prior to this method call',\n            );\n          }\n          switch (typeof input.body) {\n            case 'object':\n            case 'string':\n              if (Buffer.isBuffer(input.body)) {\n                return pickCb(querystring.parse(input.body.toString('utf-8')));\n              }\n              if (typeof input.body === 'string') {\n                return pickCb(querystring.parse(input.body));\n              }\n\n              return pickCb(input.body);\n            default:\n              throw new TypeError('invalid IncomingMessage body object');\n          }\n        default:\n          throw new TypeError('invalid IncomingMessage method');\n      }\n    } else {\n      return pickCb(getSearchParams(input));\n    }\n  }\n\n  async callback(\n    redirectUri,\n    parameters,\n    checks = {},\n    { exchangeBody, clientAssertionPayload, DPoP } = {},\n  ) {\n    let params = pickCb(parameters);\n\n    if (checks.jarm && !('response' in parameters)) {\n      throw new RPError({\n        message: 'expected a JARM response',\n        checks,\n        params,\n      });\n    } else if ('response' in parameters) {\n      const decrypted = await this.decryptJARM(params.response);\n      params = await this.validateJARM(decrypted);\n    }\n\n    if (this.default_max_age && !checks.max_age) {\n      checks.max_age = this.default_max_age;\n    }\n\n    if (params.state && !checks.state) {\n      throw new TypeError('checks.state argument is missing');\n    }\n\n    if (!params.state && checks.state) {\n      throw new RPError({\n        message: 'state missing from the response',\n        checks,\n        params,\n      });\n    }\n\n    if (checks.state !== params.state) {\n      throw new RPError({\n        printf: ['state mismatch, expected %s, got: %s', checks.state, params.state],\n        checks,\n        params,\n      });\n    }\n\n    if ('iss' in params) {\n      assertIssuerConfiguration(this.issuer, 'issuer');\n      if (params.iss !== this.issuer.issuer) {\n        throw new RPError({\n          printf: ['iss mismatch, expected %s, got: %s', this.issuer.issuer, params.iss],\n          params,\n        });\n      }\n    } else if (\n      this.issuer.authorization_response_iss_parameter_supported &&\n      !('id_token' in params) &&\n      !('response' in parameters)\n    ) {\n      throw new RPError({\n        message: 'iss missing from the response',\n        params,\n      });\n    }\n\n    if (params.error) {\n      throw new OPError(params);\n    }\n\n    const RESPONSE_TYPE_REQUIRED_PARAMS = {\n      code: ['code'],\n      id_token: ['id_token'],\n      token: ['access_token', 'token_type'],\n    };\n\n    if (checks.response_type) {\n      for (const type of checks.response_type.split(' ')) {\n        if (type === 'none') {\n          if (params.code || params.id_token || params.access_token) {\n            throw new RPError({\n              message: 'unexpected params encountered for \"none\" response',\n              checks,\n              params,\n            });\n          }\n        } else {\n          for (const param of RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n            if (!params[param]) {\n              throw new RPError({\n                message: `${param} missing from response`,\n                checks,\n                params,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    if (params.id_token) {\n      const tokenset = new TokenSet(params);\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(\n        tokenset,\n        checks.nonce,\n        'authorization',\n        checks.max_age,\n        checks.state,\n      );\n\n      if (!params.code) {\n        return tokenset;\n      }\n    }\n\n    if (params.code) {\n      const tokenset = await this.grant(\n        {\n          ...exchangeBody,\n          grant_type: 'authorization_code',\n          code: params.code,\n          redirect_uri: redirectUri,\n          code_verifier: checks.code_verifier,\n        },\n        { clientAssertionPayload, DPoP },\n      );\n\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(tokenset, checks.nonce, 'token', checks.max_age);\n\n      if (params.session_state) {\n        tokenset.session_state = params.session_state;\n      }\n\n      return tokenset;\n    }\n\n    return new TokenSet(params);\n  }\n\n  async oauthCallback(\n    redirectUri,\n    parameters,\n    checks = {},\n    { exchangeBody, clientAssertionPayload, DPoP } = {},\n  ) {\n    let params = pickCb(parameters);\n\n    if (checks.jarm && !('response' in parameters)) {\n      throw new RPError({\n        message: 'expected a JARM response',\n        checks,\n        params,\n      });\n    } else if ('response' in parameters) {\n      const decrypted = await this.decryptJARM(params.response);\n      params = await this.validateJARM(decrypted);\n    }\n\n    if (params.state && !checks.state) {\n      throw new TypeError('checks.state argument is missing');\n    }\n\n    if (!params.state && checks.state) {\n      throw new RPError({\n        message: 'state missing from the response',\n        checks,\n        params,\n      });\n    }\n\n    if (checks.state !== params.state) {\n      throw new RPError({\n        printf: ['state mismatch, expected %s, got: %s', checks.state, params.state],\n        checks,\n        params,\n      });\n    }\n\n    if ('iss' in params) {\n      assertIssuerConfiguration(this.issuer, 'issuer');\n      if (params.iss !== this.issuer.issuer) {\n        throw new RPError({\n          printf: ['iss mismatch, expected %s, got: %s', this.issuer.issuer, params.iss],\n          params,\n        });\n      }\n    } else if (\n      this.issuer.authorization_response_iss_parameter_supported &&\n      !('id_token' in params) &&\n      !('response' in parameters)\n    ) {\n      throw new RPError({\n        message: 'iss missing from the response',\n        params,\n      });\n    }\n\n    if (params.error) {\n      throw new OPError(params);\n    }\n\n    if (typeof params.id_token === 'string' && params.id_token.length) {\n      throw new RPError({\n        message:\n          'id_token detected in the response, you must use client.callback() instead of client.oauthCallback()',\n        params,\n      });\n    }\n    delete params.id_token;\n\n    const RESPONSE_TYPE_REQUIRED_PARAMS = {\n      code: ['code'],\n      token: ['access_token', 'token_type'],\n    };\n\n    if (checks.response_type) {\n      for (const type of checks.response_type.split(' ')) {\n        if (type === 'none') {\n          if (params.code || params.id_token || params.access_token) {\n            throw new RPError({\n              message: 'unexpected params encountered for \"none\" response',\n              checks,\n              params,\n            });\n          }\n        }\n\n        if (RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n          for (const param of RESPONSE_TYPE_REQUIRED_PARAMS[type]) {\n            if (!params[param]) {\n              throw new RPError({\n                message: `${param} missing from response`,\n                checks,\n                params,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    if (params.code) {\n      const tokenset = await this.grant(\n        {\n          ...exchangeBody,\n          grant_type: 'authorization_code',\n          code: params.code,\n          redirect_uri: redirectUri,\n          code_verifier: checks.code_verifier,\n        },\n        { clientAssertionPayload, DPoP },\n      );\n\n      if (typeof tokenset.id_token === 'string' && tokenset.id_token.length) {\n        throw new RPError({\n          message:\n            'id_token detected in the response, you must use client.callback() instead of client.oauthCallback()',\n          params,\n        });\n      }\n      delete tokenset.id_token;\n\n      return tokenset;\n    }\n\n    return new TokenSet(params);\n  }\n\n  async decryptIdToken(token) {\n    if (!this.id_token_encrypted_response_alg) {\n      return token;\n    }\n\n    let idToken = token;\n\n    if (idToken instanceof TokenSet) {\n      if (!idToken.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      idToken = idToken.id_token;\n    }\n\n    const expectedAlg = this.id_token_encrypted_response_alg;\n    const expectedEnc = this.id_token_encrypted_response_enc;\n\n    const result = await this.decryptJWE(idToken, expectedAlg, expectedEnc);\n\n    if (token instanceof TokenSet) {\n      token.id_token = result;\n      return token;\n    }\n\n    return result;\n  }\n\n  async validateJWTUserinfo(body) {\n    const expectedAlg = this.userinfo_signed_response_alg;\n\n    return this.validateJWT(body, expectedAlg, []);\n  }\n\n  async decryptJARM(response) {\n    if (!this.authorization_encrypted_response_alg) {\n      return response;\n    }\n\n    const expectedAlg = this.authorization_encrypted_response_alg;\n    const expectedEnc = this.authorization_encrypted_response_enc;\n\n    return this.decryptJWE(response, expectedAlg, expectedEnc);\n  }\n\n  async decryptJWTUserinfo(body) {\n    if (!this.userinfo_encrypted_response_alg) {\n      return body;\n    }\n\n    const expectedAlg = this.userinfo_encrypted_response_alg;\n    const expectedEnc = this.userinfo_encrypted_response_enc;\n\n    return this.decryptJWE(body, expectedAlg, expectedEnc);\n  }\n\n  async decryptJWE(jwe, expectedAlg, expectedEnc = 'A128CBC-HS256') {\n    const header = JSON.parse(base64url.decode(jwe.split('.')[0]));\n\n    if (header.alg !== expectedAlg) {\n      throw new RPError({\n        printf: ['unexpected JWE alg received, expected %s, got: %s', expectedAlg, header.alg],\n        jwt: jwe,\n      });\n    }\n\n    if (header.enc !== expectedEnc) {\n      throw new RPError({\n        printf: ['unexpected JWE enc received, expected %s, got: %s', expectedEnc, header.enc],\n        jwt: jwe,\n      });\n    }\n\n    const getPlaintext = (result) => new TextDecoder().decode(result.plaintext);\n    let plaintext;\n    if (expectedAlg.match(/^(?:RSA|ECDH)/)) {\n      const keystore = await keystores.get(this);\n\n      const protectedHeader = jose.decodeProtectedHeader(jwe);\n\n      for (const key of keystore.all({\n        ...protectedHeader,\n        use: 'enc',\n      })) {\n        plaintext = await jose\n          .compactDecrypt(jwe, await key.keyObject(protectedHeader.alg))\n          .then(getPlaintext, () => {});\n        if (plaintext) break;\n      }\n    } else {\n      plaintext = await jose\n        .compactDecrypt(jwe, this.secretForAlg(expectedAlg === 'dir' ? expectedEnc : expectedAlg))\n        .then(getPlaintext, () => {});\n    }\n\n    if (!plaintext) {\n      throw new RPError({\n        message: 'failed to decrypt JWE',\n        jwt: jwe,\n      });\n    }\n    return plaintext;\n  }\n\n  async validateIdToken(tokenSet, nonce, returnedBy, maxAge, state) {\n    let idToken = tokenSet;\n\n    const expectedAlg = this.id_token_signed_response_alg;\n\n    const isTokenSet = idToken instanceof TokenSet;\n\n    if (isTokenSet) {\n      if (!idToken.id_token) {\n        throw new TypeError('id_token not present in TokenSet');\n      }\n      idToken = idToken.id_token;\n    }\n\n    idToken = String(idToken);\n\n    const timestamp = now();\n    const { protected: header, payload, key } = await this.validateJWT(idToken, expectedAlg);\n\n    if (typeof maxAge === 'number' || (maxAge !== skipMaxAgeCheck && this.require_auth_time)) {\n      if (!payload.auth_time) {\n        throw new RPError({\n          message: 'missing required JWT property auth_time',\n          jwt: idToken,\n        });\n      }\n      if (typeof payload.auth_time !== 'number') {\n        throw new RPError({\n          message: 'JWT auth_time claim must be a JSON numeric value',\n          jwt: idToken,\n        });\n      }\n    }\n\n    if (\n      typeof maxAge === 'number' &&\n      payload.auth_time + maxAge < timestamp - this[CLOCK_TOLERANCE]\n    ) {\n      throw new RPError({\n        printf: [\n          'too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i',\n          maxAge,\n          payload.auth_time,\n          timestamp - this[CLOCK_TOLERANCE],\n        ],\n        now: timestamp,\n        tolerance: this[CLOCK_TOLERANCE],\n        auth_time: payload.auth_time,\n        jwt: idToken,\n      });\n    }\n\n    if (\n      nonce !== skipNonceCheck &&\n      (payload.nonce || nonce !== undefined) &&\n      payload.nonce !== nonce\n    ) {\n      throw new RPError({\n        printf: ['nonce mismatch, expected %s, got: %s', nonce, payload.nonce],\n        jwt: idToken,\n      });\n    }\n\n    if (returnedBy === 'authorization') {\n      if (!payload.at_hash && tokenSet.access_token) {\n        throw new RPError({\n          message: 'missing required property at_hash',\n          jwt: idToken,\n        });\n      }\n\n      if (!payload.c_hash && tokenSet.code) {\n        throw new RPError({\n          message: 'missing required property c_hash',\n          jwt: idToken,\n        });\n      }\n\n      if (this.fapi1()) {\n        if (!payload.s_hash && (tokenSet.state || state)) {\n          throw new RPError({\n            message: 'missing required property s_hash',\n            jwt: idToken,\n          });\n        }\n      }\n\n      if (payload.s_hash) {\n        if (!state) {\n          throw new TypeError('cannot verify s_hash, \"checks.state\" property not provided');\n        }\n\n        try {\n          tokenHash.validate(\n            { claim: 's_hash', source: 'state' },\n            payload.s_hash,\n            state,\n            header.alg,\n            key.jwk && key.jwk.crv,\n          );\n        } catch (err) {\n          throw new RPError({ message: err.message, jwt: idToken });\n        }\n      }\n    }\n\n    if (this.fapi() && payload.iat < timestamp - 3600) {\n      throw new RPError({\n        printf: ['JWT issued too far in the past, now %i, iat %i', timestamp, payload.iat],\n        now: timestamp,\n        tolerance: this[CLOCK_TOLERANCE],\n        iat: payload.iat,\n        jwt: idToken,\n      });\n    }\n\n    if (tokenSet.access_token && payload.at_hash !== undefined) {\n      try {\n        tokenHash.validate(\n          { claim: 'at_hash', source: 'access_token' },\n          payload.at_hash,\n          tokenSet.access_token,\n          header.alg,\n          key.jwk && key.jwk.crv,\n        );\n      } catch (err) {\n        throw new RPError({ message: err.message, jwt: idToken });\n      }\n    }\n\n    if (tokenSet.code && payload.c_hash !== undefined) {\n      try {\n        tokenHash.validate(\n          { claim: 'c_hash', source: 'code' },\n          payload.c_hash,\n          tokenSet.code,\n          header.alg,\n          key.jwk && key.jwk.crv,\n        );\n      } catch (err) {\n        throw new RPError({ message: err.message, jwt: idToken });\n      }\n    }\n\n    return tokenSet;\n  }\n\n  async validateJWT(jwt, expectedAlg, required = ['iss', 'sub', 'aud', 'exp', 'iat']) {\n    const isSelfIssued = this.issuer.issuer === 'https://self-issued.me';\n    const timestamp = now();\n    let header;\n    let payload;\n    try {\n      ({ header, payload } = decodeJWT(jwt, { complete: true }));\n    } catch (err) {\n      throw new RPError({\n        printf: ['failed to decode JWT (%s: %s)', err.name, err.message],\n        jwt,\n      });\n    }\n\n    if (header.alg !== expectedAlg) {\n      throw new RPError({\n        printf: ['unexpected JWT alg received, expected %s, got: %s', expectedAlg, header.alg],\n        jwt,\n      });\n    }\n\n    if (isSelfIssued) {\n      required = [...required, 'sub_jwk'];\n    }\n\n    required.forEach(verifyPresence.bind(undefined, payload, jwt));\n\n    if (payload.iss !== undefined) {\n      let expectedIss = this.issuer.issuer;\n\n      if (this.#aadIssValidation) {\n        expectedIss = this.issuer.issuer.replace('{tenantid}', payload.tid);\n      }\n\n      if (payload.iss !== expectedIss) {\n        throw new RPError({\n          printf: ['unexpected iss value, expected %s, got: %s', expectedIss, payload.iss],\n          jwt,\n        });\n      }\n    }\n\n    if (payload.iat !== undefined) {\n      if (typeof payload.iat !== 'number') {\n        throw new RPError({\n          message: 'JWT iat claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n    }\n\n    if (payload.nbf !== undefined) {\n      if (typeof payload.nbf !== 'number') {\n        throw new RPError({\n          message: 'JWT nbf claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n      if (payload.nbf > timestamp + this[CLOCK_TOLERANCE]) {\n        throw new RPError({\n          printf: [\n            'JWT not active yet, now %i, nbf %i',\n            timestamp + this[CLOCK_TOLERANCE],\n            payload.nbf,\n          ],\n          now: timestamp,\n          tolerance: this[CLOCK_TOLERANCE],\n          nbf: payload.nbf,\n          jwt,\n        });\n      }\n    }\n\n    if (payload.exp !== undefined) {\n      if (typeof payload.exp !== 'number') {\n        throw new RPError({\n          message: 'JWT exp claim must be a JSON numeric value',\n          jwt,\n        });\n      }\n      if (timestamp - this[CLOCK_TOLERANCE] >= payload.exp) {\n        throw new RPError({\n          printf: ['JWT expired, now %i, exp %i', timestamp - this[CLOCK_TOLERANCE], payload.exp],\n          now: timestamp,\n          tolerance: this[CLOCK_TOLERANCE],\n          exp: payload.exp,\n          jwt,\n        });\n      }\n    }\n\n    if (payload.aud !== undefined) {\n      if (Array.isArray(payload.aud)) {\n        if (payload.aud.length > 1 && !payload.azp) {\n          throw new RPError({\n            message: 'missing required JWT property azp',\n            jwt,\n          });\n        }\n\n        if (!payload.aud.includes(this.client_id)) {\n          throw new RPError({\n            printf: [\n              'aud is missing the client_id, expected %s to be included in %j',\n              this.client_id,\n              payload.aud,\n            ],\n            jwt,\n          });\n        }\n      } else if (payload.aud !== this.client_id) {\n        throw new RPError({\n          printf: ['aud mismatch, expected %s, got: %s', this.client_id, payload.aud],\n          jwt,\n        });\n      }\n    }\n\n    if (payload.azp !== undefined) {\n      let additionalAuthorizedParties = this.#additionalAuthorizedParties;\n\n      if (typeof additionalAuthorizedParties === 'string') {\n        additionalAuthorizedParties = [this.client_id, additionalAuthorizedParties];\n      } else if (Array.isArray(additionalAuthorizedParties)) {\n        additionalAuthorizedParties = [this.client_id, ...additionalAuthorizedParties];\n      } else {\n        additionalAuthorizedParties = [this.client_id];\n      }\n\n      if (!additionalAuthorizedParties.includes(payload.azp)) {\n        throw new RPError({\n          printf: ['azp mismatch, got: %s', payload.azp],\n          jwt,\n        });\n      }\n    }\n\n    let keys;\n\n    if (isSelfIssued) {\n      try {\n        assert(isPlainObject(payload.sub_jwk));\n        const key = await jose.importJWK(payload.sub_jwk, header.alg);\n        assert.equal(key.type, 'public');\n        keys = [\n          {\n            keyObject() {\n              return key;\n            },\n          },\n        ];\n      } catch (err) {\n        throw new RPError({\n          message: 'failed to use sub_jwk claim as an asymmetric JSON Web Key',\n          jwt,\n        });\n      }\n      if ((await jose.calculateJwkThumbprint(payload.sub_jwk)) !== payload.sub) {\n        throw new RPError({\n          message: 'failed to match the subject with sub_jwk',\n          jwt,\n        });\n      }\n    } else if (header.alg.startsWith('HS')) {\n      keys = [this.secretForAlg(header.alg)];\n    } else if (header.alg !== 'none') {\n      keys = await queryKeyStore.call(this.issuer, { ...header, use: 'sig' });\n    }\n\n    if (!keys && header.alg === 'none') {\n      return { protected: header, payload };\n    }\n\n    for (const key of keys) {\n      const verified = await jose\n        .compactVerify(jwt, key instanceof Uint8Array ? key : await key.keyObject(header.alg))\n        .catch(() => {});\n      if (verified) {\n        return {\n          payload,\n          protected: verified.protectedHeader,\n          key,\n        };\n      }\n    }\n\n    throw new RPError({\n      message: 'failed to validate JWT signature',\n      jwt,\n    });\n  }\n\n  async refresh(refreshToken, { exchangeBody, clientAssertionPayload, DPoP } = {}) {\n    let token = refreshToken;\n\n    if (token instanceof TokenSet) {\n      if (!token.refresh_token) {\n        throw new TypeError('refresh_token not present in TokenSet');\n      }\n      token = token.refresh_token;\n    }\n\n    const tokenset = await this.grant(\n      {\n        ...exchangeBody,\n        grant_type: 'refresh_token',\n        refresh_token: String(token),\n      },\n      { clientAssertionPayload, DPoP },\n    );\n\n    if (tokenset.id_token) {\n      await this.decryptIdToken(tokenset);\n      await this.validateIdToken(tokenset, skipNonceCheck, 'token', skipMaxAgeCheck);\n\n      if (refreshToken instanceof TokenSet && refreshToken.id_token) {\n        const expectedSub = refreshToken.claims().sub;\n        const actualSub = tokenset.claims().sub;\n        if (actualSub !== expectedSub) {\n          throw new RPError({\n            printf: ['sub mismatch, expected %s, got: %s', expectedSub, actualSub],\n            jwt: tokenset.id_token,\n          });\n        }\n      }\n    }\n\n    return tokenset;\n  }\n\n  async requestResource(\n    resourceUrl,\n    accessToken,\n    {\n      method,\n      headers,\n      body,\n      DPoP,\n      tokenType = DPoP\n        ? 'DPoP'\n        : accessToken instanceof TokenSet\n        ? accessToken.token_type\n        : 'Bearer',\n    } = {},\n    retry,\n  ) {\n    if (accessToken instanceof TokenSet) {\n      if (!accessToken.access_token) {\n        throw new TypeError('access_token not present in TokenSet');\n      }\n      accessToken = accessToken.access_token;\n    }\n\n    if (!accessToken) {\n      throw new TypeError('no access token provided');\n    } else if (typeof accessToken !== 'string') {\n      throw new TypeError('invalid access token provided');\n    }\n\n    const requestOpts = {\n      headers: {\n        Authorization: authorizationHeaderValue(accessToken, tokenType),\n        ...headers,\n      },\n      body,\n    };\n\n    const mTLS = !!this.tls_client_certificate_bound_access_tokens;\n\n    const response = await request.call(\n      this,\n      {\n        ...requestOpts,\n        responseType: 'buffer',\n        method,\n        url: resourceUrl,\n      },\n      { accessToken, mTLS, DPoP },\n    );\n\n    const wwwAuthenticate = response.headers['www-authenticate'];\n    if (\n      retry !== retryAttempt &&\n      wwwAuthenticate &&\n      wwwAuthenticate.toLowerCase().startsWith('dpop ') &&\n      parseWwwAuthenticate(wwwAuthenticate).error === 'use_dpop_nonce'\n    ) {\n      return this.requestResource(resourceUrl, accessToken, {\n        method,\n        headers,\n        body,\n        DPoP,\n        tokenType,\n      });\n    }\n\n    return response;\n  }\n\n  async userinfo(accessToken, { method = 'GET', via = 'header', tokenType, params, DPoP } = {}) {\n    assertIssuerConfiguration(this.issuer, 'userinfo_endpoint');\n    const options = {\n      tokenType,\n      method: String(method).toUpperCase(),\n      DPoP,\n    };\n\n    if (options.method !== 'GET' && options.method !== 'POST') {\n      throw new TypeError('#userinfo() method can only be POST or a GET');\n    }\n\n    if (via === 'body' && options.method !== 'POST') {\n      throw new TypeError('can only send body on POST');\n    }\n\n    const jwt = !!(this.userinfo_signed_response_alg || this.userinfo_encrypted_response_alg);\n\n    if (jwt) {\n      options.headers = { Accept: 'application/jwt' };\n    } else {\n      options.headers = { Accept: 'application/json' };\n    }\n    const mTLS = !!this.tls_client_certificate_bound_access_tokens;\n\n    let targetUrl;\n    if (mTLS && this.issuer.mtls_endpoint_aliases) {\n      targetUrl = this.issuer.mtls_endpoint_aliases.userinfo_endpoint;\n    }\n\n    targetUrl = new URL(targetUrl || this.issuer.userinfo_endpoint);\n\n    if (via === 'body') {\n      options.headers.Authorization = undefined;\n      options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      options.body = new URLSearchParams();\n      options.body.append(\n        'access_token',\n        accessToken instanceof TokenSet ? accessToken.access_token : accessToken,\n      );\n    }\n\n    // handle additional parameters, GET via querystring, POST via urlencoded body\n    if (params) {\n      if (options.method === 'GET') {\n        Object.entries(params).forEach(([key, value]) => {\n          targetUrl.searchParams.append(key, value);\n        });\n      } else if (options.body) {\n        // POST && via body\n        Object.entries(params).forEach(([key, value]) => {\n          options.body.append(key, value);\n        });\n      } else {\n        // POST && via header\n        options.body = new URLSearchParams();\n        options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n        Object.entries(params).forEach(([key, value]) => {\n          options.body.append(key, value);\n        });\n      }\n    }\n\n    if (options.body) {\n      options.body = options.body.toString();\n    }\n\n    const response = await this.requestResource(targetUrl, accessToken, options);\n\n    let parsed = processResponse(response, { bearer: true });\n\n    if (jwt) {\n      if (!/^application\\/jwt/.test(response.headers['content-type'])) {\n        throw new RPError({\n          message: 'expected application/jwt response from the userinfo_endpoint',\n          response,\n        });\n      }\n\n      const body = response.body.toString();\n      const userinfo = await this.decryptJWTUserinfo(body);\n      if (!this.userinfo_signed_response_alg) {\n        try {\n          parsed = JSON.parse(userinfo);\n          assert(isPlainObject(parsed));\n        } catch (err) {\n          throw new RPError({\n            message: 'failed to parse userinfo JWE payload as JSON',\n            jwt: userinfo,\n          });\n        }\n      } else {\n        ({ payload: parsed } = await this.validateJWTUserinfo(userinfo));\n      }\n    } else {\n      try {\n        parsed = JSON.parse(response.body);\n      } catch (err) {\n        Object.defineProperty(err, 'response', { value: response });\n        throw err;\n      }\n    }\n\n    if (accessToken instanceof TokenSet && accessToken.id_token) {\n      const expectedSub = accessToken.claims().sub;\n      if (parsed.sub !== expectedSub) {\n        throw new RPError({\n          printf: ['userinfo sub mismatch, expected %s, got: %s', expectedSub, parsed.sub],\n          body: parsed,\n          jwt: accessToken.id_token,\n        });\n      }\n    }\n\n    return parsed;\n  }\n\n  encryptionSecret(len) {\n    const hash = len <= 256 ? 'sha256' : len <= 384 ? 'sha384' : len <= 512 ? 'sha512' : false;\n    if (!hash) {\n      throw new Error('unsupported symmetric encryption key derivation');\n    }\n\n    return crypto\n      .createHash(hash)\n      .update(this.client_secret)\n      .digest()\n      .slice(0, len / 8);\n  }\n\n  secretForAlg(alg) {\n    if (!this.client_secret) {\n      throw new TypeError('client_secret is required');\n    }\n\n    if (/^A(\\d{3})(?:GCM)?KW$/.test(alg)) {\n      return this.encryptionSecret(parseInt(RegExp.$1, 10));\n    }\n\n    if (/^A(\\d{3})(?:GCM|CBC-HS(\\d{3}))$/.test(alg)) {\n      return this.encryptionSecret(parseInt(RegExp.$2 || RegExp.$1, 10));\n    }\n\n    return new TextEncoder().encode(this.client_secret);\n  }\n\n  async grant(body, { clientAssertionPayload, DPoP } = {}, retry) {\n    assertIssuerConfiguration(this.issuer, 'token_endpoint');\n    const response = await authenticatedPost.call(\n      this,\n      'token',\n      {\n        form: body,\n        responseType: 'json',\n      },\n      { clientAssertionPayload, DPoP },\n    );\n    let responseBody;\n    try {\n      responseBody = processResponse(response);\n    } catch (err) {\n      if (retry !== retryAttempt && err instanceof OPError && err.error === 'use_dpop_nonce') {\n        return this.grant(body, { clientAssertionPayload, DPoP }, retryAttempt);\n      }\n      throw err;\n    }\n\n    return new TokenSet(responseBody);\n  }\n\n  async deviceAuthorization(params = {}, { exchangeBody, clientAssertionPayload, DPoP } = {}) {\n    assertIssuerConfiguration(this.issuer, 'device_authorization_endpoint');\n    assertIssuerConfiguration(this.issuer, 'token_endpoint');\n\n    const body = authorizationParams.call(this, {\n      client_id: this.client_id,\n      redirect_uri: null,\n      response_type: null,\n      ...params,\n    });\n\n    const response = await authenticatedPost.call(\n      this,\n      'device_authorization',\n      {\n        responseType: 'json',\n        form: body,\n      },\n      { clientAssertionPayload, endpointAuthMethod: 'token' },\n    );\n    const responseBody = processResponse(response);\n\n    return new DeviceFlowHandle({\n      client: this,\n      exchangeBody,\n      clientAssertionPayload,\n      response: responseBody,\n      maxAge: params.max_age,\n      DPoP,\n    });\n  }\n\n  async revoke(token, hint, { revokeBody, clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'revocation_endpoint');\n    if (hint !== undefined && typeof hint !== 'string') {\n      throw new TypeError('hint must be a string');\n    }\n\n    const form = { ...revokeBody, token };\n\n    if (hint) {\n      form.token_type_hint = hint;\n    }\n\n    const response = await authenticatedPost.call(\n      this,\n      'revocation',\n      {\n        form,\n      },\n      { clientAssertionPayload },\n    );\n    processResponse(response, { body: false });\n  }\n\n  async introspect(token, hint, { introspectBody, clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'introspection_endpoint');\n    if (hint !== undefined && typeof hint !== 'string') {\n      throw new TypeError('hint must be a string');\n    }\n\n    const form = { ...introspectBody, token };\n    if (hint) {\n      form.token_type_hint = hint;\n    }\n\n    const response = await authenticatedPost.call(\n      this,\n      'introspection',\n      { form, responseType: 'json' },\n      { clientAssertionPayload },\n    );\n\n    const responseBody = processResponse(response);\n\n    return responseBody;\n  }\n\n  static async register(metadata, options = {}) {\n    const { initialAccessToken, jwks, ...clientOptions } = options;\n\n    assertIssuerConfiguration(this.issuer, 'registration_endpoint');\n\n    if (jwks !== undefined && !(metadata.jwks || metadata.jwks_uri)) {\n      const keystore = await getKeystore.call(this, jwks);\n      metadata.jwks = keystore.toJWKS();\n    }\n\n    const response = await request.call(this, {\n      headers: {\n        Accept: 'application/json',\n        ...(initialAccessToken\n          ? {\n              Authorization: authorizationHeaderValue(initialAccessToken),\n            }\n          : undefined),\n      },\n      responseType: 'json',\n      json: metadata,\n      url: this.issuer.registration_endpoint,\n      method: 'POST',\n    });\n    const responseBody = processResponse(response, { statusCode: 201, bearer: true });\n\n    return new this(responseBody, jwks, clientOptions);\n  }\n\n  get metadata() {\n    return clone(Object.fromEntries(this.#metadata.entries()));\n  }\n\n  static async fromUri(registrationClientUri, registrationAccessToken, jwks, clientOptions) {\n    const response = await request.call(this, {\n      method: 'GET',\n      url: registrationClientUri,\n      responseType: 'json',\n      headers: {\n        Authorization: authorizationHeaderValue(registrationAccessToken),\n        Accept: 'application/json',\n      },\n    });\n    const responseBody = processResponse(response, { bearer: true });\n\n    return new this(responseBody, jwks, clientOptions);\n  }\n\n  async requestObject(\n    requestObject = {},\n    {\n      sign: signingAlgorithm = this.request_object_signing_alg || 'none',\n      encrypt: {\n        alg: eKeyManagement = this.request_object_encryption_alg,\n        enc: eContentEncryption = this.request_object_encryption_enc || 'A128CBC-HS256',\n      } = {},\n    } = {},\n  ) {\n    if (!isPlainObject(requestObject)) {\n      throw new TypeError('requestObject must be a plain object');\n    }\n\n    let signed;\n    let key;\n    const unix = now();\n    const header = { alg: signingAlgorithm, typ: 'oauth-authz-req+jwt' };\n    const payload = JSON.stringify(\n      defaults({}, requestObject, {\n        iss: this.client_id,\n        aud: this.issuer.issuer,\n        client_id: this.client_id,\n        jti: random(),\n        iat: unix,\n        exp: unix + 300,\n        ...(this.fapi() ? { nbf: unix } : undefined),\n      }),\n    );\n    if (signingAlgorithm === 'none') {\n      signed = [base64url.encode(JSON.stringify(header)), base64url.encode(payload), ''].join('.');\n    } else {\n      const symmetric = signingAlgorithm.startsWith('HS');\n      if (symmetric) {\n        key = this.secretForAlg(signingAlgorithm);\n      } else {\n        const keystore = await keystores.get(this);\n\n        if (!keystore) {\n          throw new TypeError(\n            `no keystore present for client, cannot sign using alg ${signingAlgorithm}`,\n          );\n        }\n        key = keystore.get({ alg: signingAlgorithm, use: 'sig' });\n        if (!key) {\n          throw new TypeError(`no key to sign with found for alg ${signingAlgorithm}`);\n        }\n      }\n\n      signed = await new jose.CompactSign(new TextEncoder().encode(payload))\n        .setProtectedHeader({\n          ...header,\n          kid: symmetric ? undefined : key.jwk.kid,\n        })\n        .sign(symmetric ? key : await key.keyObject(signingAlgorithm));\n    }\n\n    if (!eKeyManagement) {\n      return signed;\n    }\n\n    const fields = { alg: eKeyManagement, enc: eContentEncryption, cty: 'oauth-authz-req+jwt' };\n\n    if (fields.alg.match(/^(RSA|ECDH)/)) {\n      [key] = await queryKeyStore.call(\n        this.issuer,\n        { alg: fields.alg, use: 'enc' },\n        { allowMulti: true },\n      );\n    } else {\n      key = this.secretForAlg(fields.alg === 'dir' ? fields.enc : fields.alg);\n    }\n\n    return new jose.CompactEncrypt(new TextEncoder().encode(signed))\n      .setProtectedHeader({\n        ...fields,\n        kid: key instanceof Uint8Array ? undefined : key.jwk.kid,\n      })\n      .encrypt(key instanceof Uint8Array ? key : await key.keyObject(fields.alg));\n  }\n\n  async pushedAuthorizationRequest(params = {}, { clientAssertionPayload } = {}) {\n    assertIssuerConfiguration(this.issuer, 'pushed_authorization_request_endpoint');\n\n    const body = {\n      ...('request' in params ? params : authorizationParams.call(this, params)),\n      client_id: this.client_id,\n    };\n\n    const response = await authenticatedPost.call(\n      this,\n      'pushed_authorization_request',\n      {\n        responseType: 'json',\n        form: body,\n      },\n      { clientAssertionPayload, endpointAuthMethod: 'token' },\n    );\n    const responseBody = processResponse(response, { statusCode: 201 });\n\n    if (!('expires_in' in responseBody)) {\n      throw new RPError({\n        message: 'expected expires_in in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (typeof responseBody.expires_in !== 'number') {\n      throw new RPError({\n        message: 'invalid expires_in value in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (!('request_uri' in responseBody)) {\n      throw new RPError({\n        message: 'expected request_uri in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n    if (typeof responseBody.request_uri !== 'string') {\n      throw new RPError({\n        message: 'invalid request_uri value in Pushed Authorization Successful Response',\n        response,\n      });\n    }\n\n    return responseBody;\n  }\n\n  get issuer() {\n    return this.#issuer;\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.metadata, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n\n  fapi() {\n    return this.fapi1() || this.fapi2();\n  }\n\n  fapi1() {\n    return this.constructor.name === 'FAPI1Client';\n  }\n\n  fapi2() {\n    return this.constructor.name === 'FAPI2Client';\n  }\n\n  async validateJARM(response) {\n    const expectedAlg = this.authorization_signed_response_alg;\n    const { payload } = await this.validateJWT(response, expectedAlg, ['iss', 'exp', 'aud']);\n    return pickCb(payload);\n  }\n\n  /**\n   * @name dpopProof\n   * @api private\n   */\n  async dpopProof(payload, privateKeyInput, accessToken) {\n    if (!isPlainObject(payload)) {\n      throw new TypeError('payload must be a plain object');\n    }\n\n    let privateKey;\n    if (isKeyObject(privateKeyInput)) {\n      privateKey = privateKeyInput;\n    } else if (privateKeyInput[Symbol.toStringTag] === 'CryptoKey') {\n      privateKey = privateKeyInput;\n    } else if (jose.cryptoRuntime === 'node:crypto') {\n      privateKey = crypto.createPrivateKey(privateKeyInput);\n    } else {\n      throw new TypeError('unrecognized crypto runtime');\n    }\n\n    if (privateKey.type !== 'private') {\n      throw new TypeError('\"DPoP\" option must be a private key');\n    }\n    let alg = determineDPoPAlgorithm.call(this, privateKey, privateKeyInput);\n\n    if (!alg) {\n      throw new TypeError('could not determine DPoP JWS Algorithm');\n    }\n\n    return new jose.SignJWT({\n      ath: accessToken\n        ? base64url.encode(crypto.createHash('sha256').update(accessToken).digest())\n        : undefined,\n      ...payload,\n    })\n      .setProtectedHeader({\n        alg,\n        typ: 'dpop+jwt',\n        jwk: await getJwk(privateKey, privateKeyInput),\n      })\n      .setIssuedAt()\n      .setJti(random())\n      .sign(privateKey);\n  }\n}\n\nfunction determineDPoPAlgorithmFromCryptoKey(cryptoKey) {\n  switch (cryptoKey.algorithm.name) {\n    case 'Ed25519':\n    case 'Ed448':\n      return 'EdDSA';\n    case 'ECDSA': {\n      switch (cryptoKey.algorithm.namedCurve) {\n        case 'P-256':\n          return 'ES256';\n        case 'P-384':\n          return 'ES384';\n        case 'P-521':\n          return 'ES512';\n        default:\n          break;\n      }\n      break;\n    }\n    case 'RSASSA-PKCS1-v1_5':\n      return `RS${cryptoKey.algorithm.hash.name.slice(4)}`;\n    case 'RSA-PSS':\n      return `PS${cryptoKey.algorithm.hash.name.slice(4)}`;\n    default:\n      throw new TypeError('unsupported DPoP private key');\n  }\n}\n\nlet determineDPoPAlgorithm;\nif (jose.cryptoRuntime === 'node:crypto') {\n  determineDPoPAlgorithm = function (privateKey, privateKeyInput) {\n    if (privateKeyInput[Symbol.toStringTag] === 'CryptoKey') {\n      return determineDPoPAlgorithmFromCryptoKey(privateKey);\n    }\n\n    switch (privateKey.asymmetricKeyType) {\n      case 'ed25519':\n      case 'ed448':\n        return 'EdDSA';\n      case 'ec':\n        return determineEcAlgorithm(privateKey, privateKeyInput);\n      case 'rsa':\n      case rsaPssParams && 'rsa-pss':\n        return determineRsaAlgorithm(\n          privateKey,\n          privateKeyInput,\n          this.issuer.dpop_signing_alg_values_supported,\n        );\n      default:\n        throw new TypeError('unsupported DPoP private key');\n    }\n  };\n\n  const RSPS = /^(?:RS|PS)(?:256|384|512)$/;\n  function determineRsaAlgorithm(privateKey, privateKeyInput, valuesSupported) {\n    if (\n      typeof privateKeyInput === 'object' &&\n      privateKeyInput.format === 'jwk' &&\n      privateKeyInput.key &&\n      privateKeyInput.key.alg\n    ) {\n      return privateKeyInput.key.alg;\n    }\n\n    if (Array.isArray(valuesSupported)) {\n      let candidates = valuesSupported.filter(RegExp.prototype.test.bind(RSPS));\n      if (privateKey.asymmetricKeyType === 'rsa-pss') {\n        candidates = candidates.filter((value) => value.startsWith('PS'));\n      }\n      return ['PS256', 'PS384', 'PS512', 'RS256', 'RS384', 'RS384'].find((preferred) =>\n        candidates.includes(preferred),\n      );\n    }\n\n    return 'PS256';\n  }\n\n  const p256 = Buffer.from([42, 134, 72, 206, 61, 3, 1, 7]);\n  const p384 = Buffer.from([43, 129, 4, 0, 34]);\n  const p521 = Buffer.from([43, 129, 4, 0, 35]);\n  const secp256k1 = Buffer.from([43, 129, 4, 0, 10]);\n\n  function determineEcAlgorithm(privateKey, privateKeyInput) {\n    // If input was a JWK\n    switch (\n      typeof privateKeyInput === 'object' &&\n      typeof privateKeyInput.key === 'object' &&\n      privateKeyInput.key.crv\n    ) {\n      case 'P-256':\n        return 'ES256';\n      case 'secp256k1':\n        return 'ES256K';\n      case 'P-384':\n        return 'ES384';\n      case 'P-512':\n        return 'ES512';\n      default:\n        break;\n    }\n\n    const buf = privateKey.export({ format: 'der', type: 'pkcs8' });\n    const i = buf[1] < 128 ? 17 : 18;\n    const len = buf[i];\n    const curveOid = buf.slice(i + 1, i + 1 + len);\n    if (curveOid.equals(p256)) {\n      return 'ES256';\n    }\n\n    if (curveOid.equals(p384)) {\n      return 'ES384';\n    }\n    if (curveOid.equals(p521)) {\n      return 'ES512';\n    }\n\n    if (curveOid.equals(secp256k1)) {\n      return 'ES256K';\n    }\n\n    throw new TypeError('unsupported DPoP private key curve');\n  }\n} else {\n  determineDPoPAlgorithm = determineDPoPAlgorithmFromCryptoKey;\n}\n\nconst jwkCache = new WeakMap();\nasync function getJwk(keyObject, privateKeyInput) {\n  if (\n    jose.cryptoRuntime === 'node:crypto' &&\n    typeof privateKeyInput === 'object' &&\n    typeof privateKeyInput.key === 'object' &&\n    privateKeyInput.format === 'jwk'\n  ) {\n    return pick(privateKeyInput.key, 'kty', 'crv', 'x', 'y', 'e', 'n');\n  }\n\n  if (jwkCache.has(privateKeyInput)) {\n    return jwkCache.get(privateKeyInput);\n  }\n\n  const jwk = pick(await jose.exportJWK(keyObject), 'kty', 'crv', 'x', 'y', 'e', 'n');\n\n  if (isKeyObject(privateKeyInput) || jose.cryptoRuntime === 'WebCryptoAPI') {\n    jwkCache.set(privateKeyInput, jwk);\n  }\n\n  return jwk;\n}\n\nmodule.exports = (issuer, aadIssValidation = false) =>\n  class Client extends BaseClient {\n    constructor(...args) {\n      super(issuer, aadIssValidation, ...args);\n    }\n\n    static get issuer() {\n      return issuer;\n    }\n  };\n\nmodule.exports.BaseClient = BaseClient;\n","const LRU = require('lru-cache');\n\nmodule.exports = new LRU({ max: 100 });\n","// Credit: https://github.com/rohe/pyoidc/blob/master/src/oic/utils/webfinger.py\n\n// -- Normalization --\n// A string of any other type is interpreted as a URI either the form of scheme\n// \"://\" authority path-abempty [ \"?\" query ] [ \"#\" fragment ] or authority\n// path-abempty [ \"?\" query ] [ \"#\" fragment ] per RFC 3986 [RFC3986] and is\n// normalized according to the following rules:\n//\n// If the user input Identifier does not have an RFC 3986 [RFC3986] scheme\n// portion, the string is interpreted as [userinfo \"@\"] host [\":\" port]\n// path-abempty [ \"?\" query ] [ \"#\" fragment ] per RFC 3986 [RFC3986].\n// If the userinfo component is present and all of the path component, query\n// component, and port component are empty, the acct scheme is assumed. In this\n// case, the normalized URI is formed by prefixing acct: to the string as the\n// scheme. Per the 'acct' URI Scheme [ID.ietfappsawgaccturi], if there is an\n// at-sign character ('@') in the userinfo component, it needs to be\n// percent-encoded as described in RFC 3986 [RFC3986].\n// For all other inputs without a scheme portion, the https scheme is assumed,\n// and the normalized URI is formed by prefixing https:// to the string as the\n// scheme.\n// If the resulting URI contains a fragment portion, it MUST be stripped off\n// together with the fragment delimiter character \"#\".\n// The WebFinger [ID.ietfappsawgwebfinger] Resource in this case is the\n// resulting URI, and the WebFinger Host is the authority component.\n//\n// Note: Since the definition of authority in RFC 3986 [RFC3986] is\n// [ userinfo \"@\" ] host [ \":\" port ], it is legal to have a user input\n// identifier like userinfo@host:port, e.g., alice@example.com:8080.\n\nconst PORT = /^\\d+$/;\n\nfunction hasScheme(input) {\n  if (input.includes('://')) return true;\n\n  const authority = input.replace(/(\\/|\\?)/g, '#').split('#')[0];\n  if (authority.includes(':')) {\n    const index = authority.indexOf(':');\n    const hostOrPort = authority.slice(index + 1);\n    if (!PORT.test(hostOrPort)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction acctSchemeAssumed(input) {\n  if (!input.includes('@')) return false;\n  const parts = input.split('@');\n  const host = parts[parts.length - 1];\n  return !(host.includes(':') || host.includes('/') || host.includes('?'));\n}\n\nfunction normalize(input) {\n  if (typeof input !== 'string') {\n    throw new TypeError('input must be a string');\n  }\n\n  let output;\n  if (hasScheme(input)) {\n    output = input;\n  } else if (acctSchemeAssumed(input)) {\n    output = `acct:${input}`;\n  } else {\n    output = `https://${input}`;\n  }\n\n  return output.split('#')[0];\n}\n\nmodule.exports = normalize;\n","const { inspect } = require('util');\nconst url = require('url');\n\nconst { RPError } = require('./errors');\nconst getClient = require('./client');\nconst registry = require('./issuer_registry');\nconst processResponse = require('./helpers/process_response');\nconst webfingerNormalize = require('./helpers/webfinger_normalize');\nconst request = require('./helpers/request');\nconst clone = require('./helpers/deep_clone');\nconst { keystore } = require('./helpers/issuer');\n\nconst AAD_MULTITENANT_DISCOVERY = [\n  'https://login.microsoftonline.com/common/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration',\n  'https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration',\n];\nconst AAD_MULTITENANT = Symbol();\nconst ISSUER_DEFAULTS = {\n  claim_types_supported: ['normal'],\n  claims_parameter_supported: false,\n  grant_types_supported: ['authorization_code', 'implicit'],\n  request_parameter_supported: false,\n  request_uri_parameter_supported: true,\n  require_request_uri_registration: false,\n  response_modes_supported: ['query', 'fragment'],\n  token_endpoint_auth_methods_supported: ['client_secret_basic'],\n};\n\nclass Issuer {\n  #metadata;\n  constructor(meta = {}) {\n    const aadIssValidation = meta[AAD_MULTITENANT];\n    delete meta[AAD_MULTITENANT];\n    ['introspection', 'revocation'].forEach((endpoint) => {\n      // if intro/revocation endpoint auth specific meta is missing use the token ones if they\n      // are defined\n      if (\n        meta[`${endpoint}_endpoint`] &&\n        meta[`${endpoint}_endpoint_auth_methods_supported`] === undefined &&\n        meta[`${endpoint}_endpoint_auth_signing_alg_values_supported`] === undefined\n      ) {\n        if (meta.token_endpoint_auth_methods_supported) {\n          meta[`${endpoint}_endpoint_auth_methods_supported`] =\n            meta.token_endpoint_auth_methods_supported;\n        }\n        if (meta.token_endpoint_auth_signing_alg_values_supported) {\n          meta[`${endpoint}_endpoint_auth_signing_alg_values_supported`] =\n            meta.token_endpoint_auth_signing_alg_values_supported;\n        }\n      }\n    });\n\n    this.#metadata = new Map();\n\n    Object.entries(meta).forEach(([key, value]) => {\n      this.#metadata.set(key, value);\n      if (!this[key]) {\n        Object.defineProperty(this, key, {\n          get() {\n            return this.#metadata.get(key);\n          },\n          enumerable: true,\n        });\n      }\n    });\n\n    registry.set(this.issuer, this);\n\n    const Client = getClient(this, aadIssValidation);\n\n    Object.defineProperties(this, {\n      Client: { value: Client, enumerable: true },\n      FAPI1Client: { value: class FAPI1Client extends Client {}, enumerable: true },\n      FAPI2Client: { value: class FAPI2Client extends Client {}, enumerable: true },\n    });\n  }\n\n  get metadata() {\n    return clone(Object.fromEntries(this.#metadata.entries()));\n  }\n\n  static async webfinger(input) {\n    const resource = webfingerNormalize(input);\n    const { host } = url.parse(resource);\n    const webfingerUrl = `https://${host}/.well-known/webfinger`;\n\n    const response = await request.call(this, {\n      method: 'GET',\n      url: webfingerUrl,\n      responseType: 'json',\n      searchParams: { resource, rel: 'http://openid.net/specs/connect/1.0/issuer' },\n      headers: {\n        Accept: 'application/json',\n      },\n    });\n    const body = processResponse(response);\n\n    const location =\n      Array.isArray(body.links) &&\n      body.links.find(\n        (link) =>\n          typeof link === 'object' &&\n          link.rel === 'http://openid.net/specs/connect/1.0/issuer' &&\n          link.href,\n      );\n\n    if (!location) {\n      throw new RPError({\n        message: 'no issuer found in webfinger response',\n        body,\n      });\n    }\n\n    if (typeof location.href !== 'string' || !location.href.startsWith('https://')) {\n      throw new RPError({\n        printf: ['invalid issuer location %s', location.href],\n        body,\n      });\n    }\n\n    const expectedIssuer = location.href;\n    if (registry.has(expectedIssuer)) {\n      return registry.get(expectedIssuer);\n    }\n\n    const issuer = await this.discover(expectedIssuer);\n\n    if (issuer.issuer !== expectedIssuer) {\n      registry.del(issuer.issuer);\n      throw new RPError(\n        'discovered issuer mismatch, expected %s, got: %s',\n        expectedIssuer,\n        issuer.issuer,\n      );\n    }\n    return issuer;\n  }\n\n  static async discover(uri) {\n    const wellKnownUri = resolveWellKnownUri(uri);\n\n    const response = await request.call(this, {\n      method: 'GET',\n      responseType: 'json',\n      url: wellKnownUri,\n      headers: {\n        Accept: 'application/json',\n      },\n    });\n    const body = processResponse(response);\n    return new Issuer({\n      ...ISSUER_DEFAULTS,\n      ...body,\n      [AAD_MULTITENANT]: !!AAD_MULTITENANT_DISCOVERY.find((discoveryURL) =>\n        wellKnownUri.startsWith(discoveryURL),\n      ),\n    });\n  }\n\n  async reloadJwksUri() {\n    await keystore.call(this, true);\n  }\n\n  /* istanbul ignore next */\n  [inspect.custom]() {\n    return `${this.constructor.name} ${inspect(this.metadata, {\n      depth: Infinity,\n      colors: process.stdout.isTTY,\n      compact: false,\n      sorted: true,\n    })}`;\n  }\n}\n\nfunction resolveWellKnownUri(uri) {\n  const parsed = url.parse(uri);\n  if (parsed.pathname.includes('/.well-known/')) {\n    return uri;\n  } else {\n    let pathname;\n    if (parsed.pathname.endsWith('/')) {\n      pathname = `${parsed.pathname}.well-known/openid-configuration`;\n    } else {\n      pathname = `${parsed.pathname}/.well-known/openid-configuration`;\n    }\n    return url.format({ ...parsed, pathname });\n  }\n}\n\nmodule.exports = Issuer;\n","const url = require('url');\nconst { format } = require('util');\n\nconst cloneDeep = require('./helpers/deep_clone');\nconst { RPError, OPError } = require('./errors');\nconst { BaseClient } = require('./client');\nconst { random, codeChallenge } = require('./helpers/generators');\nconst pick = require('./helpers/pick');\nconst { resolveResponseType, resolveRedirectUri } = require('./helpers/client');\n\nfunction verified(err, user, info = {}) {\n  if (err) {\n    this.error(err);\n  } else if (!user) {\n    this.fail(info);\n  } else {\n    this.success(user, info);\n  }\n}\n\nfunction OpenIDConnectStrategy(\n  { client, params = {}, passReqToCallback = false, sessionKey, usePKCE = true, extras = {} } = {},\n  verify,\n) {\n  if (!(client instanceof BaseClient)) {\n    throw new TypeError('client must be an instance of openid-client Client');\n  }\n\n  if (typeof verify !== 'function') {\n    throw new TypeError('verify callback must be a function');\n  }\n\n  if (!client.issuer || !client.issuer.issuer) {\n    throw new TypeError('client must have an issuer with an identifier');\n  }\n\n  this._client = client;\n  this._issuer = client.issuer;\n  this._verify = verify;\n  this._passReqToCallback = passReqToCallback;\n  this._usePKCE = usePKCE;\n  this._key = sessionKey || `oidc:${url.parse(this._issuer.issuer).hostname}`;\n  this._params = cloneDeep(params);\n\n  // state and nonce are handled in authenticate()\n  delete this._params.state;\n  delete this._params.nonce;\n\n  this._extras = cloneDeep(extras);\n\n  if (!this._params.response_type) this._params.response_type = resolveResponseType.call(client);\n  if (!this._params.redirect_uri) this._params.redirect_uri = resolveRedirectUri.call(client);\n  if (!this._params.scope) this._params.scope = 'openid';\n\n  if (this._usePKCE === true) {\n    const supportedMethods = Array.isArray(this._issuer.code_challenge_methods_supported)\n      ? this._issuer.code_challenge_methods_supported\n      : false;\n\n    if (supportedMethods && supportedMethods.includes('S256')) {\n      this._usePKCE = 'S256';\n    } else if (supportedMethods && supportedMethods.includes('plain')) {\n      this._usePKCE = 'plain';\n    } else if (supportedMethods) {\n      throw new TypeError(\n        'neither code_challenge_method supported by the client is supported by the issuer',\n      );\n    } else {\n      this._usePKCE = 'S256';\n    }\n  } else if (typeof this._usePKCE === 'string' && !['plain', 'S256'].includes(this._usePKCE)) {\n    throw new TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);\n  }\n\n  this.name = url.parse(client.issuer.issuer).hostname;\n}\n\nOpenIDConnectStrategy.prototype.authenticate = function authenticate(req, options) {\n  (async () => {\n    const client = this._client;\n    if (!req.session) {\n      throw new TypeError('authentication requires session support');\n    }\n    const reqParams = client.callbackParams(req);\n    const sessionKey = this._key;\n\n    const { 0: parameter, length } = Object.keys(reqParams);\n\n    /**\n     * Start authentication request if this has no authorization response parameters or\n     * this might a login initiated from a third party as per\n     * https://openid.net/specs/openid-connect-core-1_0.html#ThirdPartyInitiatedLogin.\n     */\n    if (length === 0 || (length === 1 && parameter === 'iss')) {\n      // provide options object with extra authentication parameters\n      const params = {\n        state: random(),\n        ...this._params,\n        ...options,\n      };\n\n      if (!params.nonce && params.response_type.includes('id_token')) {\n        params.nonce = random();\n      }\n\n      req.session[sessionKey] = pick(params, 'nonce', 'state', 'max_age', 'response_type');\n\n      if (this._usePKCE && params.response_type.includes('code')) {\n        const verifier = random();\n        req.session[sessionKey].code_verifier = verifier;\n\n        switch (this._usePKCE) {\n          case 'S256':\n            params.code_challenge = codeChallenge(verifier);\n            params.code_challenge_method = 'S256';\n            break;\n          case 'plain':\n            params.code_challenge = verifier;\n            break;\n        }\n      }\n\n      this.redirect(client.authorizationUrl(params));\n      return;\n    }\n    /* end authentication request */\n\n    /* start authentication response */\n\n    const session = req.session[sessionKey];\n    if (Object.keys(session || {}).length === 0) {\n      throw new Error(\n        format(\n          'did not find expected authorization request details in session, req.session[\"%s\"] is %j',\n          sessionKey,\n          session,\n        ),\n      );\n    }\n\n    const {\n      state,\n      nonce,\n      max_age: maxAge,\n      code_verifier: codeVerifier,\n      response_type: responseType,\n    } = session;\n\n    try {\n      delete req.session[sessionKey];\n    } catch (err) {}\n\n    const opts = {\n      redirect_uri: this._params.redirect_uri,\n      ...options,\n    };\n\n    const checks = {\n      state,\n      nonce,\n      max_age: maxAge,\n      code_verifier: codeVerifier,\n      response_type: responseType,\n    };\n\n    const tokenset = await client.callback(opts.redirect_uri, reqParams, checks, this._extras);\n\n    const passReq = this._passReqToCallback;\n    const loadUserinfo = this._verify.length > (passReq ? 3 : 2) && client.issuer.userinfo_endpoint;\n\n    const args = [tokenset, verified.bind(this)];\n\n    if (loadUserinfo) {\n      if (!tokenset.access_token) {\n        throw new RPError({\n          message:\n            'expected access_token to be returned when asking for userinfo in verify callback',\n          tokenset,\n        });\n      }\n      const userinfo = await client.userinfo(tokenset);\n      args.splice(1, 0, userinfo);\n    }\n\n    if (passReq) {\n      args.unshift(req);\n    }\n\n    this._verify(...args);\n    /* end authentication response */\n  })().catch((error) => {\n    if (\n      (error instanceof OPError &&\n        error.error !== 'server_error' &&\n        !error.error.startsWith('invalid')) ||\n      error instanceof RPError\n    ) {\n      this.fail(error);\n    } else {\n      this.error(error);\n    }\n  });\n};\n\nmodule.exports = OpenIDConnectStrategy;\n","const Issuer = require('./issuer');\nconst { OPError, RPError } = require('./errors');\nconst Strategy = require('./passport_strategy');\nconst TokenSet = require('./token_set');\nconst { CLOCK_TOLERANCE, HTTP_OPTIONS } = require('./helpers/consts');\nconst generators = require('./helpers/generators');\nconst { setDefaults } = require('./helpers/request');\n\nmodule.exports = {\n  Issuer,\n  Strategy,\n  TokenSet,\n  errors: {\n    OPError,\n    RPError,\n  },\n  custom: {\n    setHttpOptionsDefaults: setDefaults,\n    http_options: HTTP_OPTIONS,\n    clock_tolerance: CLOCK_TOLERANCE,\n  },\n  generators,\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openidClient = openidClient;\nvar _openidClient = require(\"openid-client\");\nasync function openidClient(options) {\n  const provider = options.provider;\n  if (provider.httpOptions) _openidClient.custom.setHttpOptionsDefaults(provider.httpOptions);\n  let issuer;\n  if (provider.wellKnown) {\n    issuer = await _openidClient.Issuer.discover(provider.wellKnown);\n  } else {\n    var _provider$authorizati, _provider$token, _provider$userinfo;\n    issuer = new _openidClient.Issuer({\n      issuer: provider.issuer,\n      authorization_endpoint: (_provider$authorizati = provider.authorization) === null || _provider$authorizati === void 0 ? void 0 : _provider$authorizati.url,\n      token_endpoint: (_provider$token = provider.token) === null || _provider$token === void 0 ? void 0 : _provider$token.url,\n      userinfo_endpoint: (_provider$userinfo = provider.userinfo) === null || _provider$userinfo === void 0 ? void 0 : _provider$userinfo.url,\n      jwks_uri: provider.jwks_endpoint\n    });\n  }\n  const client = new issuer.Client({\n    client_id: provider.clientId,\n    client_secret: provider.clientSecret,\n    redirect_uris: [provider.callbackUrl],\n    ...provider.client\n  }, provider.jwks);\n  client[_openidClient.custom.clock_tolerance] = 10;\n  return client;\n}","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS 180-1\n * Version 2.2 Copyright Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nvar hexcase = 1;  /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"=\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\nfunction hex_sha1(s)    { return rstr2hex(rstr_sha1(str2rstr_utf8(s))); }\nfunction b64_sha1(s)    { return rstr2b64(rstr_sha1(str2rstr_utf8(s))); }\nfunction any_sha1(s, e) { return rstr2any(rstr_sha1(str2rstr_utf8(s)), e); }\nfunction hex_hmac_sha1(k, d)\n  { return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction b64_hmac_sha1(k, d)\n  { return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction any_hmac_sha1(k, d, e)\n  { return rstr2any(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n/*\n * Perform a simple self-test to see if the VM is working\n */\nfunction sha1_vm_test()\n{\n  return hex_sha1(\"abc\").toLowerCase() == \"a9993e364706816aba3e25717850c26c9cd0d89d\";\n}\n\n/*\n * Calculate the SHA1 of a raw string\n */\nfunction rstr_sha1(s)\n{\n  return binb2rstr(binb_sha1(rstr2binb(s), s.length * 8));\n}\n\n/*\n * Calculate the HMAC-SHA1 of a key and some data (raw strings)\n */\nfunction rstr_hmac_sha1(key, data)\n{\n  var bkey = rstr2binb(key);\n  if(bkey.length > 16) bkey = binb_sha1(bkey, key.length * 8);\n\n  var ipad = Array(16), opad = Array(16);\n  for(var i = 0; i < 16; i++)\n  {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n\n  var hash = binb_sha1(ipad.concat(rstr2binb(data)), 512 + data.length * 8);\n  return binb2rstr(binb_sha1(opad.concat(hash), 512 + 160));\n}\n\n/*\n * Convert a raw string to a hex string\n */\nfunction rstr2hex(input)\n{\n  try { hexcase } catch(e) { hexcase=0; }\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var output = \"\";\n  var x;\n  for(var i = 0; i < input.length; i++)\n  {\n    x = input.charCodeAt(i);\n    output += hex_tab.charAt((x >>> 4) & 0x0F)\n           +  hex_tab.charAt( x        & 0x0F);\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to a base-64 string\n */\nfunction rstr2b64(input)\n{\n  try { b64pad } catch(e) { b64pad=''; }\n  var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var output = \"\";\n  var len = input.length;\n  for(var i = 0; i < len; i += 3)\n  {\n    var triplet = (input.charCodeAt(i) << 16)\n                | (i + 1 < len ? input.charCodeAt(i+1) << 8 : 0)\n                | (i + 2 < len ? input.charCodeAt(i+2)      : 0);\n    for(var j = 0; j < 4; j++)\n    {\n      if(i * 8 + j * 6 > input.length * 8) output += b64pad;\n      else output += tab.charAt((triplet >>> 6*(3-j)) & 0x3F);\n    }\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to an arbitrary string encoding\n */\nfunction rstr2any(input, encoding)\n{\n  var divisor = encoding.length;\n  var remainders = Array();\n  var i, q, x, quotient;\n\n  /* Convert to an array of 16-bit big-endian values, forming the dividend */\n  var dividend = Array(Math.ceil(input.length / 2));\n  for(i = 0; i < dividend.length; i++)\n  {\n    dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n  }\n\n  /*\n   * Repeatedly perform a long division. The binary array forms the dividend,\n   * the length of the encoding is the divisor. Once computed, the quotient\n   * forms the dividend for the next step. We stop when the dividend is zero.\n   * All remainders are stored for later use.\n   */\n  while(dividend.length > 0)\n  {\n    quotient = Array();\n    x = 0;\n    for(i = 0; i < dividend.length; i++)\n    {\n      x = (x << 16) + dividend[i];\n      q = Math.floor(x / divisor);\n      x -= q * divisor;\n      if(quotient.length > 0 || q > 0)\n        quotient[quotient.length] = q;\n    }\n    remainders[remainders.length] = x;\n    dividend = quotient;\n  }\n\n  /* Convert the remainders to the output string */\n  var output = \"\";\n  for(i = remainders.length - 1; i >= 0; i--)\n    output += encoding.charAt(remainders[i]);\n\n  /* Append leading zero equivalents */\n  var full_length = Math.ceil(input.length * 8 /\n                                    (Math.log(encoding.length) / Math.log(2)))\n  for(i = output.length; i < full_length; i++)\n    output = encoding[0] + output;\n\n  return output;\n}\n\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\nfunction str2rstr_utf8(input)\n{\n  var output = \"\";\n  var i = -1;\n  var x, y;\n\n  while(++i < input.length)\n  {\n    /* Decode utf-16 surrogate pairs */\n    x = input.charCodeAt(i);\n    y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n    if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\n    {\n      x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n      i++;\n    }\n\n    /* Encode output as utf-8 */\n    if(x <= 0x7F)\n      output += String.fromCharCode(x);\n    else if(x <= 0x7FF)\n      output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0xFFFF)\n      output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0x1FFFFF)\n      output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n                                    0x80 | ((x >>> 12) & 0x3F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n  }\n  return output;\n}\n\n/*\n * Encode a string as utf-16\n */\nfunction str2rstr_utf16le(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode( input.charCodeAt(i)        & 0xFF,\n                                  (input.charCodeAt(i) >>> 8) & 0xFF);\n  return output;\n}\n\nfunction str2rstr_utf16be(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n                                   input.charCodeAt(i)        & 0xFF);\n  return output;\n}\n\n/*\n * Convert a raw string to an array of big-endian words\n * Characters >255 have their high-byte silently ignored.\n */\nfunction rstr2binb(input)\n{\n  var output = Array(input.length >> 2);\n  for(var i = 0; i < output.length; i++)\n    output[i] = 0;\n  for(var i = 0; i < input.length * 8; i += 8)\n    output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\n  return output;\n}\n\n/*\n * Convert an array of big-endian words to a string\n */\nfunction binb2rstr(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length * 32; i += 8)\n    output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\n  return output;\n}\n\n/*\n * Calculate the SHA-1 of an array of big-endian words, and a bit length\n */\nfunction binb_sha1(x, len)\n{\n  /* append padding */\n  x[len >> 5] |= 0x80 << (24 - len % 32);\n  x[((len + 64 >> 9) << 4) + 15] = len;\n\n  var w = Array(80);\n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n  var e = -1009589776;\n\n  for(var i = 0; i < x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    var olde = e;\n\n    for(var j = 0; j < 80; j++)\n    {\n      if(j < 16) w[j] = x[i + j];\n      else w[j] = bit_rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);\n      var t = safe_add(safe_add(bit_rol(a, 5), sha1_ft(j, b, c, d)),\n                       safe_add(safe_add(e, w[j]), sha1_kt(j)));\n      e = d;\n      d = c;\n      c = bit_rol(b, 30);\n      b = a;\n      a = t;\n    }\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n    e = safe_add(e, olde);\n  }\n  return Array(a, b, c, d, e);\n\n}\n\n/*\n * Perform the appropriate triplet combination function for the current\n * iteration\n */\nfunction sha1_ft(t, b, c, d)\n{\n  if(t < 20) return (b & c) | ((~b) & d);\n  if(t < 40) return b ^ c ^ d;\n  if(t < 60) return (b & c) | (b & d) | (c & d);\n  return b ^ c ^ d;\n}\n\n/*\n * Determine the appropriate additive constant for the current iteration\n */\nfunction sha1_kt(t)\n{\n  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :\n         (t < 60) ? -1894007588 : -899497514;\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y)\n{\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction bit_rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\nexports.HMACSHA1= function(key, data) {\n  return b64_hmac_sha1(key, data);\n}","// Returns true if this is a host that closes *before* it ends?!?!\nmodule.exports.isAnEarlyCloseHost= function( hostName ) {\n  return hostName && hostName.match(\".*google(apis)?.com$\")\n}","var crypto= require('crypto'),\n    sha1= require('./sha1'),\n    http= require('http'),\n    https= require('https'),\n    URL= require('url'),\n    querystring= require('querystring'),\n    OAuthUtils= require('./_utils');\n\nexports.OAuth= function(requestUrl, accessUrl, consumerKey, consumerSecret, version, authorize_callback, signatureMethod, nonceSize, customHeaders) {\n  this._isEcho = false;\n\n  this._requestUrl= requestUrl;\n  this._accessUrl= accessUrl;\n  this._consumerKey= consumerKey;\n  this._consumerSecret= this._encodeData( consumerSecret );\n  if (signatureMethod == \"RSA-SHA1\") {\n    this._privateKey = consumerSecret;\n  }\n  this._version= version;\n  if( authorize_callback === undefined ) {\n    this._authorize_callback= \"oob\";\n  }\n  else {\n    this._authorize_callback= authorize_callback;\n  }\n\n  if( signatureMethod != \"PLAINTEXT\" && signatureMethod != \"HMAC-SHA1\" && signatureMethod != \"RSA-SHA1\")\n    throw new Error(\"Un-supported signature method: \" + signatureMethod )\n  this._signatureMethod= signatureMethod;\n  this._nonceSize= nonceSize || 32;\n  this._headers= customHeaders || {\"Accept\" : \"*/*\",\n                                   \"Connection\" : \"close\",\n                                   \"User-Agent\" : \"Node authentication\"}\n  this._clientOptions= this._defaultClientOptions= {\"requestTokenHttpMethod\": \"POST\",\n                                                    \"accessTokenHttpMethod\": \"POST\",\n                                                    \"followRedirects\": true};\n  this._oauthParameterSeperator = \",\";\n};\n\nexports.OAuthEcho= function(realm, verify_credentials, consumerKey, consumerSecret, version, signatureMethod, nonceSize, customHeaders) {\n  this._isEcho = true;\n\n  this._realm= realm;\n  this._verifyCredentials = verify_credentials;\n  this._consumerKey= consumerKey;\n  this._consumerSecret= this._encodeData( consumerSecret );\n  if (signatureMethod == \"RSA-SHA1\") {\n    this._privateKey = consumerSecret;\n  }\n  this._version= version;\n\n  if( signatureMethod != \"PLAINTEXT\" && signatureMethod != \"HMAC-SHA1\" && signatureMethod != \"RSA-SHA1\")\n    throw new Error(\"Un-supported signature method: \" + signatureMethod );\n  this._signatureMethod= signatureMethod;\n  this._nonceSize= nonceSize || 32;\n  this._headers= customHeaders || {\"Accept\" : \"*/*\",\n                                   \"Connection\" : \"close\",\n                                   \"User-Agent\" : \"Node authentication\"};\n  this._oauthParameterSeperator = \",\";\n}\n\nexports.OAuthEcho.prototype = exports.OAuth.prototype;\n\nexports.OAuth.prototype._getTimestamp= function() {\n  return Math.floor( (new Date()).getTime() / 1000 );\n}\n\nexports.OAuth.prototype._encodeData= function(toEncode){\n if( toEncode == null || toEncode == \"\" ) return \"\"\n else {\n    var result= encodeURIComponent(toEncode);\n    // Fix the mismatch between OAuth's  RFC3986's and Javascript's beliefs in what is right and wrong ;)\n    return result.replace(/\\!/g, \"%21\")\n                 .replace(/\\'/g, \"%27\")\n                 .replace(/\\(/g, \"%28\")\n                 .replace(/\\)/g, \"%29\")\n                 .replace(/\\*/g, \"%2A\");\n }\n}\n\nexports.OAuth.prototype._decodeData= function(toDecode) {\n  if( toDecode != null ) {\n    toDecode = toDecode.replace(/\\+/g, \" \");\n  }\n  return decodeURIComponent( toDecode);\n}\n\nexports.OAuth.prototype._getSignature= function(method, url, parameters, tokenSecret) {\n  var signatureBase= this._createSignatureBase(method, url, parameters);\n  return this._createSignature( signatureBase, tokenSecret );\n}\n\nexports.OAuth.prototype._normalizeUrl= function(url) {\n  var parsedUrl= URL.parse(url, true)\n   var port =\"\";\n   if( parsedUrl.port ) {\n     if( (parsedUrl.protocol == \"http:\" && parsedUrl.port != \"80\" ) ||\n         (parsedUrl.protocol == \"https:\" && parsedUrl.port != \"443\") ) {\n           port= \":\" + parsedUrl.port;\n         }\n   }\n\n  if( !parsedUrl.pathname  || parsedUrl.pathname == \"\" ) parsedUrl.pathname =\"/\";\n\n  return parsedUrl.protocol + \"//\" + parsedUrl.hostname + port + parsedUrl.pathname;\n}\n\n// Is the parameter considered an OAuth parameter\nexports.OAuth.prototype._isParameterNameAnOAuthParameter= function(parameter) {\n  var m = parameter.match('^oauth_');\n  if( m && ( m[0] === \"oauth_\" ) ) {\n    return true;\n  }\n  else {\n    return false;\n  }\n};\n\n// build the OAuth request authorization header\nexports.OAuth.prototype._buildAuthorizationHeaders= function(orderedParameters) {\n  var authHeader=\"OAuth \";\n  if( this._isEcho ) {\n    authHeader += 'realm=\"' + this._realm + '\",';\n  }\n\n  for( var i= 0 ; i < orderedParameters.length; i++) {\n     // Whilst the all the parameters should be included within the signature, only the oauth_ arguments\n     // should appear within the authorization header.\n     if( this._isParameterNameAnOAuthParameter(orderedParameters[i][0]) ) {\n      authHeader+= \"\" + this._encodeData(orderedParameters[i][0])+\"=\\\"\"+ this._encodeData(orderedParameters[i][1])+\"\\\"\"+ this._oauthParameterSeperator;\n     }\n  }\n\n  authHeader= authHeader.substring(0, authHeader.length-this._oauthParameterSeperator.length);\n  return authHeader;\n}\n\n// Takes an object literal that represents the arguments, and returns an array\n// of argument/value pairs.\nexports.OAuth.prototype._makeArrayOfArgumentsHash= function(argumentsHash) {\n  var argument_pairs= [];\n  for(var key in argumentsHash ) {\n    if (argumentsHash.hasOwnProperty(key)) {\n       var value= argumentsHash[key];\n       if( Array.isArray(value) ) {\n         for(var i=0;i<value.length;i++) {\n           argument_pairs[argument_pairs.length]= [key, value[i]];\n         }\n       }\n       else {\n         argument_pairs[argument_pairs.length]= [key, value];\n       }\n    }\n  }\n  return argument_pairs;\n}\n\n// Sorts the encoded key value pairs by encoded name, then encoded value\nexports.OAuth.prototype._sortRequestParams= function(argument_pairs) {\n  // Sort by name, then value.\n  argument_pairs.sort(function(a,b) {\n      if ( a[0]== b[0] )  {\n        return a[1] < b[1] ? -1 : 1;\n      }\n      else return a[0] < b[0] ? -1 : 1;\n  });\n\n  return argument_pairs;\n}\n\nexports.OAuth.prototype._normaliseRequestParams= function(args) {\n  var argument_pairs= this._makeArrayOfArgumentsHash(args);\n  // First encode them #3.4.1.3.2 .1\n  for(var i=0;i<argument_pairs.length;i++) {\n    argument_pairs[i][0]= this._encodeData( argument_pairs[i][0] );\n    argument_pairs[i][1]= this._encodeData( argument_pairs[i][1] );\n  }\n\n  // Then sort them #3.4.1.3.2 .2\n  argument_pairs= this._sortRequestParams( argument_pairs );\n\n  // Then concatenate together #3.4.1.3.2 .3 & .4\n  var args= \"\";\n  for(var i=0;i<argument_pairs.length;i++) {\n      args+= argument_pairs[i][0];\n      args+= \"=\"\n      args+= argument_pairs[i][1];\n      if( i < argument_pairs.length-1 ) args+= \"&\";\n  }\n  return args;\n}\n\nexports.OAuth.prototype._createSignatureBase= function(method, url, parameters) {\n  url= this._encodeData( this._normalizeUrl(url) );\n  parameters= this._encodeData( parameters );\n  return method.toUpperCase() + \"&\" + url + \"&\" + parameters;\n}\n\nexports.OAuth.prototype._createSignature= function(signatureBase, tokenSecret) {\n   if( tokenSecret === undefined ) var tokenSecret= \"\";\n   else tokenSecret= this._encodeData( tokenSecret );\n   // consumerSecret is already encoded\n   var key= this._consumerSecret + \"&\" + tokenSecret;\n\n   var hash= \"\"\n   if( this._signatureMethod == \"PLAINTEXT\" ) {\n     hash= key;\n   }\n   else if (this._signatureMethod == \"RSA-SHA1\") {\n     key = this._privateKey || \"\";\n     hash= crypto.createSign(\"RSA-SHA1\").update(signatureBase).sign(key, 'base64');\n   }\n   else {\n       if( crypto.Hmac ) {\n         hash = crypto.createHmac(\"sha1\", key).update(signatureBase).digest(\"base64\");\n       }\n       else {\n         hash= sha1.HMACSHA1(key, signatureBase);\n       }\n   }\n   return hash;\n}\nexports.OAuth.prototype.NONCE_CHARS= ['a','b','c','d','e','f','g','h','i','j','k','l','m','n',\n              'o','p','q','r','s','t','u','v','w','x','y','z','A','B',\n              'C','D','E','F','G','H','I','J','K','L','M','N','O','P',\n              'Q','R','S','T','U','V','W','X','Y','Z','0','1','2','3',\n              '4','5','6','7','8','9'];\n\nexports.OAuth.prototype._getNonce= function(nonceSize) {\n   var result = [];\n   var chars= this.NONCE_CHARS;\n   var char_pos;\n   var nonce_chars_length= chars.length;\n\n   for (var i = 0; i < nonceSize; i++) {\n       char_pos= Math.floor(Math.random() * nonce_chars_length);\n       result[i]=  chars[char_pos];\n   }\n   return result.join('');\n}\n\nexports.OAuth.prototype._createClient= function( port, hostname, method, path, headers, sslEnabled ) {\n  var options = {\n    host: hostname,\n    port: port,\n    path: path,\n    method: method,\n    headers: headers\n  };\n  var httpModel;\n  if( sslEnabled ) {\n    httpModel= https;\n  } else {\n    httpModel= http;\n  }\n  return httpModel.request(options);\n}\n\nexports.OAuth.prototype._prepareParameters= function( oauth_token, oauth_token_secret, method, url, extra_params ) {\n  var oauthParameters= {\n      \"oauth_timestamp\":        this._getTimestamp(),\n      \"oauth_nonce\":            this._getNonce(this._nonceSize),\n      \"oauth_version\":          this._version,\n      \"oauth_signature_method\": this._signatureMethod,\n      \"oauth_consumer_key\":     this._consumerKey\n  };\n\n  if( oauth_token ) {\n    oauthParameters[\"oauth_token\"]= oauth_token;\n  }\n\n  var sig;\n  if( this._isEcho ) {\n    sig = this._getSignature( \"GET\",  this._verifyCredentials,  this._normaliseRequestParams(oauthParameters), oauth_token_secret);\n  }\n  else {\n    if( extra_params ) {\n      for( var key in extra_params ) {\n        if (extra_params.hasOwnProperty(key)) oauthParameters[key]= extra_params[key];\n      }\n    }\n    var parsedUrl= URL.parse( url, false );\n\n    if( parsedUrl.query ) {\n      var key2;\n      var extraParameters= querystring.parse(parsedUrl.query);\n      for(var key in extraParameters ) {\n        var value= extraParameters[key];\n          if( typeof value == \"object\" ){\n            // TODO: This probably should be recursive\n            for(key2 in value){\n              oauthParameters[key + \"[\" + key2 + \"]\"] = value[key2];\n            }\n          } else {\n            oauthParameters[key]= value;\n          }\n        }\n    }\n\n    sig = this._getSignature( method,  url,  this._normaliseRequestParams(oauthParameters), oauth_token_secret);\n  }\n\n  var orderedParameters= this._sortRequestParams( this._makeArrayOfArgumentsHash(oauthParameters) );\n  orderedParameters[orderedParameters.length]= [\"oauth_signature\", sig];\n  return orderedParameters;\n}\n\nexports.OAuth.prototype._performSecureRequest= function( oauth_token, oauth_token_secret, method, url, extra_params, post_body, post_content_type,  callback ) {\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, extra_params);\n\n  if( !post_content_type ) {\n    post_content_type= \"application/x-www-form-urlencoded\";\n  }\n  var parsedUrl= URL.parse( url, false );\n  if( parsedUrl.protocol == \"http:\" && !parsedUrl.port ) parsedUrl.port= 80;\n  if( parsedUrl.protocol == \"https:\" && !parsedUrl.port ) parsedUrl.port= 443;\n\n  var headers= {};\n  var authorization = this._buildAuthorizationHeaders(orderedParameters);\n  if ( this._isEcho ) {\n    headers[\"X-Verify-Credentials-Authorization\"]= authorization;\n  }\n  else {\n    headers[\"Authorization\"]= authorization;\n  }\n\n  headers[\"Host\"] = parsedUrl.host\n\n  for( var key in this._headers ) {\n    if (this._headers.hasOwnProperty(key)) {\n      headers[key]= this._headers[key];\n    }\n  }\n\n  // Filter out any passed extra_params that are really to do with OAuth\n  for(var key in extra_params) {\n    if( this._isParameterNameAnOAuthParameter( key ) ) {\n      delete extra_params[key];\n    }\n  }\n\n  if( (method == \"POST\" || method == \"PUT\")  && ( post_body == null && extra_params != null) ) {\n    // Fix the mismatch between the output of querystring.stringify() and this._encodeData()\n    post_body= querystring.stringify(extra_params)\n                       .replace(/\\!/g, \"%21\")\n                       .replace(/\\'/g, \"%27\")\n                       .replace(/\\(/g, \"%28\")\n                       .replace(/\\)/g, \"%29\")\n                       .replace(/\\*/g, \"%2A\");\n  }\n\n  if( post_body ) {\n      if ( Buffer.isBuffer(post_body) ) {\n          headers[\"Content-length\"]= post_body.length;\n      } else {\n          headers[\"Content-length\"]= Buffer.byteLength(post_body);\n      }\n  } else {\n      headers[\"Content-length\"]= 0;\n  }\n\n  headers[\"Content-Type\"]= post_content_type;\n\n  var path;\n  if( !parsedUrl.pathname  || parsedUrl.pathname == \"\" ) parsedUrl.pathname =\"/\";\n  if( parsedUrl.query ) path= parsedUrl.pathname + \"?\"+ parsedUrl.query ;\n  else path= parsedUrl.pathname;\n\n  var request;\n  if( parsedUrl.protocol == \"https:\" ) {\n    request= this._createClient(parsedUrl.port, parsedUrl.hostname, method, path, headers, true);\n  }\n  else {\n    request= this._createClient(parsedUrl.port, parsedUrl.hostname, method, path, headers);\n  }\n\n  var clientOptions = this._clientOptions;\n  if( callback ) {\n    var data=\"\";\n    var self= this;\n\n    // Some hosts *cough* google appear to close the connection early / send no content-length header\n    // allow this behaviour.\n    var allowEarlyClose= OAuthUtils.isAnEarlyCloseHost( parsedUrl.hostname );\n    var callbackCalled= false;\n    var passBackControl = function( response ) {\n      if(!callbackCalled) {\n        callbackCalled= true;\n        if ( response.statusCode >= 200 && response.statusCode <= 299 ) {\n          callback(null, data, response);\n        } else {\n          // Follow 301 or 302 redirects with Location HTTP header\n          if((response.statusCode == 301 || response.statusCode == 302) && clientOptions.followRedirects && response.headers && response.headers.location) {\n            self._performSecureRequest( oauth_token, oauth_token_secret, method, response.headers.location, extra_params, post_body, post_content_type,  callback);\n          }\n          else {\n            callback({ statusCode: response.statusCode, data: data }, data, response);\n          }\n        }\n      }\n    }\n\n    request.on('response', function (response) {\n      response.setEncoding('utf8');\n      response.on('data', function (chunk) {\n        data+=chunk;\n      });\n      response.on('end', function () {\n        passBackControl( response );\n      });\n      response.on('close', function () {\n        if( allowEarlyClose ) {\n          passBackControl( response );\n        }\n      });\n    });\n\n    request.on(\"error\", function(err) {\n      if(!callbackCalled) {\n        callbackCalled= true;\n        callback( err )\n      }\n    });\n\n    if( (method == \"POST\" || method ==\"PUT\") && post_body != null && post_body != \"\" ) {\n      request.write(post_body);\n    }\n    request.end();\n  }\n  else {\n    if( (method == \"POST\" || method ==\"PUT\") && post_body != null && post_body != \"\" ) {\n      request.write(post_body);\n    }\n    return request;\n  }\n\n  return;\n}\n\nexports.OAuth.prototype.setClientOptions= function(options) {\n  var key,\n      mergedOptions= {},\n      hasOwnProperty= Object.prototype.hasOwnProperty;\n\n  for( key in this._defaultClientOptions ) {\n    if( !hasOwnProperty.call(options, key) ) {\n      mergedOptions[key]= this._defaultClientOptions[key];\n    } else {\n      mergedOptions[key]= options[key];\n    }\n  }\n\n  this._clientOptions= mergedOptions;\n};\n\nexports.OAuth.prototype.getOAuthAccessToken= function(oauth_token, oauth_token_secret, oauth_verifier,  callback) {\n  var extraParams= {};\n  if( typeof oauth_verifier == \"function\" ) {\n    callback= oauth_verifier;\n  } else {\n    extraParams.oauth_verifier= oauth_verifier;\n  }\n\n   this._performSecureRequest( oauth_token, oauth_token_secret, this._clientOptions.accessTokenHttpMethod, this._accessUrl, extraParams, null, null, function(error, data, response) {\n         if( error ) callback(error);\n         else {\n           var results= querystring.parse( data );\n           var oauth_access_token= results[\"oauth_token\"];\n           delete results[\"oauth_token\"];\n           var oauth_access_token_secret= results[\"oauth_token_secret\"];\n           delete results[\"oauth_token_secret\"];\n           callback(null, oauth_access_token, oauth_access_token_secret, results );\n         }\n   })\n}\n\n// Deprecated\nexports.OAuth.prototype.getProtectedResource= function(url, method, oauth_token, oauth_token_secret, callback) {\n  this._performSecureRequest( oauth_token, oauth_token_secret, method, url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype.delete= function(url, oauth_token, oauth_token_secret, callback) {\n  return this._performSecureRequest( oauth_token, oauth_token_secret, \"DELETE\", url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype.get= function(url, oauth_token, oauth_token_secret, callback) {\n  return this._performSecureRequest( oauth_token, oauth_token_secret, \"GET\", url, null, \"\", null, callback );\n}\n\nexports.OAuth.prototype._putOrPost= function(method, url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  var extra_params= null;\n  if( typeof post_content_type == \"function\" ) {\n    callback= post_content_type;\n    post_content_type= null;\n  }\n  if ( typeof post_body != \"string\" && !Buffer.isBuffer(post_body) ) {\n    post_content_type= \"application/x-www-form-urlencoded\"\n    extra_params= post_body;\n    post_body= null;\n  }\n  return this._performSecureRequest( oauth_token, oauth_token_secret, method, url, extra_params, post_body, post_content_type, callback );\n}\n\n\nexports.OAuth.prototype.put= function(url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  return this._putOrPost(\"PUT\", url, oauth_token, oauth_token_secret, post_body, post_content_type, callback);\n}\n\nexports.OAuth.prototype.post= function(url, oauth_token, oauth_token_secret, post_body, post_content_type, callback) {\n  return this._putOrPost(\"POST\", url, oauth_token, oauth_token_secret, post_body, post_content_type, callback);\n}\n\n/**\n * Gets a request token from the OAuth provider and passes that information back\n * to the calling code.\n *\n * The callback should expect a function of the following form:\n *\n * function(err, token, token_secret, parsedQueryString) {}\n *\n * This method has optional parameters so can be called in the following 2 ways:\n *\n * 1) Primary use case: Does a basic request with no extra parameters\n *  getOAuthRequestToken( callbackFunction )\n *\n * 2) As above but allows for provision of extra parameters to be sent as part of the query to the server.\n *  getOAuthRequestToken( extraParams, callbackFunction )\n *\n * N.B. This method will HTTP POST verbs by default, if you wish to override this behaviour you will\n * need to provide a requestTokenHttpMethod option when creating the client.\n *\n **/\nexports.OAuth.prototype.getOAuthRequestToken= function( extraParams, callback ) {\n   if( typeof extraParams == \"function\" ){\n     callback = extraParams;\n     extraParams = {};\n   }\n  // Callbacks are 1.0A related\n  if( this._authorize_callback ) {\n    extraParams[\"oauth_callback\"]= this._authorize_callback;\n  }\n  this._performSecureRequest( null, null, this._clientOptions.requestTokenHttpMethod, this._requestUrl, extraParams, null, null, function(error, data, response) {\n    if( error ) callback(error);\n    else {\n      var results= querystring.parse(data);\n\n      var oauth_token= results[\"oauth_token\"];\n      var oauth_token_secret= results[\"oauth_token_secret\"];\n      delete results[\"oauth_token\"];\n      delete results[\"oauth_token_secret\"];\n      callback(null, oauth_token, oauth_token_secret,  results );\n    }\n  });\n}\n\nexports.OAuth.prototype.signUrl= function(url, oauth_token, oauth_token_secret, method) {\n\n  if( method === undefined ) {\n    var method= \"GET\";\n  }\n\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, {});\n  var parsedUrl= URL.parse( url, false );\n\n  var query=\"\";\n  for( var i= 0 ; i < orderedParameters.length; i++) {\n    query+= orderedParameters[i][0]+\"=\"+ this._encodeData(orderedParameters[i][1]) + \"&\";\n  }\n  query= query.substring(0, query.length-1);\n\n  return parsedUrl.protocol + \"//\"+ parsedUrl.host + parsedUrl.pathname + \"?\" + query;\n};\n\nexports.OAuth.prototype.authHeader= function(url, oauth_token, oauth_token_secret, method) {\n  if( method === undefined ) {\n    var method= \"GET\";\n  }\n\n  var orderedParameters= this._prepareParameters(oauth_token, oauth_token_secret, method, url, {});\n  return this._buildAuthorizationHeaders(orderedParameters);\n};\n","var querystring= require('querystring'),\n    crypto= require('crypto'),\n    https= require('https'),\n    http= require('http'),\n    URL= require('url'),\n    OAuthUtils= require('./_utils');\n\nexports.OAuth2= function(clientId, clientSecret, baseSite, authorizePath, accessTokenPath, customHeaders) {\n  this._clientId= clientId;\n  this._clientSecret= clientSecret;\n  this._baseSite= baseSite;\n  this._authorizeUrl= authorizePath || \"/oauth/authorize\";\n  this._accessTokenUrl= accessTokenPath || \"/oauth/access_token\";\n  this._accessTokenName= \"access_token\";\n  this._authMethod= \"Bearer\";\n  this._customHeaders = customHeaders || {};\n  this._useAuthorizationHeaderForGET= false;\n\n  //our agent\n  this._agent = undefined;\n};\n\n// Allows you to set an agent to use instead of the default HTTP or\n// HTTPS agents. Useful when dealing with your own certificates.\nexports.OAuth2.prototype.setAgent = function(agent) {\n  this._agent = agent;\n};\n\n// This 'hack' method is required for sites that don't use\n// 'access_token' as the name of the access token (for requests).\n// ( http://tools.ietf.org/html/draft-ietf-oauth-v2-16#section-7 )\n// it isn't clear what the correct value should be atm, so allowing\n// for specific (temporary?) override for now.\nexports.OAuth2.prototype.setAccessTokenName= function ( name ) {\n  this._accessTokenName= name;\n}\n\n// Sets the authorization method for Authorization header.\n// e.g. Authorization: Bearer <token>  # \"Bearer\" is the authorization method.\nexports.OAuth2.prototype.setAuthMethod = function ( authMethod ) {\n  this._authMethod = authMethod;\n};\n\n\n// If you use the OAuth2 exposed 'get' method (and don't construct your own _request call )\n// this will specify whether to use an 'Authorize' header instead of passing the access_token as a query parameter\nexports.OAuth2.prototype.useAuthorizationHeaderforGET = function(useIt) {\n  this._useAuthorizationHeaderForGET= useIt;\n}\n\nexports.OAuth2.prototype._getAccessTokenUrl= function() {\n  return this._baseSite + this._accessTokenUrl; /* + \"?\" + querystring.stringify(params); */\n}\n\n// Build the authorization header. In particular, build the part after the colon.\n// e.g. Authorization: Bearer <token>  # Build \"Bearer <token>\"\nexports.OAuth2.prototype.buildAuthHeader= function(token) {\n  return this._authMethod + ' ' + token;\n};\n\nexports.OAuth2.prototype._chooseHttpLibrary= function( parsedUrl ) {\n  var http_library= https;\n  // As this is OAUth2, we *assume* https unless told explicitly otherwise.\n  if( parsedUrl.protocol != \"https:\" ) {\n    http_library= http;\n  }\n  return http_library;\n};\n\nexports.OAuth2.prototype._request= function(method, url, headers, post_body, access_token, callback) {\n\n  var parsedUrl= URL.parse( url, true );\n  if( parsedUrl.protocol == \"https:\" && !parsedUrl.port ) {\n    parsedUrl.port= 443;\n  }\n\n  var http_library= this._chooseHttpLibrary( parsedUrl );\n\n\n  var realHeaders= {};\n  for( var key in this._customHeaders ) {\n    realHeaders[key]= this._customHeaders[key];\n  }\n  if( headers ) {\n    for(var key in headers) {\n      realHeaders[key] = headers[key];\n    }\n  }\n  realHeaders['Host']= parsedUrl.host;\n\n  if (!realHeaders['User-Agent']) {\n    realHeaders['User-Agent'] = 'Node-oauth';\n  }\n\n  if( post_body ) {\n      if ( Buffer.isBuffer(post_body) ) {\n          realHeaders[\"Content-Length\"]= post_body.length;\n      } else {\n          realHeaders[\"Content-Length\"]= Buffer.byteLength(post_body);\n      }\n  } else {\n      realHeaders[\"Content-length\"]= 0;\n  }\n\n  if( access_token && !('Authorization' in realHeaders)) {\n    if( ! parsedUrl.query ) parsedUrl.query= {};\n    parsedUrl.query[this._accessTokenName]= access_token;\n  }\n\n  var queryStr= querystring.stringify(parsedUrl.query);\n  if( queryStr ) queryStr=  \"?\" + queryStr;\n  var options = {\n    host:parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.pathname + queryStr,\n    method: method,\n    headers: realHeaders\n  };\n\n  this._executeRequest( http_library, options, post_body, callback );\n}\n\nexports.OAuth2.prototype._executeRequest= function( http_library, options, post_body, callback ) {\n  // Some hosts *cough* google appear to close the connection early / send no content-length header\n  // allow this behaviour.\n  var allowEarlyClose= OAuthUtils.isAnEarlyCloseHost(options.host);\n  var callbackCalled= false;\n  function passBackControl( response, result ) {\n    if(!callbackCalled) {\n      callbackCalled=true;\n      if( !(response.statusCode >= 200 && response.statusCode <= 299) && (response.statusCode != 301) && (response.statusCode != 302) ) {\n        callback({ statusCode: response.statusCode, data: result });\n      } else {\n        callback(null, result, response);\n      }\n    }\n  }\n\n  var result= \"\";\n\n  //set the agent on the request options\n  if (this._agent) {\n    options.agent = this._agent;\n  }\n\n  var request = http_library.request(options);\n  request.on('response', function (response) {\n    response.on(\"data\", function (chunk) {\n      result+= chunk\n    });\n    response.on(\"close\", function (err) {\n      if( allowEarlyClose ) {\n        passBackControl( response, result );\n      }\n    });\n    response.addListener(\"end\", function () {\n      passBackControl( response, result );\n    });\n  });\n  request.on('error', function(e) {\n    callbackCalled= true;\n    callback(e);\n  });\n\n  if( (options.method == 'POST' || options.method == 'PUT') && post_body ) {\n     request.write(post_body);\n  }\n  request.end();\n}\n\nexports.OAuth2.prototype.getAuthorizeUrl= function( params ) {\n  var params= params || {};\n  params['client_id'] = this._clientId;\n  return this._baseSite + this._authorizeUrl + \"?\" + querystring.stringify(params);\n}\n\nexports.OAuth2.prototype.getOAuthAccessToken= function(code, params, callback) {\n  var params= params || {};\n  params['client_id'] = this._clientId;\n  params['client_secret'] = this._clientSecret;\n  var codeParam = (params.grant_type === 'refresh_token') ? 'refresh_token' : 'code';\n  params[codeParam]= code;\n\n  var post_data= querystring.stringify( params );\n  var post_headers= {\n       'Content-Type': 'application/x-www-form-urlencoded'\n   };\n\n\n  this._request(\"POST\", this._getAccessTokenUrl(), post_headers, post_data, null, function(error, data, response) {\n    if( error )  callback(error);\n    else {\n      var results;\n      try {\n        // As of http://tools.ietf.org/html/draft-ietf-oauth-v2-07\n        // responses should be in JSON\n        results= JSON.parse( data );\n      }\n      catch(e) {\n        // .... However both Facebook + Github currently use rev05 of the spec\n        // and neither seem to specify a content-type correctly in their response headers :(\n        // clients of these services will suffer a *minor* performance cost of the exception\n        // being thrown\n        results= querystring.parse( data );\n      }\n      var access_token= results[\"access_token\"];\n      var refresh_token= results[\"refresh_token\"];\n      delete results[\"refresh_token\"];\n      callback(null, access_token, refresh_token, results); // callback results =-=\n    }\n  });\n}\n\n// Deprecated\nexports.OAuth2.prototype.getProtectedResource= function(url, access_token, callback) {\n  this._request(\"GET\", url, {}, \"\", access_token, callback );\n}\n\nexports.OAuth2.prototype.get= function(url, access_token, callback) {\n  if( this._useAuthorizationHeaderForGET ) {\n    var headers= {'Authorization': this.buildAuthHeader(access_token) }\n    access_token= null;\n  }\n  else {\n    headers= {};\n  }\n  this._request(\"GET\", url, headers, \"\", access_token, callback );\n}\n","exports.OAuth = require(\"./lib/oauth\").OAuth;\nexports.OAuthEcho = require(\"./lib/oauth\").OAuthEcho;\nexports.OAuth2 = require(\"./lib/oauth2\").OAuth2;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.oAuth1Client = oAuth1Client;\nexports.oAuth1TokenStore = void 0;\nvar _oauth = require(\"oauth\");\nfunction oAuth1Client(options) {\n  var _provider$version, _provider$encoding;\n  const provider = options.provider;\n  const oauth1Client = new _oauth.OAuth(provider.requestTokenUrl, provider.accessTokenUrl, provider.clientId, provider.clientSecret, (_provider$version = provider.version) !== null && _provider$version !== void 0 ? _provider$version : \"1.0\", provider.callbackUrl, (_provider$encoding = provider.encoding) !== null && _provider$encoding !== void 0 ? _provider$encoding : \"HMAC-SHA1\");\n  const originalGet = oauth1Client.get.bind(oauth1Client);\n  oauth1Client.get = async (...args) => {\n    return await new Promise((resolve, reject) => {\n      originalGet(...args, (error, result) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve(result);\n      });\n    });\n  };\n  const originalGetOAuth1AccessToken = oauth1Client.getOAuthAccessToken.bind(oauth1Client);\n  oauth1Client.getOAuthAccessToken = async (...args) => {\n    return await new Promise((resolve, reject) => {\n      originalGetOAuth1AccessToken(...args, (error, oauth_token, oauth_token_secret) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve({\n          oauth_token,\n          oauth_token_secret\n        });\n      });\n    });\n  };\n  const originalGetOAuthRequestToken = oauth1Client.getOAuthRequestToken.bind(oauth1Client);\n  oauth1Client.getOAuthRequestToken = async (params = {}) => {\n    return await new Promise((resolve, reject) => {\n      originalGetOAuthRequestToken(params, (error, oauth_token, oauth_token_secret, params) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve({\n          oauth_token,\n          oauth_token_secret,\n          params\n        });\n      });\n    });\n  };\n  return oauth1Client;\n}\nconst oAuth1TokenStore = exports.oAuth1TokenStore = new Map();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst digest = (algorithm, data) => (0, crypto_1.createHash)(algorithm).update(data).digest();\nexports.default = digest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concatKdf = exports.lengthAndInput = exports.uint32be = exports.uint64be = exports.p2s = exports.concat = exports.decoder = exports.encoder = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nexports.encoder = new TextEncoder();\nexports.decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nfunction concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    buffers.forEach((buffer) => {\n        buf.set(buffer, i);\n        i += buffer.length;\n    });\n    return buf;\n}\nexports.concat = concat;\nfunction p2s(alg, p2sInput) {\n    return concat(exports.encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nexports.p2s = p2s;\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nfunction uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexports.uint64be = uint64be;\nfunction uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexports.uint32be = uint32be;\nfunction lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexports.lengthAndInput = lengthAndInput;\nasync function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await (0, digest_js_1.default)('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\nexports.concatKdf = concatKdf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = exports.encodeBase64 = exports.decodeBase64 = void 0;\nconst buffer_1 = require(\"buffer\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nlet encode;\nfunction normalize(input) {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = buffer_utils_js_1.decoder.decode(encoded);\n    }\n    return encoded;\n}\nif (buffer_1.Buffer.isEncoding('base64url')) {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64url');\n}\nelse {\n    exports.encode = encode = (input) => buffer_1.Buffer.from(input).toString('base64').replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nconst decodeBase64 = (input) => buffer_1.Buffer.from(input, 'base64');\nexports.decodeBase64 = decodeBase64;\nconst encodeBase64 = (input) => buffer_1.Buffer.from(input).toString('base64');\nexports.encodeBase64 = encodeBase64;\nconst decode = (input) => buffer_1.Buffer.from(normalize(input), 'base64');\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JWSSignatureVerificationFailed = exports.JWKSTimeout = exports.JWKSMultipleMatchingKeys = exports.JWKSNoMatchingKey = exports.JWKSInvalid = exports.JWKInvalid = exports.JWTInvalid = exports.JWSInvalid = exports.JWEInvalid = exports.JWEDecompressionFailed = exports.JWEDecryptionFailed = exports.JOSENotSupported = exports.JOSEAlgNotAllowed = exports.JWTExpired = exports.JWTClaimValidationFailed = exports.JOSEError = void 0;\nclass JOSEError extends Error {\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n    constructor(message) {\n        var _a;\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        (_a = Error.captureStackTrace) === null || _a === void 0 ? void 0 : _a.call(Error, this, this.constructor);\n    }\n}\nexports.JOSEError = JOSEError;\nclass JWTClaimValidationFailed extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTClaimValidationFailed = JWTClaimValidationFailed;\nclass JWTExpired extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexports.JWTExpired = JWTExpired;\nclass JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexports.JOSEAlgNotAllowed = JOSEAlgNotAllowed;\nclass JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexports.JOSENotSupported = JOSENotSupported;\nclass JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexports.JWEDecryptionFailed = JWEDecryptionFailed;\nclass JWEDecompressionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECOMPRESSION_FAILED';\n        this.message = 'decompression operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECOMPRESSION_FAILED';\n    }\n}\nexports.JWEDecompressionFailed = JWEDecompressionFailed;\nclass JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexports.JWEInvalid = JWEInvalid;\nclass JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexports.JWSInvalid = JWSInvalid;\nclass JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexports.JWTInvalid = JWTInvalid;\nclass JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexports.JWKInvalid = JWKInvalid;\nclass JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexports.JWKSInvalid = JWKSInvalid;\nclass JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexports.JWKSNoMatchingKey = JWKSNoMatchingKey;\nclass JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nexports.JWKSMultipleMatchingKeys = JWKSMultipleMatchingKeys;\nSymbol.asyncIterator;\nclass JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexports.JWKSTimeout = JWKSTimeout;\nclass JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nexports.JWSSignatureVerificationFailed = JWSSignatureVerificationFailed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar crypto_1 = require(\"crypto\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return crypto_1.randomFillSync; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== (0, iv_js_1.bitLength)(enc)) {\n        throw new errors_js_1.JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexports.default = checkIvLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst util = require(\"util\");\nexports.default = util.types.isKeyObject\n    ? (obj) => util.types.isKeyObject(obj)\n    : (obj) => obj != null && obj instanceof crypto_1.KeyObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst checkCekLength = (enc, cek) => {\n    let expected;\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            expected = parseInt(enc.slice(-3), 10);\n            break;\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            expected = parseInt(enc.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Content Encryption Algorithm ${enc} is not supported either by JOSE or your javascript runtime`);\n    }\n    if (cek instanceof Uint8Array) {\n        const actual = cek.byteLength << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    if ((0, is_key_object_js_1.default)(cek) && cek.type === 'secret') {\n        const actual = cek.symmetricKeySize << 3;\n        if (actual !== expected) {\n            throw new errors_js_1.JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n        }\n        return;\n    }\n    throw new TypeError('Invalid Content Encryption Key type');\n};\nexports.default = checkCekLength;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst timingSafeEqual = crypto_1.timingSafeEqual;\nexports.default = timingSafeEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nfunction cbcTag(aad, iv, ciphertext, macSize, macKey, keySize) {\n    const macData = (0, buffer_utils_js_1.concat)(aad, iv, ciphertext, (0, buffer_utils_js_1.uint64be)(aad.length << 3));\n    const hmac = (0, crypto_1.createHmac)(`sha${macSize}`, macKey);\n    hmac.update(macData);\n    return hmac.digest().slice(0, keySize >> 3);\n}\nexports.default = cbcTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCryptoKey = void 0;\nconst crypto = require(\"crypto\");\nconst util = require(\"util\");\nconst webcrypto = crypto.webcrypto;\nexports.default = webcrypto;\nexports.isCryptoKey = util.types.isCryptoKey\n    ? (key) => util.types.isCryptoKey(key)\n    :\n        (key) => false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkEncCryptoKey = exports.checkSigCryptoKey = void 0;\nfunction unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nfunction checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkSigCryptoKey = checkSigCryptoKey;\nfunction checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexports.checkEncCryptoKey = checkEncCryptoKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withAlg = void 0;\nfunction message(msg, actual, ...types) {\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor && actual.constructor.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexports.default = (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nfunction withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\nexports.withAlg = withAlg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nlet ciphers;\nexports.default = (algorithm) => {\n    ciphers || (ciphers = new Set((0, crypto_1.getCiphers)()));\n    return ciphers.has(algorithm);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.types = void 0;\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nexports.default = (key) => (0, is_key_object_js_1.default)(key) || (0, webcrypto_js_1.isCryptoKey)(key);\nconst types = ['KeyObject'];\nexports.types = types;\nif (globalThis.CryptoKey || (webcrypto_js_1.default === null || webcrypto_js_1.default === void 0 ? void 0 : webcrypto_js_1.default.CryptoKey)) {\n    types.push('CryptoKey');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst timing_safe_equal_js_1 = require(\"./timing_safe_equal.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const macSize = parseInt(enc.slice(-3), 10);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const expectedTag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    let macCheckPassed;\n    try {\n        macCheckPassed = (0, timing_safe_equal_js_1.default)(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, encKey, iv);\n        plaintext = (0, buffer_utils_js_1.concat)(decipher.update(ciphertext), decipher.final());\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nfunction gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    try {\n        const decipher = (0, crypto_1.createDecipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n        decipher.setAuthTag(tag);\n        if (aad.byteLength) {\n            decipher.setAAD(aad, { plaintextLength: ciphertext.length });\n        }\n        const plaintext = decipher.update(ciphertext);\n        decipher.final();\n        return plaintext;\n    }\n    catch {\n        throw new errors_js_1.JWEDecryptionFailed();\n    }\n}\nconst decrypt = (enc, cek, ciphertext, iv, tag, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'decrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcDecrypt(enc, key, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmDecrypt(enc, key, ciphertext, iv, tag, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deflate = exports.inflate = void 0;\nconst util_1 = require(\"util\");\nconst zlib_1 = require(\"zlib\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst inflateRaw = (0, util_1.promisify)(zlib_1.inflateRaw);\nconst deflateRaw = (0, util_1.promisify)(zlib_1.deflateRaw);\nconst inflate = (input) => inflateRaw(input, { maxOutputLength: 250000 }).catch(() => {\n    throw new errors_js_1.JWEDecompressionFailed();\n});\nexports.inflate = inflate;\nconst deflate = (input) => deflateRaw(input);\nexports.deflate = deflate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexports.default = isDisjoint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nfunction isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\nexports.default = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction checkKeySize(key, alg) {\n    if (key.symmetricKeySize << 3 !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction ensureKeyObject(key, alg, usage) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst wrap = (alg, key, cek) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(cek), cipher.final());\n};\nexports.wrap = wrap;\nconst unwrap = (alg, key, encryptedKey) => {\n    const size = parseInt(alg.slice(1, 4), 10);\n    const algorithm = `aes${size}-wrap`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey');\n    checkKeySize(keyObject, alg);\n    const cipher = (0, crypto_1.createDecipheriv)(algorithm, keyObject, buffer_1.Buffer.alloc(8, 0xa6));\n    return (0, buffer_utils_js_1.concat)(cipher.update(encryptedKey), cipher.final());\n};\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setCurve = exports.weakMap = void 0;\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst p256 = buffer_1.Buffer.from([42, 134, 72, 206, 61, 3, 1, 7]);\nconst p384 = buffer_1.Buffer.from([43, 129, 4, 0, 34]);\nconst p521 = buffer_1.Buffer.from([43, 129, 4, 0, 35]);\nconst secp256k1 = buffer_1.Buffer.from([43, 129, 4, 0, 10]);\nexports.weakMap = new WeakMap();\nconst namedCurveToJOSE = (namedCurve) => {\n    switch (namedCurve) {\n        case 'prime256v1':\n            return 'P-256';\n        case 'secp384r1':\n            return 'P-384';\n        case 'secp521r1':\n            return 'P-521';\n        case 'secp256k1':\n            return 'secp256k1';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n    }\n};\nconst getNamedCurve = (kee, raw) => {\n    var _a;\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError('only \"private\" or \"public\" type keys can be used for this operation');\n    }\n    switch (key.asymmetricKeyType) {\n        case 'ed25519':\n        case 'ed448':\n            return `Ed${key.asymmetricKeyType.slice(2)}`;\n        case 'x25519':\n        case 'x448':\n            return `X${key.asymmetricKeyType.slice(1)}`;\n        case 'ec': {\n            if (exports.weakMap.has(key)) {\n                return exports.weakMap.get(key);\n            }\n            let namedCurve = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.namedCurve;\n            if (!namedCurve && key.type === 'private') {\n                namedCurve = getNamedCurve((0, crypto_1.createPublicKey)(key), true);\n            }\n            else if (!namedCurve) {\n                const buf = key.export({ format: 'der', type: 'spki' });\n                const i = buf[1] < 128 ? 14 : 15;\n                const len = buf[i];\n                const curveOid = buf.slice(i + 1, i + 1 + len);\n                if (curveOid.equals(p256)) {\n                    namedCurve = 'prime256v1';\n                }\n                else if (curveOid.equals(p384)) {\n                    namedCurve = 'secp384r1';\n                }\n                else if (curveOid.equals(p521)) {\n                    namedCurve = 'secp521r1';\n                }\n                else if (curveOid.equals(secp256k1)) {\n                    namedCurve = 'secp256k1';\n                }\n                else {\n                    throw new errors_js_1.JOSENotSupported('Unsupported key curve for this operation');\n                }\n            }\n            if (raw)\n                return namedCurve;\n            const curve = namedCurveToJOSE(namedCurve);\n            exports.weakMap.set(key, curve);\n            return curve;\n        }\n        default:\n            throw new TypeError('Invalid asymmetric key type for this operation');\n    }\n};\nfunction setCurve(keyObject, curve) {\n    exports.weakMap.set(keyObject, curve);\n}\nexports.setCurve = setCurve;\nexports.default = getNamedCurve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ecdhAllowed = exports.generateEpk = exports.deriveKey = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst generateKeyPair = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function deriveKey(publicKee, privateKee, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    let publicKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(publicKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(publicKee, 'ECDH');\n        publicKey = crypto_1.KeyObject.from(publicKee);\n    }\n    else if ((0, is_key_object_js_1.default)(publicKee)) {\n        publicKey = publicKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(publicKee, ...is_key_like_js_1.types));\n    }\n    let privateKey;\n    if ((0, webcrypto_js_1.isCryptoKey)(privateKee)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(privateKee, 'ECDH', 'deriveBits');\n        privateKey = crypto_1.KeyObject.from(privateKee);\n    }\n    else if ((0, is_key_object_js_1.default)(privateKee)) {\n        privateKey = privateKee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(privateKee, ...is_key_like_js_1.types));\n    }\n    const value = (0, buffer_utils_js_1.concat)((0, buffer_utils_js_1.lengthAndInput)(buffer_utils_js_1.encoder.encode(algorithm)), (0, buffer_utils_js_1.lengthAndInput)(apu), (0, buffer_utils_js_1.lengthAndInput)(apv), (0, buffer_utils_js_1.uint32be)(keyLength));\n    const sharedSecret = (0, crypto_1.diffieHellman)({ privateKey, publicKey });\n    return (0, buffer_utils_js_1.concatKdf)(sharedSecret, keyLength, value);\n}\nexports.deriveKey = deriveKey;\nasync function generateEpk(kee) {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(kee)) {\n        key = crypto_1.KeyObject.from(kee);\n    }\n    else if ((0, is_key_object_js_1.default)(kee)) {\n        key = kee;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(kee, ...is_key_like_js_1.types));\n    }\n    switch (key.asymmetricKeyType) {\n        case 'x25519':\n            return generateKeyPair('x25519');\n        case 'x448': {\n            return generateKeyPair('x448');\n        }\n        case 'ec': {\n            const namedCurve = (0, get_named_curve_js_1.default)(key);\n            return generateKeyPair('ec', { namedCurve });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported EPK');\n    }\n}\nexports.generateEpk = generateEpk;\nconst ecdhAllowed = (key) => ['P-256', 'P-384', 'P-521', 'X25519', 'X448'].includes((0, get_named_curve_js_1.default)(key));\nexports.ecdhAllowed = ecdhAllowed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new errors_js_1.JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\nexports.default = checkP2s;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst util_1 = require(\"util\");\nconst crypto_1 = require(\"crypto\");\nconst random_js_1 = require(\"./random.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst aeskw_js_1 = require(\"./aeskw.js\");\nconst check_p2s_js_1 = require(\"../lib/check_p2s.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst pbkdf2 = (0, util_1.promisify)(crypto_1.pbkdf2);\nfunction getPassword(key, alg) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key.export();\n    }\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, 'deriveBits', 'deriveKey');\n        return crypto_1.KeyObject.from(key).export();\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nconst encrypt = async (alg, key, cek, p2c = 2048, p2s = (0, random_js_1.default)(new Uint8Array(16))) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    const encryptedKey = await (0, aeskw_js_1.wrap)(alg.slice(-6), derivedKey, cek);\n    return { encryptedKey, p2c, p2s: (0, base64url_js_1.encode)(p2s) };\n};\nexports.encrypt = encrypt;\nconst decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    (0, check_p2s_js_1.default)(p2s);\n    const salt = (0, buffer_utils_js_1.p2s)(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10) >> 3;\n    const password = getPassword(key, alg);\n    const derivedKey = await pbkdf2(password, salt, p2c, keylen, `sha${alg.slice(8, 11)}`);\n    return (0, aeskw_js_1.unwrap)(alg.slice(-6), derivedKey, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setModulusLength = exports.weakMap = void 0;\nexports.weakMap = new WeakMap();\nconst getLength = (buf, index) => {\n    let len = buf.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        if (index === 0) {\n            return len;\n        }\n        return getLength(buf.subarray(2 + len), index - 1);\n    }\n    const num = len & 0x7f;\n    len = 0;\n    for (let i = 0; i < num; i++) {\n        len <<= 8;\n        const j = buf.readUInt8(2 + i);\n        len |= j;\n    }\n    if (index === 0) {\n        return len;\n    }\n    return getLength(buf.subarray(2 + len), index - 1);\n};\nconst getLengthOfSeqIndex = (sequence, index) => {\n    const len = sequence.readUInt8(1);\n    if ((len & 0x80) === 0) {\n        return getLength(sequence.subarray(2), index);\n    }\n    const num = len & 0x7f;\n    return getLength(sequence.subarray(2 + num), index);\n};\nconst getModulusLength = (key) => {\n    var _a, _b;\n    if (exports.weakMap.has(key)) {\n        return exports.weakMap.get(key);\n    }\n    const modulusLength = (_b = (_a = key.asymmetricKeyDetails) === null || _a === void 0 ? void 0 : _a.modulusLength) !== null && _b !== void 0 ? _b : (getLengthOfSeqIndex(key.export({ format: 'der', type: 'pkcs1' }), key.type === 'private' ? 1 : 0) -\n        1) <<\n        3;\n    exports.weakMap.set(key, modulusLength);\n    return modulusLength;\n};\nconst setModulusLength = (keyObject, modulusLength) => {\n    exports.weakMap.set(keyObject, modulusLength);\n};\nexports.setModulusLength = setModulusLength;\nexports.default = (key, alg) => {\n    if (getModulusLength(key) < 2048) {\n        throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst crypto_1 = require(\"crypto\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst checkKey = (key, alg) => {\n    if (key.asymmetricKeyType !== 'rsa') {\n        throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n    }\n    (0, check_modulus_length_js_1.default)(key, alg);\n};\nconst resolvePadding = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return crypto_1.constants.RSA_PKCS1_OAEP_PADDING;\n        case 'RSA1_5':\n            return crypto_1.constants.RSA_PKCS1_PADDING;\n        default:\n            return undefined;\n    }\n};\nconst resolveOaepHash = (alg) => {\n    switch (alg) {\n        case 'RSA-OAEP':\n            return 'sha1';\n        case 'RSA-OAEP-256':\n            return 'sha256';\n        case 'RSA-OAEP-384':\n            return 'sha384';\n        case 'RSA-OAEP-512':\n            return 'sha512';\n        default:\n            return undefined;\n    }\n};\nfunction ensureKeyObject(key, alg, ...usages) {\n    if ((0, is_key_object_js_1.default)(key)) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(key, alg, ...usages);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n}\nconst encrypt = (alg, key, cek) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'wrapKey', 'encrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.publicEncrypt)({ key: keyObject, oaepHash, padding }, cek);\n};\nexports.encrypt = encrypt;\nconst decrypt = (alg, key, encryptedKey) => {\n    const padding = resolvePadding(alg);\n    const oaepHash = resolveOaepHash(alg);\n    const keyObject = ensureKeyObject(key, alg, 'unwrapKey', 'decrypt');\n    checkKey(keyObject, alg);\n    return (0, crypto_1.privateDecrypt)({ key: keyObject, oaepHash, padding }, encryptedKey);\n};\nexports.decrypt = decrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitLength = void 0;\nconst errors_js_1 = require(\"../util/errors.js\");\nconst random_js_1 = require(\"../runtime/random.js\");\nfunction bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new errors_js_1.JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexports.bitLength = bitLength;\nexports.default = (alg) => (0, random_js_1.default)(new Uint8Array(bitLength(alg) >> 3));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromX509 = exports.fromSPKI = exports.fromPKCS8 = exports.toPKCS8 = exports.toSPKI = void 0;\nconst crypto_1 = require(\"crypto\");\nconst buffer_1 = require(\"buffer\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst genericExport = (keyType, keyFormat, key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n    }\n    if (keyObject.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return keyObject.export({ format: 'pem', type: keyFormat });\n};\nconst toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexports.toSPKI = toSPKI;\nconst toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nexports.toPKCS8 = toPKCS8;\nconst fromPKCS8 = (pem) => (0, crypto_1.createPrivateKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g, ''), 'base64'),\n    type: 'pkcs8',\n    format: 'der',\n});\nexports.fromPKCS8 = fromPKCS8;\nconst fromSPKI = (pem) => (0, crypto_1.createPublicKey)({\n    key: buffer_1.Buffer.from(pem.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g, ''), 'base64'),\n    type: 'spki',\n    format: 'der',\n});\nexports.fromSPKI = fromSPKI;\nconst fromX509 = (pem) => (0, crypto_1.createPublicKey)({\n    key: pem,\n    type: 'spki',\n    format: 'pem',\n});\nexports.fromX509 = fromX509;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst tagInteger = 0x02;\nconst tagBitStr = 0x03;\nconst tagOctStr = 0x04;\nconst tagSequence = 0x30;\nconst bZero = buffer_1.Buffer.from([0x00]);\nconst bTagInteger = buffer_1.Buffer.from([tagInteger]);\nconst bTagBitStr = buffer_1.Buffer.from([tagBitStr]);\nconst bTagSequence = buffer_1.Buffer.from([tagSequence]);\nconst bTagOctStr = buffer_1.Buffer.from([tagOctStr]);\nconst encodeLength = (len) => {\n    if (len < 128)\n        return buffer_1.Buffer.from([len]);\n    const buffer = buffer_1.Buffer.alloc(5);\n    buffer.writeUInt32BE(len, 1);\n    let offset = 1;\n    while (buffer[offset] === 0)\n        offset++;\n    buffer[offset - 1] = 0x80 | (5 - offset);\n    return buffer.slice(offset - 1);\n};\nconst oids = new Map([\n    ['P-256', buffer_1.Buffer.from('06 08 2A 86 48 CE 3D 03 01 07'.replace(/ /g, ''), 'hex')],\n    ['secp256k1', buffer_1.Buffer.from('06 05 2B 81 04 00 0A'.replace(/ /g, ''), 'hex')],\n    ['P-384', buffer_1.Buffer.from('06 05 2B 81 04 00 22'.replace(/ /g, ''), 'hex')],\n    ['P-521', buffer_1.Buffer.from('06 05 2B 81 04 00 23'.replace(/ /g, ''), 'hex')],\n    ['ecPublicKey', buffer_1.Buffer.from('06 07 2A 86 48 CE 3D 02 01'.replace(/ /g, ''), 'hex')],\n    ['X25519', buffer_1.Buffer.from('06 03 2B 65 6E'.replace(/ /g, ''), 'hex')],\n    ['X448', buffer_1.Buffer.from('06 03 2B 65 6F'.replace(/ /g, ''), 'hex')],\n    ['Ed25519', buffer_1.Buffer.from('06 03 2B 65 70'.replace(/ /g, ''), 'hex')],\n    ['Ed448', buffer_1.Buffer.from('06 03 2B 65 71'.replace(/ /g, ''), 'hex')],\n]);\nclass DumbAsn1Encoder {\n    constructor() {\n        this.length = 0;\n        this.elements = [];\n    }\n    oidFor(oid) {\n        const bOid = oids.get(oid);\n        if (!bOid) {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported OID');\n        }\n        this.elements.push(bOid);\n        this.length += bOid.length;\n    }\n    zero() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), bZero);\n        this.length += 3;\n    }\n    one() {\n        this.elements.push(bTagInteger, buffer_1.Buffer.from([0x01]), buffer_1.Buffer.from([0x01]));\n        this.length += 3;\n    }\n    unsignedInteger(integer) {\n        if (integer[0] & 0x80) {\n            const len = encodeLength(integer.length + 1);\n            this.elements.push(bTagInteger, len, bZero, integer);\n            this.length += 2 + len.length + integer.length;\n        }\n        else {\n            let i = 0;\n            while (integer[i] === 0 && (integer[i + 1] & 0x80) === 0)\n                i++;\n            const len = encodeLength(integer.length - i);\n            this.elements.push(bTagInteger, encodeLength(integer.length - i), integer.slice(i));\n            this.length += 1 + len.length + integer.length - i;\n        }\n    }\n    octStr(octStr) {\n        const len = encodeLength(octStr.length);\n        this.elements.push(bTagOctStr, encodeLength(octStr.length), octStr);\n        this.length += 1 + len.length + octStr.length;\n    }\n    bitStr(bitS) {\n        const len = encodeLength(bitS.length + 1);\n        this.elements.push(bTagBitStr, encodeLength(bitS.length + 1), bZero, bitS);\n        this.length += 1 + len.length + bitS.length + 1;\n    }\n    add(seq) {\n        this.elements.push(seq);\n        this.length += seq.length;\n    }\n    end(tag = bTagSequence) {\n        const len = encodeLength(this.length);\n        return buffer_1.Buffer.concat([tag, len, ...this.elements], 1 + len.length + this.length);\n    }\n}\nexports.default = DumbAsn1Encoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwkImport = exports.jwkExport = exports.rsaPssParams = exports.oneShotCallback = void 0;\nconst [major, minor] = process.versions.node.split('.').map((str) => parseInt(str, 10));\nexports.oneShotCallback = major >= 16 || (major === 15 && minor >= 13);\nexports.rsaPssParams = !('electron' in process.versions) && (major >= 17 || (major === 16 && minor >= 9));\nexports.jwkExport = major >= 16 || (major === 15 && minor >= 9);\nexports.jwkImport = major >= 16 || (major === 15 && minor >= 12);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst asn1_sequence_encoder_js_1 = require(\"./asn1_sequence_encoder.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst parse = (jwk) => {\n    if (flags_js_1.jwkImport && jwk.kty !== 'oct') {\n        return jwk.d\n            ? (0, crypto_1.createPrivateKey)({ format: 'jwk', key: jwk })\n            : (0, crypto_1.createPublicKey)({ format: 'jwk', key: jwk });\n    }\n    switch (jwk.kty) {\n        case 'oct': {\n            return (0, crypto_1.createSecretKey)((0, base64url_js_1.decode)(jwk.k));\n        }\n        case 'RSA': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const modulus = buffer_1.Buffer.from(jwk.n, 'base64');\n            const exponent = buffer_1.Buffer.from(jwk.e, 'base64');\n            if (isPrivate) {\n                enc.zero();\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.d, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.p, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.q, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dp, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.dq, 'base64'));\n                enc.unsignedInteger(buffer_1.Buffer.from(jwk.qi, 'base64'));\n            }\n            else {\n                enc.unsignedInteger(modulus);\n                enc.unsignedInteger(exponent);\n            }\n            const der = enc.end();\n            const createInput = {\n                key: der,\n                format: 'der',\n                type: 'pkcs1',\n            };\n            const keyObject = isPrivate ? (0, crypto_1.createPrivateKey)(createInput) : (0, crypto_1.createPublicKey)(createInput);\n            (0, check_modulus_length_js_1.setModulusLength)(keyObject, modulus.length << 3);\n            return keyObject;\n        }\n        case 'EC': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            const pub = buffer_1.Buffer.concat([\n                buffer_1.Buffer.alloc(1, 4),\n                buffer_1.Buffer.from(jwk.x, 'base64'),\n                buffer_1.Buffer.from(jwk.y, 'base64'),\n            ]);\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor('ecPublicKey');\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.one();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const enc$3 = new asn1_sequence_encoder_js_1.default();\n                enc$3.bitStr(pub);\n                const f2 = enc$3.end(buffer_1.Buffer.from([0xa1]));\n                enc$2.add(f2);\n                const f = enc$2.end();\n                const enc$4 = new asn1_sequence_encoder_js_1.default();\n                enc$4.add(f);\n                const f3 = enc$4.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f3);\n                const der = enc.end();\n                const keyObject = (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n                (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n                return keyObject;\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor('ecPublicKey');\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(pub);\n            const der = enc.end();\n            const keyObject = (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n            (0, get_named_curve_js_1.setCurve)(keyObject, jwk.crv);\n            return keyObject;\n        }\n        case 'OKP': {\n            const enc = new asn1_sequence_encoder_js_1.default();\n            const isPrivate = jwk.d !== undefined;\n            if (isPrivate) {\n                enc.zero();\n                const enc$1 = new asn1_sequence_encoder_js_1.default();\n                enc$1.oidFor(jwk.crv);\n                enc.add(enc$1.end());\n                const enc$2 = new asn1_sequence_encoder_js_1.default();\n                enc$2.octStr(buffer_1.Buffer.from(jwk.d, 'base64'));\n                const f = enc$2.end(buffer_1.Buffer.from([0x04]));\n                enc.add(f);\n                const der = enc.end();\n                return (0, crypto_1.createPrivateKey)({ key: der, format: 'der', type: 'pkcs8' });\n            }\n            const enc$1 = new asn1_sequence_encoder_js_1.default();\n            enc$1.oidFor(jwk.crv);\n            enc.add(enc$1.end());\n            enc.bitStr(buffer_1.Buffer.from(jwk.x, 'base64'));\n            const der = enc.end();\n            return (0, crypto_1.createPublicKey)({ key: der, format: 'der', type: 'spki' });\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n};\nexports.default = parse;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.importJWK = exports.importPKCS8 = exports.importX509 = exports.importSPKI = void 0;\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst jwk_to_key_js_1 = require(\"../runtime/jwk_to_key.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nasync function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return (0, asn1_js_1.fromSPKI)(spki, alg, options);\n}\nexports.importSPKI = importSPKI;\nasync function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return (0, asn1_js_1.fromX509)(x509, alg, options);\n}\nexports.importX509 = importX509;\nasync function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return (0, asn1_js_1.fromPKCS8)(pkcs8, alg, options);\n}\nexports.importPKCS8 = importPKCS8;\nasync function importJWK(jwk, alg, octAsKeyObject) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            octAsKeyObject !== null && octAsKeyObject !== void 0 ? octAsKeyObject : (octAsKeyObject = jwk.ext !== true);\n            if (octAsKeyObject) {\n                return (0, jwk_to_key_js_1.default)({ ...jwk, alg, ext: (_a = jwk.ext) !== null && _a !== void 0 ? _a : false });\n            }\n            return (0, base64url_js_1.decode)(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new errors_js_1.JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return (0, jwk_to_key_js_1.default)({ ...jwk, alg });\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\nexports.importJWK = importJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst invalid_key_input_js_1 = require(\"./invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"../runtime/is_key_like.js\");\nconst symmetricTypeCheck = (alg, key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (!(0, is_key_like_js_1.default)(key)) {\n        throw new TypeError((0, invalid_key_input_js_1.withAlg)(alg, key, ...is_key_like_js_1.types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${is_key_like_js_1.types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n};\nexports.default = checkKeyType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst check_iv_length_js_1 = require(\"../lib/check_iv_length.js\");\nconst check_cek_length_js_1 = require(\"./check_cek_length.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst cbc_tag_js_1 = require(\"./cbc_tag.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst ciphers_js_1 = require(\"./ciphers.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    if ((0, is_key_object_js_1.default)(cek)) {\n        cek = cek.export();\n    }\n    const encKey = cek.subarray(keySize >> 3);\n    const macKey = cek.subarray(0, keySize >> 3);\n    const algorithm = `aes-${keySize}-cbc`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, encKey, iv);\n    const ciphertext = (0, buffer_utils_js_1.concat)(cipher.update(plaintext), cipher.final());\n    const macSize = parseInt(enc.slice(-3), 10);\n    const tag = (0, cbc_tag_js_1.default)(aad, iv, ciphertext, macSize, macKey, keySize);\n    return { ciphertext, tag };\n}\nfunction gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const algorithm = `aes-${keySize}-gcm`;\n    if (!(0, ciphers_js_1.default)(algorithm)) {\n        throw new errors_js_1.JOSENotSupported(`alg ${enc} is not supported by your javascript runtime`);\n    }\n    const cipher = (0, crypto_1.createCipheriv)(algorithm, cek, iv, { authTagLength: 16 });\n    if (aad.byteLength) {\n        cipher.setAAD(aad, { plaintextLength: plaintext.length });\n    }\n    const ciphertext = cipher.update(plaintext);\n    cipher.final();\n    const tag = cipher.getAuthTag();\n    return { ciphertext, tag };\n}\nconst encrypt = (enc, plaintext, cek, iv, aad) => {\n    let key;\n    if ((0, webcrypto_js_1.isCryptoKey)(cek)) {\n        (0, crypto_key_js_1.checkEncCryptoKey)(cek, enc, 'encrypt');\n        key = crypto_1.KeyObject.from(cek);\n    }\n    else if (cek instanceof Uint8Array || (0, is_key_object_js_1.default)(cek)) {\n        key = cek;\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(cek, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    (0, check_cek_length_js_1.default)(enc, key);\n    (0, check_iv_length_js_1.default)(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return cbcEncrypt(enc, plaintext, key, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            return gcmEncrypt(enc, plaintext, key, iv, aad);\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexports.default = encrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unwrap = exports.wrap = void 0;\nconst encrypt_js_1 = require(\"../runtime/encrypt.js\");\nconst decrypt_js_1 = require(\"../runtime/decrypt.js\");\nconst iv_js_1 = require(\"./iv.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nasync function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    iv || (iv = (0, iv_js_1.default)(jweAlgorithm));\n    const { ciphertext: encryptedKey, tag } = await (0, encrypt_js_1.default)(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return { encryptedKey, iv: (0, base64url_js_1.encode)(iv), tag: (0, base64url_js_1.encode)(tag) };\n}\nexports.wrap = wrap;\nasync function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return (0, decrypt_js_1.default)(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\nexports.unwrap = unwrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst import_js_1 = require(\"../key/import.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    (0, check_key_type_js_1.default)(alg, key, 'decrypt');\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new errors_js_1.JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!(0, is_object_js_1.default)(joseHeader.epk))\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await (0, import_js_1.importJWK)(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = (0, base64url_js_1.decode)(joseHeader.apu);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new errors_js_1.JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = (0, base64url_js_1.decode)(joseHeader.apv);\n                }\n                catch {\n                    throw new errors_js_1.JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, rsaes_js_1.decrypt)(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = (options === null || options === void 0 ? void 0 : options.maxPBES2Count) || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = (0, base64url_js_1.decode)(joseHeader.p2s);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return (0, pbes2kw_js_1.decrypt)(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            return (0, aeskw_js_1.unwrap)(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new errors_js_1.JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new errors_js_1.JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = (0, base64url_js_1.decode)(joseHeader.iv);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = (0, base64url_js_1.decode)(joseHeader.tag);\n            }\n            catch {\n                throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n            }\n            return (0, aesgcmkw_js_1.unwrap)(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexports.default = decryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new errors_js_1.JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexports.default = validateCrit;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexports.default = validateAlgorithms;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedDecrypt = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst decrypt_js_1 = require(\"../../runtime/decrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst decrypt_key_management_js_1 = require(\"../../lib/decrypt_key_management.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedDecrypt(jwe, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new errors_js_1.JWEInvalid('JOSE Header missing');\n    }\n    if (typeof jwe.iv !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Initialization Vector missing or incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (typeof jwe.tag !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Authentication Tag missing or incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new errors_js_1.JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !(0, is_object_js_1.default)(jwe.header)) {\n        throw new errors_js_1.JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !(0, is_object_js_1.default)(jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jwe.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new errors_js_1.JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        if (!parsedProt || !parsedProt.zip) {\n            throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n        }\n        if (joseHeader.zip !== 'DEF') {\n            throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n        }\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new errors_js_1.JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && (0, validate_algorithms_js_1.default)('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        (0, validate_algorithms_js_1.default)('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if (keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = (0, base64url_js_1.decode)(jwe.encrypted_key);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await (0, decrypt_key_management_js_1.default)(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof errors_js_1.JWEInvalid || err instanceof errors_js_1.JOSENotSupported) {\n            throw err;\n        }\n        cek = (0, cek_js_1.default)(enc);\n    }\n    let iv;\n    let tag;\n    try {\n        iv = (0, base64url_js_1.decode)(jwe.iv);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the iv');\n    }\n    try {\n        tag = (0, base64url_js_1.decode)(jwe.tag);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the tag');\n    }\n    const protectedHeader = buffer_utils_js_1.encoder.encode((_a = jwe.protected) !== null && _a !== void 0 ? _a : '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = (0, base64url_js_1.decode)(jwe.ciphertext);\n    }\n    catch {\n        throw new errors_js_1.JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    let plaintext = await (0, decrypt_js_1.default)(enc, cek, ciphertext, iv, tag, additionalData);\n    if (joseHeader.zip === 'DEF') {\n        plaintext = await ((options === null || options === void 0 ? void 0 : options.inflateRaw) || zlib_js_1.inflate)(plaintext);\n    }\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = (0, base64url_js_1.decode)(jwe.aad);\n        }\n        catch {\n            throw new errors_js_1.JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedDecrypt = flattenedDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = buffer_utils_js_1.decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new errors_js_1.JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new errors_js_1.JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await (0, decrypt_js_1.flattenedDecrypt)({\n        ciphertext,\n        iv: (iv || undefined),\n        protected: protectedHeader || undefined,\n        tag: (tag || undefined),\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.compactDecrypt = compactDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalDecrypt = void 0;\nconst decrypt_js_1 = require(\"../flattened/decrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalDecrypt(jwe, key, options) {\n    if (!(0, is_object_js_1.default)(jwe)) {\n        throw new errors_js_1.JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new errors_js_1.JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await (0, decrypt_js_1.flattenedDecrypt)({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWEDecryptionFailed();\n}\nexports.generalDecrypt = generalDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tagInteger = 0x02;\nconst tagSequence = 0x30;\nclass Asn1SequenceDecoder {\n    constructor(buffer) {\n        if (buffer[0] !== tagSequence) {\n            throw new TypeError();\n        }\n        this.buffer = buffer;\n        this.offset = 1;\n        const len = this.decodeLength();\n        if (len !== buffer.length - this.offset) {\n            throw new TypeError();\n        }\n    }\n    decodeLength() {\n        let length = this.buffer[this.offset++];\n        if (length & 0x80) {\n            const nBytes = length & ~0x80;\n            length = 0;\n            for (let i = 0; i < nBytes; i++)\n                length = (length << 8) | this.buffer[this.offset + i];\n            this.offset += nBytes;\n        }\n        return length;\n    }\n    unsignedInteger() {\n        if (this.buffer[this.offset++] !== tagInteger) {\n            throw new TypeError();\n        }\n        let length = this.decodeLength();\n        if (this.buffer[this.offset] === 0) {\n            this.offset++;\n            length--;\n        }\n        const result = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n    end() {\n        if (this.offset !== this.buffer.length) {\n            throw new TypeError();\n        }\n    }\n}\nexports.default = Asn1SequenceDecoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst base64url_js_1 = require(\"./base64url.js\");\nconst asn1_sequence_decoder_js_1 = require(\"./asn1_sequence_decoder.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst is_key_object_js_1 = require(\"./is_key_object.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst keyToJWK = (key) => {\n    let keyObject;\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        if (!key.extractable) {\n            throw new TypeError('CryptoKey is not extractable');\n        }\n        keyObject = crypto_1.KeyObject.from(key);\n    }\n    else if ((0, is_key_object_js_1.default)(key)) {\n        keyObject = key;\n    }\n    else if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: (0, base64url_js_1.encode)(key),\n        };\n    }\n    else {\n        throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n    }\n    if (flags_js_1.jwkExport) {\n        if (keyObject.type !== 'secret' &&\n            !['rsa', 'ec', 'ed25519', 'x25519', 'ed448', 'x448'].includes(keyObject.asymmetricKeyType)) {\n            throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n        }\n        return keyObject.export({ format: 'jwk' });\n    }\n    switch (keyObject.type) {\n        case 'secret':\n            return {\n                kty: 'oct',\n                k: (0, base64url_js_1.encode)(keyObject.export()),\n            };\n        case 'private':\n        case 'public': {\n            switch (keyObject.asymmetricKeyType) {\n                case 'rsa': {\n                    const der = keyObject.export({ format: 'der', type: 'pkcs1' });\n                    const dec = new asn1_sequence_decoder_js_1.default(der);\n                    if (keyObject.type === 'private') {\n                        dec.unsignedInteger();\n                    }\n                    const n = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    const e = (0, base64url_js_1.encode)(dec.unsignedInteger());\n                    let jwk;\n                    if (keyObject.type === 'private') {\n                        jwk = {\n                            d: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            p: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            q: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dp: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            dq: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                            qi: (0, base64url_js_1.encode)(dec.unsignedInteger()),\n                        };\n                    }\n                    dec.end();\n                    return { kty: 'RSA', n, e, ...jwk };\n                }\n                case 'ec': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    let len;\n                    let offset;\n                    let correction;\n                    switch (crv) {\n                        case 'secp256k1':\n                            len = 64;\n                            offset = 31 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-256':\n                            len = 64;\n                            offset = 34 + 2;\n                            correction = -1;\n                            break;\n                        case 'P-384':\n                            len = 96;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        case 'P-521':\n                            len = 132;\n                            offset = 33 + 2;\n                            correction = -3;\n                            break;\n                        default:\n                            throw new errors_js_1.JOSENotSupported('Unsupported curve');\n                    }\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'EC',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-len, -len / 2)),\n                            y: (0, base64url_js_1.encode)(der.subarray(-len / 2)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    if (der.length < 100) {\n                        offset += correction;\n                    }\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(offset, offset + len / 2)),\n                    };\n                }\n                case 'ed25519':\n                case 'x25519': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(-32)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(-32)),\n                    };\n                }\n                case 'ed448':\n                case 'x448': {\n                    const crv = (0, get_named_curve_js_1.default)(keyObject);\n                    if (keyObject.type === 'public') {\n                        const der = keyObject.export({ type: 'spki', format: 'der' });\n                        return {\n                            kty: 'OKP',\n                            crv,\n                            x: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                        };\n                    }\n                    const der = keyObject.export({ type: 'pkcs8', format: 'der' });\n                    return {\n                        ...keyToJWK((0, crypto_1.createPublicKey)(keyObject)),\n                        d: (0, base64url_js_1.encode)(der.subarray(crv === 'Ed448' ? -57 : -56)),\n                    };\n                }\n                default:\n                    throw new errors_js_1.JOSENotSupported('Unsupported key asymmetricKeyType');\n            }\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported key type');\n    }\n};\nexports.default = keyToJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.exportJWK = exports.exportPKCS8 = exports.exportSPKI = void 0;\nconst asn1_js_1 = require(\"../runtime/asn1.js\");\nconst asn1_js_2 = require(\"../runtime/asn1.js\");\nconst key_to_jwk_js_1 = require(\"../runtime/key_to_jwk.js\");\nasync function exportSPKI(key) {\n    return (0, asn1_js_1.toSPKI)(key);\n}\nexports.exportSPKI = exportSPKI;\nasync function exportPKCS8(key) {\n    return (0, asn1_js_2.toPKCS8)(key);\n}\nexports.exportPKCS8 = exportPKCS8;\nasync function exportJWK(key) {\n    return (0, key_to_jwk_js_1.default)(key);\n}\nexports.exportJWK = exportJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst aeskw_js_1 = require(\"../runtime/aeskw.js\");\nconst ECDH = require(\"../runtime/ecdhes.js\");\nconst pbes2kw_js_1 = require(\"../runtime/pbes2kw.js\");\nconst rsaes_js_1 = require(\"../runtime/rsaes.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst cek_js_1 = require(\"../lib/cek.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst export_js_1 = require(\"../key/export.js\");\nconst check_key_type_js_1 = require(\"./check_key_type.js\");\nconst aesgcmkw_js_1 = require(\"./aesgcmkw.js\");\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    (0, check_key_type_js_1.default)(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new errors_js_1.JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await (0, export_js_1.exportJWK)(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? (0, cek_js_1.bitLength)(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = (0, base64url_js_1.encode)(apu);\n            if (apv)\n                parameters.apv = (0, base64url_js_1.encode)(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await (0, aeskw_js_1.wrap)(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, rsaes_js_1.encrypt)(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, pbes2kw_js_1.encrypt)(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            encryptedKey = await (0, aeskw_js_1.wrap)(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || (0, cek_js_1.default)(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await (0, aesgcmkw_js_1.wrap)(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexports.default = encryptKeyManagement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedEncrypt = exports.unprotected = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst encrypt_js_1 = require(\"../../runtime/encrypt.js\");\nconst zlib_js_1 = require(\"../../runtime/zlib.js\");\nconst iv_js_1 = require(\"../../lib/iv.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nexports.unprotected = Symbol();\nclass FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new errors_js_1.JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            if (!this._protectedHeader || !this._protectedHeader.zip) {\n                throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n            }\n            if (joseHeader.zip !== 'DEF') {\n                throw new errors_js_1.JOSENotSupported('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n            }\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (alg === 'dir') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Encryption');\n            }\n        }\n        else if (alg === 'ECDH-ES') {\n            if (this._cek) {\n                throw new TypeError('setContentEncryptionKey cannot be called when using Direct Key Agreement');\n            }\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && exports.unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        this._iv || (this._iv = (0, iv_js_1.default)(enc));\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = (0, base64url_js_1.encode)(this._aad);\n            additionalData = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), buffer_utils_js_1.encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        let ciphertext;\n        let tag;\n        if (joseHeader.zip === 'DEF') {\n            const deflated = await ((options === null || options === void 0 ? void 0 : options.deflateRaw) || zlib_js_1.deflate)(this._plaintext);\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, deflated, cek, this._iv, additionalData));\n        }\n        else {\n            ;\n            ({ ciphertext, tag } = await (0, encrypt_js_1.default)(enc, this._plaintext, cek, this._iv, additionalData));\n        }\n        const jwe = {\n            ciphertext: (0, base64url_js_1.encode)(ciphertext),\n            iv: (0, base64url_js_1.encode)(this._iv),\n            tag: (0, base64url_js_1.encode)(tag),\n        };\n        if (encryptedKey) {\n            jwe.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\nexports.FlattenedEncrypt = FlattenedEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst cek_js_1 = require(\"../../lib/cek.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst encrypt_key_management_js_1 = require(\"../../lib/encrypt_key_management.js\");\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass IndividualRecipient {\n    constructor(enc, key, options) {\n        this.parent = enc;\n        this.key = key;\n        this.options = options;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addRecipient(...args) {\n        return this.parent.addRecipient(...args);\n    }\n    encrypt(...args) {\n        return this.parent.encrypt(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralEncrypt {\n    constructor(plaintext) {\n        this._recipients = [];\n        this._plaintext = plaintext;\n    }\n    addRecipient(key, options) {\n        const recipient = new IndividualRecipient(this, key, { crit: options === null || options === void 0 ? void 0 : options.crit });\n        this._recipients.push(recipient);\n        return recipient;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    async encrypt(options) {\n        var _a, _b, _c;\n        if (!this._recipients.length) {\n            throw new errors_js_1.JWEInvalid('at least one recipient must be added');\n        }\n        options = { deflateRaw: options === null || options === void 0 ? void 0 : options.deflateRaw };\n        if (this._recipients.length === 1) {\n            const [recipient] = this._recipients;\n            const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                .setAdditionalAuthenticatedData(this._aad)\n                .setProtectedHeader(this._protectedHeader)\n                .setSharedUnprotectedHeader(this._unprotectedHeader)\n                .setUnprotectedHeader(recipient.unprotectedHeader)\n                .encrypt(recipient.key, { ...recipient.options, ...options });\n            let jwe = {\n                ciphertext: flattened.ciphertext,\n                iv: flattened.iv,\n                recipients: [{}],\n                tag: flattened.tag,\n            };\n            if (flattened.aad)\n                jwe.aad = flattened.aad;\n            if (flattened.protected)\n                jwe.protected = flattened.protected;\n            if (flattened.unprotected)\n                jwe.unprotected = flattened.unprotected;\n            if (flattened.encrypted_key)\n                jwe.recipients[0].encrypted_key = flattened.encrypted_key;\n            if (flattened.header)\n                jwe.recipients[0].header = flattened.header;\n            return jwe;\n        }\n        let enc;\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader, recipient.unprotectedHeader)) {\n                throw new errors_js_1.JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n            }\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const { alg } = joseHeader;\n            if (typeof alg !== 'string' || !alg) {\n                throw new errors_js_1.JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n            }\n            if (alg === 'dir' || alg === 'ECDH-ES') {\n                throw new errors_js_1.JWEInvalid('\"dir\" and \"ECDH-ES\" alg may only be used with a single recipient');\n            }\n            if (typeof joseHeader.enc !== 'string' || !joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n            }\n            if (!enc) {\n                enc = joseHeader.enc;\n            }\n            else if (enc !== joseHeader.enc) {\n                throw new errors_js_1.JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter must be the same for all recipients');\n            }\n            (0, validate_crit_js_1.default)(errors_js_1.JWEInvalid, new Map(), recipient.options.crit, this._protectedHeader, joseHeader);\n            if (joseHeader.zip !== undefined) {\n                if (!this._protectedHeader || !this._protectedHeader.zip) {\n                    throw new errors_js_1.JWEInvalid('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n                }\n            }\n        }\n        const cek = (0, cek_js_1.default)(enc);\n        let jwe = {\n            ciphertext: '',\n            iv: '',\n            recipients: [],\n            tag: '',\n        };\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            const target = {};\n            jwe.recipients.push(target);\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const p2c = joseHeader.alg.startsWith('PBES2') ? 2048 + i : undefined;\n            if (i === 0) {\n                const flattened = await new encrypt_js_1.FlattenedEncrypt(this._plaintext)\n                    .setAdditionalAuthenticatedData(this._aad)\n                    .setContentEncryptionKey(cek)\n                    .setProtectedHeader(this._protectedHeader)\n                    .setSharedUnprotectedHeader(this._unprotectedHeader)\n                    .setUnprotectedHeader(recipient.unprotectedHeader)\n                    .setKeyManagementParameters({ p2c })\n                    .encrypt(recipient.key, {\n                    ...recipient.options,\n                    ...options,\n                    [encrypt_js_1.unprotected]: true,\n                });\n                jwe.ciphertext = flattened.ciphertext;\n                jwe.iv = flattened.iv;\n                jwe.tag = flattened.tag;\n                if (flattened.aad)\n                    jwe.aad = flattened.aad;\n                if (flattened.protected)\n                    jwe.protected = flattened.protected;\n                if (flattened.unprotected)\n                    jwe.unprotected = flattened.unprotected;\n                target.encrypted_key = flattened.encrypted_key;\n                if (flattened.header)\n                    target.header = flattened.header;\n                continue;\n            }\n            const { encryptedKey, parameters } = await (0, encrypt_key_management_js_1.default)(((_a = recipient.unprotectedHeader) === null || _a === void 0 ? void 0 : _a.alg) ||\n                ((_b = this._protectedHeader) === null || _b === void 0 ? void 0 : _b.alg) ||\n                ((_c = this._unprotectedHeader) === null || _c === void 0 ? void 0 : _c.alg), enc, recipient.key, cek, { p2c });\n            target.encrypted_key = (0, base64url_js_1.encode)(encryptedKey);\n            if (recipient.unprotectedHeader || parameters)\n                target.header = { ...recipient.unprotectedHeader, ...parameters };\n        }\n        return jwe;\n    }\n}\nexports.GeneralEncrypt = GeneralEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction dsaDigest(alg) {\n    switch (alg) {\n        case 'PS256':\n        case 'RS256':\n        case 'ES256':\n        case 'ES256K':\n            return 'sha256';\n        case 'PS384':\n        case 'RS384':\n        case 'ES384':\n            return 'sha384';\n        case 'PS512':\n        case 'RS512':\n        case 'ES512':\n            return 'sha512';\n        case 'EdDSA':\n            return undefined;\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = dsaDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst get_named_curve_js_1 = require(\"./get_named_curve.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst flags_js_1 = require(\"./flags.js\");\nconst PSS = {\n    padding: crypto_1.constants.RSA_PKCS1_PSS_PADDING,\n    saltLength: crypto_1.constants.RSA_PSS_SALTLEN_DIGEST,\n};\nconst ecCurveAlgMap = new Map([\n    ['ES256', 'P-256'],\n    ['ES256K', 'secp256k1'],\n    ['ES384', 'P-384'],\n    ['ES512', 'P-521'],\n]);\nfunction keyForCrypto(alg, key) {\n    switch (alg) {\n        case 'EdDSA':\n            if (!['ed25519', 'ed448'].includes(key.asymmetricKeyType)) {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448');\n            }\n            return key;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return key;\n        case flags_js_1.rsaPssParams && 'PS256':\n        case flags_js_1.rsaPssParams && 'PS384':\n        case flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType === 'rsa-pss') {\n                const { hashAlgorithm, mgf1HashAlgorithm, saltLength } = key.asymmetricKeyDetails;\n                const length = parseInt(alg.slice(-3), 10);\n                if (hashAlgorithm !== undefined &&\n                    (hashAlgorithm !== `sha${length}` || mgf1HashAlgorithm !== hashAlgorithm)) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of \"alg\" ${alg}`);\n                }\n                if (saltLength !== undefined && saltLength > length >> 3) {\n                    throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of \"alg\" ${alg}`);\n                }\n            }\n            else if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case !flags_js_1.rsaPssParams && 'PS256':\n        case !flags_js_1.rsaPssParams && 'PS384':\n        case !flags_js_1.rsaPssParams && 'PS512':\n            if (key.asymmetricKeyType !== 'rsa') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be rsa');\n            }\n            (0, check_modulus_length_js_1.default)(key, alg);\n            return { key, ...PSS };\n        case 'ES256':\n        case 'ES256K':\n        case 'ES384':\n        case 'ES512': {\n            if (key.asymmetricKeyType !== 'ec') {\n                throw new TypeError('Invalid key for this operation, its asymmetricKeyType must be ec');\n            }\n            const actual = (0, get_named_curve_js_1.default)(key);\n            const expected = ecCurveAlgMap.get(alg);\n            if (actual !== expected) {\n                throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${expected}, got ${actual}`);\n            }\n            return { dsaEncoding: 'ieee-p1363', key };\n        }\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = keyForCrypto;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nfunction hmacDigest(alg) {\n    switch (alg) {\n        case 'HS256':\n            return 'sha256';\n        case 'HS384':\n            return 'sha384';\n        case 'HS512':\n            return 'sha512';\n        default:\n            throw new errors_js_1.JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\nexports.default = hmacDigest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nconst webcrypto_js_1 = require(\"./webcrypto.js\");\nconst crypto_key_js_1 = require(\"../lib/crypto_key.js\");\nconst invalid_key_input_js_1 = require(\"../lib/invalid_key_input.js\");\nconst is_key_like_js_1 = require(\"./is_key_like.js\");\nfunction getSignVerifyKey(alg, key, usage) {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types));\n        }\n        return (0, crypto_1.createSecretKey)(key);\n    }\n    if (key instanceof crypto_1.KeyObject) {\n        return key;\n    }\n    if ((0, webcrypto_js_1.isCryptoKey)(key)) {\n        (0, crypto_key_js_1.checkSigCryptoKey)(key, alg, usage);\n        return crypto_1.KeyObject.from(key);\n    }\n    throw new TypeError((0, invalid_key_input_js_1.default)(key, ...is_key_like_js_1.types, 'Uint8Array'));\n}\nexports.default = getSignVerifyKey;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst hmac_digest_js_1 = require(\"./hmac_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nlet oneShotSign;\nif (crypto.sign.length > 3) {\n    oneShotSign = (0, util_1.promisify)(crypto.sign);\n}\nelse {\n    oneShotSign = crypto.sign;\n}\nconst sign = async (alg, key, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'sign');\n    if (alg.startsWith('HS')) {\n        const hmac = crypto.createHmac((0, hmac_digest_js_1.default)(alg), keyObject);\n        hmac.update(data);\n        return hmac.digest();\n    }\n    return oneShotSign((0, dsa_digest_js_1.default)(alg), data, (0, node_key_js_1.default)(alg, keyObject));\n};\nexports.default = sign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst dsa_digest_js_1 = require(\"./dsa_digest.js\");\nconst node_key_js_1 = require(\"./node_key.js\");\nconst sign_js_1 = require(\"./sign.js\");\nconst get_sign_verify_key_js_1 = require(\"./get_sign_verify_key.js\");\nconst flags_js_1 = require(\"./flags.js\");\nlet oneShotVerify;\nif (crypto.verify.length > 4 && flags_js_1.oneShotCallback) {\n    oneShotVerify = (0, util_1.promisify)(crypto.verify);\n}\nelse {\n    oneShotVerify = crypto.verify;\n}\nconst verify = async (alg, key, signature, data) => {\n    const keyObject = (0, get_sign_verify_key_js_1.default)(alg, key, 'verify');\n    if (alg.startsWith('HS')) {\n        const expected = await (0, sign_js_1.default)(alg, keyObject, data);\n        const actual = signature;\n        try {\n            return crypto.timingSafeEqual(actual, expected);\n        }\n        catch {\n            return false;\n        }\n    }\n    const algorithm = (0, dsa_digest_js_1.default)(alg);\n    const keyInput = (0, node_key_js_1.default)(alg, keyObject);\n    try {\n        return await oneShotVerify(algorithm, data, keyInput, signature);\n    }\n    catch {\n        return false;\n    }\n};\nexports.default = verify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flattenedVerify = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst verify_js_1 = require(\"../../runtime/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nconst validate_algorithms_js_1 = require(\"../../lib/validate_algorithms.js\");\nasync function flattenedVerify(jws, key, options) {\n    var _a;\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new errors_js_1.JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new errors_js_1.JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new errors_js_1.JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !(0, is_object_js_1.default)(jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = (0, base64url_js_1.decode)(jws.protected);\n            parsedProt = JSON.parse(buffer_utils_js_1.decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!(0, is_disjoint_js_1.default)(parsedProt, jws.header)) {\n        throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && (0, validate_algorithms_js_1.default)('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new errors_js_1.JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new errors_js_1.JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new errors_js_1.JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    (0, check_key_type_js_1.default)(alg, key, 'verify');\n    const data = (0, buffer_utils_js_1.concat)(buffer_utils_js_1.encoder.encode((_a = jws.protected) !== null && _a !== void 0 ? _a : ''), buffer_utils_js_1.encoder.encode('.'), typeof jws.payload === 'string' ? buffer_utils_js_1.encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = (0, base64url_js_1.decode)(jws.signature);\n    }\n    catch {\n        throw new errors_js_1.JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await (0, verify_js_1.default)(alg, key, signature, data);\n    if (!verified) {\n        throw new errors_js_1.JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = (0, base64url_js_1.decode)(jws.payload);\n        }\n        catch {\n            throw new errors_js_1.JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = buffer_utils_js_1.encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\nexports.flattenedVerify = flattenedVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compactVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nasync function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = buffer_utils_js_1.decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new errors_js_1.JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new errors_js_1.JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await (0, verify_js_1.flattenedVerify)({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.compactVerify = compactVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generalVerify = void 0;\nconst verify_js_1 = require(\"../flattened/verify.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst is_object_js_1 = require(\"../../lib/is_object.js\");\nasync function generalVerify(jws, key, options) {\n    if (!(0, is_object_js_1.default)(jws)) {\n        throw new errors_js_1.JWSInvalid('General JWS must be an object');\n    }\n    if (!Array.isArray(jws.signatures) || !jws.signatures.every(is_object_js_1.default)) {\n        throw new errors_js_1.JWSInvalid('JWS Signatures missing or incorrect type');\n    }\n    for (const signature of jws.signatures) {\n        try {\n            return await (0, verify_js_1.flattenedVerify)({\n                header: signature.header,\n                payload: jws.payload,\n                protected: signature.protected,\n                signature: signature.signature,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new errors_js_1.JWSSignatureVerificationFailed();\n}\nexports.generalVerify = generalVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (date) => Math.floor(date.getTime() / 1000);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;\nexports.default = (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[1]);\n    const unit = matched[2].toLowerCase();\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            return Math.round(value);\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            return Math.round(value * minute);\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            return Math.round(value * hour);\n        case 'day':\n        case 'days':\n        case 'd':\n            return Math.round(value * day);\n        case 'week':\n        case 'weeks':\n        case 'w':\n            return Math.round(value * week);\n        default:\n            return Math.round(value * year);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"./buffer_utils.js\");\nconst epoch_js_1 = require(\"./epoch.js\");\nconst secs_js_1 = require(\"./secs.js\");\nconst is_object_js_1 = require(\"./is_object.js\");\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexports.default = (protectedHeader, encodedPayload, options = {}) => {\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"typ\" JWT header value', 'typ', 'check_failed');\n    }\n    let payload;\n    try {\n        payload = JSON.parse(buffer_utils_js_1.decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!(0, is_object_js_1.default)(payload)) {\n        throw new errors_js_1.JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    if (maxTokenAge !== undefined)\n        requiredClaims.push('iat');\n    if (audience !== undefined)\n        requiredClaims.push('aud');\n    if (subject !== undefined)\n        requiredClaims.push('sub');\n    if (issuer !== undefined)\n        requiredClaims.push('iss');\n    for (const claim of new Set(requiredClaims.reverse())) {\n        if (!(claim in payload)) {\n            throw new errors_js_1.JWTClaimValidationFailed(`missing required \"${claim}\" claim`, claim, 'missing');\n        }\n    }\n    if (issuer && !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"iss\" claim value', 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"sub\" claim value', 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new errors_js_1.JWTClaimValidationFailed('unexpected \"aud\" claim value', 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = (0, secs_js_1.default)(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = (0, epoch_js_1.default)(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim must be a number', 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim must be a number', 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new errors_js_1.JWTClaimValidationFailed('\"exp\" claim must be a number', 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new errors_js_1.JWTExpired('\"exp\" claim timestamp check failed', 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : (0, secs_js_1.default)(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new errors_js_1.JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new errors_js_1.JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtVerify = void 0;\nconst verify_js_1 = require(\"../jws/compact/verify.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtVerify(jwt, key, options) {\n    var _a;\n    const verified = await (0, verify_js_1.compactVerify)(jwt, key, options);\n    if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n        throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = (0, jwt_claims_set_js_1.default)(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\nexports.jwtVerify = jwtVerify;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jwtDecrypt = void 0;\nconst decrypt_js_1 = require(\"../jwe/compact/decrypt.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function jwtDecrypt(jwt, key, options) {\n    const decrypted = await (0, decrypt_js_1.compactDecrypt)(jwt, key, options);\n    const payload = (0, jwt_claims_set_js_1.default)(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new errors_js_1.JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\nexports.jwtDecrypt = jwtDecrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactEncrypt = void 0;\nconst encrypt_js_1 = require(\"../flattened/encrypt.js\");\nclass CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new encrypt_js_1.FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\nexports.CompactEncrypt = CompactEncrypt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlattenedSign = void 0;\nconst base64url_js_1 = require(\"../../runtime/base64url.js\");\nconst sign_js_1 = require(\"../../runtime/sign.js\");\nconst is_disjoint_js_1 = require(\"../../lib/is_disjoint.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../../lib/buffer_utils.js\");\nconst check_key_type_js_1 = require(\"../../lib/check_key_type.js\");\nconst validate_crit_js_1 = require(\"../../lib/validate_crit.js\");\nclass FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new errors_js_1.JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!(0, is_disjoint_js_1.default)(this._protectedHeader, this._unprotectedHeader)) {\n            throw new errors_js_1.JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = (0, validate_crit_js_1.default)(errors_js_1.JWSInvalid, new Map([['b64', true]]), options === null || options === void 0 ? void 0 : options.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new errors_js_1.JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new errors_js_1.JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        (0, check_key_type_js_1.default)(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = buffer_utils_js_1.encoder.encode((0, base64url_js_1.encode)(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = buffer_utils_js_1.encoder.encode('');\n        }\n        const data = (0, buffer_utils_js_1.concat)(protectedHeader, buffer_utils_js_1.encoder.encode('.'), payload);\n        const signature = await (0, sign_js_1.default)(alg, key, data);\n        const jws = {\n            signature: (0, base64url_js_1.encode)(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = buffer_utils_js_1.decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = buffer_utils_js_1.decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\nexports.FlattenedSign = FlattenedSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompactSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nclass CompactSign {\n    constructor(payload) {\n        this._flattened = new sign_js_1.FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\nexports.CompactSign = CompactSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GeneralSign = void 0;\nconst sign_js_1 = require(\"../flattened/sign.js\");\nconst errors_js_1 = require(\"../../util/errors.js\");\nclass IndividualSignature {\n    constructor(sig, key, options) {\n        this.parent = sig;\n        this.key = key;\n        this.options = options;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addSignature(...args) {\n        return this.parent.addSignature(...args);\n    }\n    sign(...args) {\n        return this.parent.sign(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nclass GeneralSign {\n    constructor(payload) {\n        this._signatures = [];\n        this._payload = payload;\n    }\n    addSignature(key, options) {\n        const signature = new IndividualSignature(this, key, options);\n        this._signatures.push(signature);\n        return signature;\n    }\n    async sign() {\n        if (!this._signatures.length) {\n            throw new errors_js_1.JWSInvalid('at least one signature must be added');\n        }\n        const jws = {\n            signatures: [],\n            payload: '',\n        };\n        for (let i = 0; i < this._signatures.length; i++) {\n            const signature = this._signatures[i];\n            const flattened = new sign_js_1.FlattenedSign(this._payload);\n            flattened.setProtectedHeader(signature.protectedHeader);\n            flattened.setUnprotectedHeader(signature.unprotectedHeader);\n            const { payload, ...rest } = await flattened.sign(signature.key, signature.options);\n            if (i === 0) {\n                jws.payload = payload;\n            }\n            else if (jws.payload !== payload) {\n                throw new errors_js_1.JWSInvalid('inconsistent use of JWS Unencoded Payload (RFC7797)');\n            }\n            jws.signatures.push(rest);\n        }\n        return jws;\n    }\n}\nexports.GeneralSign = GeneralSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProduceJWT = void 0;\nconst epoch_js_1 = require(\"../lib/epoch.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst secs_js_1 = require(\"../lib/secs.js\");\nclass ProduceJWT {\n    constructor(payload) {\n        if (!(0, is_object_js_1.default)(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: input };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: input };\n        }\n        else {\n            this._payload = { ...this._payload, exp: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: (0, epoch_js_1.default)(new Date()) };\n        }\n        else {\n            this._payload = { ...this._payload, iat: input };\n        }\n        return this;\n    }\n}\nexports.ProduceJWT = ProduceJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignJWT = void 0;\nconst sign_js_1 = require(\"../jws/compact/sign.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass SignJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        var _a;\n        const sig = new sign_js_1.CompactSign(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray((_a = this._protectedHeader) === null || _a === void 0 ? void 0 : _a.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new errors_js_1.JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\nexports.SignJWT = SignJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EncryptJWT = void 0;\nconst encrypt_js_1 = require(\"../jwe/compact/encrypt.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass EncryptJWT extends produce_js_1.ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new encrypt_js_1.CompactEncrypt(buffer_utils_js_1.encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\nexports.EncryptJWT = EncryptJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = void 0;\nconst digest_js_1 = require(\"../runtime/digest.js\");\nconst base64url_js_1 = require(\"../runtime/base64url.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new errors_js_1.JWKInvalid(`${description} missing or invalid`);\n    }\n};\nasync function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!(0, is_object_js_1.default)(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = buffer_utils_js_1.encoder.encode(JSON.stringify(components));\n    return (0, base64url_js_1.encode)(await (0, digest_js_1.default)(digestAlgorithm, data));\n}\nexports.calculateJwkThumbprint = calculateJwkThumbprint;\nasync function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm !== null && digestAlgorithm !== void 0 ? digestAlgorithm : (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\nexports.calculateJwkThumbprintUri = calculateJwkThumbprintUri;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmbeddedJWK = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nasync function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token === null || token === void 0 ? void 0 : token.header,\n    };\n    if (!(0, is_object_js_1.default)(joseHeader.jwk)) {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await (0, import_js_1.importJWK)({ ...joseHeader.jwk, ext: true }, joseHeader.alg, true);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new errors_js_1.JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\nexports.EmbeddedJWK = EmbeddedJWK;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLocalJWKSet = exports.LocalJWKSet = exports.isJWKSLike = void 0;\nconst import_js_1 = require(\"../key/import.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new errors_js_1.JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nexports.isJWKSLike = isJWKSLike;\nfunction isJWKLike(key) {\n    return (0, is_object_js_1.default)(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token === null || token === void 0 ? void 0 : token.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new errors_js_1.JWKSNoMatchingKey();\n        }\n        else if (length !== 1) {\n            const error = new errors_js_1.JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch {\n                        continue;\n                    }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nexports.LocalJWKSet = LocalJWKSet;\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await (0, import_js_1.importJWK)({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new errors_js_1.JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nfunction createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createLocalJWKSet = createLocalJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst http = require(\"http\");\nconst https = require(\"https\");\nconst events_1 = require(\"events\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst fetchJwks = async (url, timeout, options) => {\n    let get;\n    switch (url.protocol) {\n        case 'https:':\n            get = https.get;\n            break;\n        case 'http:':\n            get = http.get;\n            break;\n        default:\n            throw new TypeError('Unsupported URL protocol.');\n    }\n    const { agent, headers } = options;\n    const req = get(url.href, {\n        agent,\n        timeout,\n        headers,\n    });\n    const [response] = (await Promise.race([(0, events_1.once)(req, 'response'), (0, events_1.once)(req, 'timeout')]));\n    if (!response) {\n        req.destroy();\n        throw new errors_js_1.JWKSTimeout();\n    }\n    if (response.statusCode !== 200) {\n        throw new errors_js_1.JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    const parts = [];\n    for await (const part of response) {\n        parts.push(part);\n    }\n    try {\n        return JSON.parse(buffer_utils_js_1.decoder.decode((0, buffer_utils_js_1.concat)(...parts)));\n    }\n    catch {\n        throw new errors_js_1.JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexports.default = fetchJwks;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRemoteJWKSet = void 0;\nconst fetch_jwks_js_1 = require(\"../runtime/fetch_jwks.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst local_js_1 = require(\"./local.js\");\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nclass RemoteJWKSet extends local_js_1.LocalJWKSet {\n    constructor(url, options) {\n        super({ keys: [] });\n        this._jwks = undefined;\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options === null || options === void 0 ? void 0 : options.agent, headers: options === null || options === void 0 ? void 0 : options.headers };\n        this._timeoutDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.timeoutDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof (options === null || options === void 0 ? void 0 : options.cooldownDuration) === 'number' ? options === null || options === void 0 ? void 0 : options.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof (options === null || options === void 0 ? void 0 : options.cacheMaxAge) === 'number' ? options === null || options === void 0 ? void 0 : options.cacheMaxAge : 600000;\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._jwks || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await super.getKey(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof errors_js_1.JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return super.getKey(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        this._pendingFetch || (this._pendingFetch = (0, fetch_jwks_js_1.default)(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            if (!(0, local_js_1.isJWKSLike)(json)) {\n                throw new errors_js_1.JWKSInvalid('JSON Web Key Set malformed');\n            }\n            this._jwks = { keys: json.keys };\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nfunction createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    return async function (protectedHeader, token) {\n        return set.getKey(protectedHeader, token);\n    };\n}\nexports.createRemoteJWKSet = createRemoteJWKSet;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsecuredJWT = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst jwt_claims_set_js_1 = require(\"../lib/jwt_claims_set.js\");\nconst produce_js_1 = require(\"./produce.js\");\nclass UnsecuredJWT extends produce_js_1.ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new errors_js_1.JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(buffer_utils_js_1.decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch {\n            throw new errors_js_1.JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = (0, jwt_claims_set_js_1.default)(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\nexports.UnsecuredJWT = UnsecuredJWT;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\nconst base64url = require(\"../runtime/base64url.js\");\nexports.encode = base64url.encode;\nexports.decode = base64url.decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeProtectedHeader = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nfunction decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(buffer_utils_js_1.decoder.decode((0, base64url_js_1.decode)(protectedB64u)));\n        if (!(0, is_object_js_1.default)(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\nexports.decodeProtectedHeader = decodeProtectedHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeJwt = void 0;\nconst base64url_js_1 = require(\"./base64url.js\");\nconst buffer_utils_js_1 = require(\"../lib/buffer_utils.js\");\nconst is_object_js_1 = require(\"../lib/is_object.js\");\nconst errors_js_1 = require(\"./errors.js\");\nfunction decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new errors_js_1.JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new errors_js_1.JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new errors_js_1.JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new errors_js_1.JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = (0, base64url_js_1.decode)(payload);\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(buffer_utils_js_1.decoder.decode(decoded));\n    }\n    catch {\n        throw new errors_js_1.JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!(0, is_object_js_1.default)(result))\n        throw new errors_js_1.JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\nexports.decodeJwt = decodeJwt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = exports.generateSecret = void 0;\nconst crypto_1 = require(\"crypto\");\nconst util_1 = require(\"util\");\nconst random_js_1 = require(\"./random.js\");\nconst check_modulus_length_js_1 = require(\"./check_modulus_length.js\");\nconst errors_js_1 = require(\"../util/errors.js\");\nconst generate = (0, util_1.promisify)(crypto_1.generateKeyPair);\nasync function generateSecret(alg, options) {\n    let length;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            break;\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            break;\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return (0, crypto_1.createSecretKey)((0, random_js_1.default)(new Uint8Array(length >> 3)));\n}\nexports.generateSecret = generateSecret;\nasync function generateKeyPair(alg, options) {\n    var _a, _b;\n    switch (alg) {\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n        case 'RSA1_5': {\n            const modulusLength = (_a = options === null || options === void 0 ? void 0 : options.modulusLength) !== null && _a !== void 0 ? _a : 2048;\n            if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n                throw new errors_js_1.JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n            }\n            const keypair = await generate('rsa', {\n                modulusLength,\n                publicExponent: 0x10001,\n            });\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.privateKey, modulusLength);\n            (0, check_modulus_length_js_1.setModulusLength)(keypair.publicKey, modulusLength);\n            return keypair;\n        }\n        case 'ES256':\n            return generate('ec', { namedCurve: 'P-256' });\n        case 'ES256K':\n            return generate('ec', { namedCurve: 'secp256k1' });\n        case 'ES384':\n            return generate('ec', { namedCurve: 'P-384' });\n        case 'ES512':\n            return generate('ec', { namedCurve: 'P-521' });\n        case 'EdDSA': {\n            switch (options === null || options === void 0 ? void 0 : options.crv) {\n                case undefined:\n                case 'Ed25519':\n                    return generate('ed25519');\n                case 'Ed448':\n                    return generate('ed448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448');\n            }\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW':\n            const crv = (_b = options === null || options === void 0 ? void 0 : options.crv) !== null && _b !== void 0 ? _b : 'P-256';\n            switch (crv) {\n                case undefined:\n                case 'P-256':\n                case 'P-384':\n                case 'P-521':\n                    return generate('ec', { namedCurve: crv });\n                case 'X25519':\n                    return generate('x25519');\n                case 'X448':\n                    return generate('x448');\n                default:\n                    throw new errors_js_1.JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n        default:\n            throw new errors_js_1.JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateKeyPair = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateKeyPair(alg, options) {\n    return (0, generate_js_1.generateKeyPair)(alg, options);\n}\nexports.generateKeyPair = generateKeyPair;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateSecret = void 0;\nconst generate_js_1 = require(\"../runtime/generate.js\");\nasync function generateSecret(alg, options) {\n    return (0, generate_js_1.generateSecret)(alg, options);\n}\nexports.generateSecret = generateSecret;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = 'node:crypto';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst runtime_js_1 = require(\"../runtime/runtime.js\");\nexports.default = runtime_js_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cryptoRuntime = exports.base64url = exports.generateSecret = exports.generateKeyPair = exports.errors = exports.decodeJwt = exports.decodeProtectedHeader = exports.importJWK = exports.importX509 = exports.importPKCS8 = exports.importSPKI = exports.exportJWK = exports.exportSPKI = exports.exportPKCS8 = exports.UnsecuredJWT = exports.createRemoteJWKSet = exports.createLocalJWKSet = exports.EmbeddedJWK = exports.calculateJwkThumbprintUri = exports.calculateJwkThumbprint = exports.EncryptJWT = exports.SignJWT = exports.GeneralSign = exports.FlattenedSign = exports.CompactSign = exports.FlattenedEncrypt = exports.CompactEncrypt = exports.jwtDecrypt = exports.jwtVerify = exports.generalVerify = exports.flattenedVerify = exports.compactVerify = exports.GeneralEncrypt = exports.generalDecrypt = exports.flattenedDecrypt = exports.compactDecrypt = void 0;\nvar decrypt_js_1 = require(\"./jwe/compact/decrypt.js\");\nObject.defineProperty(exports, \"compactDecrypt\", { enumerable: true, get: function () { return decrypt_js_1.compactDecrypt; } });\nvar decrypt_js_2 = require(\"./jwe/flattened/decrypt.js\");\nObject.defineProperty(exports, \"flattenedDecrypt\", { enumerable: true, get: function () { return decrypt_js_2.flattenedDecrypt; } });\nvar decrypt_js_3 = require(\"./jwe/general/decrypt.js\");\nObject.defineProperty(exports, \"generalDecrypt\", { enumerable: true, get: function () { return decrypt_js_3.generalDecrypt; } });\nvar encrypt_js_1 = require(\"./jwe/general/encrypt.js\");\nObject.defineProperty(exports, \"GeneralEncrypt\", { enumerable: true, get: function () { return encrypt_js_1.GeneralEncrypt; } });\nvar verify_js_1 = require(\"./jws/compact/verify.js\");\nObject.defineProperty(exports, \"compactVerify\", { enumerable: true, get: function () { return verify_js_1.compactVerify; } });\nvar verify_js_2 = require(\"./jws/flattened/verify.js\");\nObject.defineProperty(exports, \"flattenedVerify\", { enumerable: true, get: function () { return verify_js_2.flattenedVerify; } });\nvar verify_js_3 = require(\"./jws/general/verify.js\");\nObject.defineProperty(exports, \"generalVerify\", { enumerable: true, get: function () { return verify_js_3.generalVerify; } });\nvar verify_js_4 = require(\"./jwt/verify.js\");\nObject.defineProperty(exports, \"jwtVerify\", { enumerable: true, get: function () { return verify_js_4.jwtVerify; } });\nvar decrypt_js_4 = require(\"./jwt/decrypt.js\");\nObject.defineProperty(exports, \"jwtDecrypt\", { enumerable: true, get: function () { return decrypt_js_4.jwtDecrypt; } });\nvar encrypt_js_2 = require(\"./jwe/compact/encrypt.js\");\nObject.defineProperty(exports, \"CompactEncrypt\", { enumerable: true, get: function () { return encrypt_js_2.CompactEncrypt; } });\nvar encrypt_js_3 = require(\"./jwe/flattened/encrypt.js\");\nObject.defineProperty(exports, \"FlattenedEncrypt\", { enumerable: true, get: function () { return encrypt_js_3.FlattenedEncrypt; } });\nvar sign_js_1 = require(\"./jws/compact/sign.js\");\nObject.defineProperty(exports, \"CompactSign\", { enumerable: true, get: function () { return sign_js_1.CompactSign; } });\nvar sign_js_2 = require(\"./jws/flattened/sign.js\");\nObject.defineProperty(exports, \"FlattenedSign\", { enumerable: true, get: function () { return sign_js_2.FlattenedSign; } });\nvar sign_js_3 = require(\"./jws/general/sign.js\");\nObject.defineProperty(exports, \"GeneralSign\", { enumerable: true, get: function () { return sign_js_3.GeneralSign; } });\nvar sign_js_4 = require(\"./jwt/sign.js\");\nObject.defineProperty(exports, \"SignJWT\", { enumerable: true, get: function () { return sign_js_4.SignJWT; } });\nvar encrypt_js_4 = require(\"./jwt/encrypt.js\");\nObject.defineProperty(exports, \"EncryptJWT\", { enumerable: true, get: function () { return encrypt_js_4.EncryptJWT; } });\nvar thumbprint_js_1 = require(\"./jwk/thumbprint.js\");\nObject.defineProperty(exports, \"calculateJwkThumbprint\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprint; } });\nObject.defineProperty(exports, \"calculateJwkThumbprintUri\", { enumerable: true, get: function () { return thumbprint_js_1.calculateJwkThumbprintUri; } });\nvar embedded_js_1 = require(\"./jwk/embedded.js\");\nObject.defineProperty(exports, \"EmbeddedJWK\", { enumerable: true, get: function () { return embedded_js_1.EmbeddedJWK; } });\nvar local_js_1 = require(\"./jwks/local.js\");\nObject.defineProperty(exports, \"createLocalJWKSet\", { enumerable: true, get: function () { return local_js_1.createLocalJWKSet; } });\nvar remote_js_1 = require(\"./jwks/remote.js\");\nObject.defineProperty(exports, \"createRemoteJWKSet\", { enumerable: true, get: function () { return remote_js_1.createRemoteJWKSet; } });\nvar unsecured_js_1 = require(\"./jwt/unsecured.js\");\nObject.defineProperty(exports, \"UnsecuredJWT\", { enumerable: true, get: function () { return unsecured_js_1.UnsecuredJWT; } });\nvar export_js_1 = require(\"./key/export.js\");\nObject.defineProperty(exports, \"exportPKCS8\", { enumerable: true, get: function () { return export_js_1.exportPKCS8; } });\nObject.defineProperty(exports, \"exportSPKI\", { enumerable: true, get: function () { return export_js_1.exportSPKI; } });\nObject.defineProperty(exports, \"exportJWK\", { enumerable: true, get: function () { return export_js_1.exportJWK; } });\nvar import_js_1 = require(\"./key/import.js\");\nObject.defineProperty(exports, \"importSPKI\", { enumerable: true, get: function () { return import_js_1.importSPKI; } });\nObject.defineProperty(exports, \"importPKCS8\", { enumerable: true, get: function () { return import_js_1.importPKCS8; } });\nObject.defineProperty(exports, \"importX509\", { enumerable: true, get: function () { return import_js_1.importX509; } });\nObject.defineProperty(exports, \"importJWK\", { enumerable: true, get: function () { return import_js_1.importJWK; } });\nvar decode_protected_header_js_1 = require(\"./util/decode_protected_header.js\");\nObject.defineProperty(exports, \"decodeProtectedHeader\", { enumerable: true, get: function () { return decode_protected_header_js_1.decodeProtectedHeader; } });\nvar decode_jwt_js_1 = require(\"./util/decode_jwt.js\");\nObject.defineProperty(exports, \"decodeJwt\", { enumerable: true, get: function () { return decode_jwt_js_1.decodeJwt; } });\nexports.errors = require(\"./util/errors.js\");\nvar generate_key_pair_js_1 = require(\"./key/generate_key_pair.js\");\nObject.defineProperty(exports, \"generateKeyPair\", { enumerable: true, get: function () { return generate_key_pair_js_1.generateKeyPair; } });\nvar generate_secret_js_1 = require(\"./key/generate_secret.js\");\nObject.defineProperty(exports, \"generateSecret\", { enumerable: true, get: function () { return generate_secret_js_1.generateSecret; } });\nexports.base64url = require(\"./util/base64url.js\");\nvar runtime_js_1 = require(\"./util/runtime.js\");\nObject.defineProperty(exports, \"cryptoRuntime\", { enumerable: true, get: function () { return runtime_js_1.default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto_1 = require(\"crypto\");\nexports.default = (digest, ikm, salt, info, keylen) => {\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    const prk = (0, crypto_1.createHmac)(digest, salt.byteLength ? salt : new Uint8Array(hashlen))\n        .update(ikm)\n        .digest();\n    const N = Math.ceil(keylen / hashlen);\n    const T = new Uint8Array(hashlen * N + info.byteLength + 1);\n    let prev = 0;\n    let start = 0;\n    for (let c = 1; c <= N; c++) {\n        T.set(info, start);\n        T[start + info.byteLength] = c;\n        T.set((0, crypto_1.createHmac)(digest, prk)\n            .update(T.subarray(prev, start + info.byteLength + 1))\n            .digest(), start);\n        prev = start;\n        start += hashlen;\n    }\n    return T.slice(0, keylen);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst crypto = require(\"crypto\");\nconst fallback_js_1 = require(\"./fallback.js\");\nlet hkdf;\nif (typeof crypto.hkdf === 'function' && !process.versions.electron) {\n    hkdf = async (...args) => new Promise((resolve, reject) => {\n        crypto.hkdf(...args, (err, arrayBuffer) => {\n            if (err)\n                reject(err);\n            else\n                resolve(new Uint8Array(arrayBuffer));\n        });\n    });\n}\nexports.default = async (digest, ikm, salt, info, keylen) => (hkdf || fallback_js_1.default)(digest, ikm, salt, info, keylen);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.hkdf = void 0;\nconst hkdf_js_1 = require(\"./runtime/hkdf.js\");\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return (0, hkdf_js_1.default)(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\nexports.hkdf = hkdf;\nexports.default = hkdf;\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SessionStore = void 0;\nexports.defaultCookies = defaultCookies;\nfunction _classPrivateMethodInitSpec(e, a) { _checkPrivateRedeclaration(e, a), a.add(e); }\nfunction _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _classPrivateFieldSet(s, a, r) { return s.set(_assertClassBrand(s, a), r), r; }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\nconst ALLOWED_COOKIE_SIZE = 4096;\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 163;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\nfunction defaultCookies(useSecureCookies) {\n  const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n  return {\n    sessionToken: {\n      name: `${cookiePrefix}next-auth.session-token`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    callbackUrl: {\n      name: `${cookiePrefix}next-auth.callback-url`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    csrfToken: {\n      name: `${useSecureCookies ? \"__Host-\" : \"\"}next-auth.csrf-token`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    },\n    pkceCodeVerifier: {\n      name: `${cookiePrefix}next-auth.pkce.code_verifier`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies,\n        maxAge: 60 * 15\n      }\n    },\n    state: {\n      name: `${cookiePrefix}next-auth.state`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies,\n        maxAge: 60 * 15\n      }\n    },\n    nonce: {\n      name: `${cookiePrefix}next-auth.nonce`,\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: useSecureCookies\n      }\n    }\n  };\n}\nvar _chunks = new WeakMap();\nvar _option = new WeakMap();\nvar _logger = new WeakMap();\nvar _SessionStore_brand = new WeakSet();\nclass SessionStore {\n  constructor(option, req, logger) {\n    _classPrivateMethodInitSpec(this, _SessionStore_brand);\n    _classPrivateFieldInitSpec(this, _chunks, {});\n    _classPrivateFieldInitSpec(this, _option, void 0);\n    _classPrivateFieldInitSpec(this, _logger, void 0);\n    _classPrivateFieldSet(_logger, this, logger);\n    _classPrivateFieldSet(_option, this, option);\n    const {\n      cookies: _cookies\n    } = req;\n    const {\n      name: cookieName\n    } = option;\n    if (typeof (_cookies === null || _cookies === void 0 ? void 0 : _cookies.getAll) === \"function\") {\n      for (const {\n        name,\n        value\n      } of _cookies.getAll()) {\n        if (name.startsWith(cookieName)) {\n          _classPrivateFieldGet(_chunks, this)[name] = value;\n        }\n      }\n    } else if (_cookies instanceof Map) {\n      for (const name of _cookies.keys()) {\n        if (name.startsWith(cookieName)) _classPrivateFieldGet(_chunks, this)[name] = _cookies.get(name);\n      }\n    } else {\n      for (const name in _cookies) {\n        if (name.startsWith(cookieName)) _classPrivateFieldGet(_chunks, this)[name] = _cookies[name];\n      }\n    }\n  }\n  get value() {\n    const sortedKeys = Object.keys(_classPrivateFieldGet(_chunks, this)).sort((a, b) => {\n      var _a$split$pop, _b$split$pop;\n      const aSuffix = parseInt((_a$split$pop = a.split(\".\").pop()) !== null && _a$split$pop !== void 0 ? _a$split$pop : \"0\");\n      const bSuffix = parseInt((_b$split$pop = b.split(\".\").pop()) !== null && _b$split$pop !== void 0 ? _b$split$pop : \"0\");\n      return aSuffix - bSuffix;\n    });\n    return sortedKeys.map(key => _classPrivateFieldGet(_chunks, this)[key]).join(\"\");\n  }\n  chunk(value, options) {\n    const cookies = _assertClassBrand(_SessionStore_brand, this, _clean).call(this);\n    const chunked = _assertClassBrand(_SessionStore_brand, this, _chunk).call(this, {\n      name: _classPrivateFieldGet(_option, this).name,\n      value,\n      options: {\n        ..._classPrivateFieldGet(_option, this).options,\n        ...options\n      }\n    });\n    for (const chunk of chunked) {\n      cookies[chunk.name] = chunk;\n    }\n    return Object.values(cookies);\n  }\n  clean() {\n    return Object.values(_assertClassBrand(_SessionStore_brand, this, _clean).call(this));\n  }\n}\nexports.SessionStore = SessionStore;\nfunction _chunk(cookie) {\n  const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n  if (chunkCount === 1) {\n    _classPrivateFieldGet(_chunks, this)[cookie.name] = cookie.value;\n    return [cookie];\n  }\n  const cookies = [];\n  for (let i = 0; i < chunkCount; i++) {\n    const name = `${cookie.name}.${i}`;\n    const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n    cookies.push({\n      ...cookie,\n      name,\n      value\n    });\n    _classPrivateFieldGet(_chunks, this)[name] = value;\n  }\n  _classPrivateFieldGet(_logger, this).debug(\"CHUNKING_SESSION_COOKIE\", {\n    message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n    emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n    valueSize: cookie.value.length,\n    chunks: cookies.map(c => c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE)\n  });\n  return cookies;\n}\nfunction _clean() {\n  const cleanedChunks = {};\n  for (const name in _classPrivateFieldGet(_chunks, this)) {\n    var _classPrivateFieldGet2;\n    (_classPrivateFieldGet2 = _classPrivateFieldGet(_chunks, this)) === null || _classPrivateFieldGet2 === void 0 || delete _classPrivateFieldGet2[name];\n    cleanedChunks[name] = {\n      name,\n      value: \"\",\n      options: {\n        ..._classPrivateFieldGet(_option, this).options,\n        maxAge: 0\n      }\n    };\n  }\n  return cleanedChunks;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  encode: true,\n  decode: true,\n  getToken: true\n};\nexports.decode = decode;\nexports.encode = encode;\nexports.getToken = getToken;\nvar _jose = require(\"jose\");\nvar _hkdf = _interopRequireDefault(require(\"@panva/hkdf\"));\nvar _uuid = require(\"uuid\");\nvar _cookie = require(\"../core/lib/cookie\");\nvar _types = require(\"./types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _types[key];\n    }\n  });\n});\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60;\nconst now = () => Date.now() / 1000 | 0;\nasync function encode(params) {\n  const {\n    token = {},\n    secret,\n    maxAge = DEFAULT_MAX_AGE,\n    salt = \"\"\n  } = params;\n  const encryptionSecret = await getDerivedEncryptionKey(secret, salt);\n  return await new _jose.EncryptJWT(token).setProtectedHeader({\n    alg: \"dir\",\n    enc: \"A256GCM\"\n  }).setIssuedAt().setExpirationTime(now() + maxAge).setJti((0, _uuid.v4)()).encrypt(encryptionSecret);\n}\nasync function decode(params) {\n  const {\n    token,\n    secret,\n    salt = \"\"\n  } = params;\n  if (!token) return null;\n  const encryptionSecret = await getDerivedEncryptionKey(secret, salt);\n  const {\n    payload\n  } = await (0, _jose.jwtDecrypt)(token, encryptionSecret, {\n    clockTolerance: 15\n  });\n  return payload;\n}\nasync function getToken(params) {\n  var _process$env$NEXTAUTH, _process$env$NEXTAUTH2, _process$env$NEXTAUTH3, _req$headers;\n  const {\n    req,\n    secureCookie = (_process$env$NEXTAUTH = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL) === null || _process$env$NEXTAUTH2 === void 0 ? void 0 : _process$env$NEXTAUTH2.startsWith(\"https://\")) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : !!process.env.VERCEL,\n    cookieName = secureCookie ? \"__Secure-next-auth.session-token\" : \"next-auth.session-token\",\n    raw,\n    decode: _decode = decode,\n    logger = console,\n    secret = (_process$env$NEXTAUTH3 = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH3 !== void 0 ? _process$env$NEXTAUTH3 : process.env.AUTH_SECRET\n  } = params;\n  if (!req) throw new Error(\"Must pass `req` to JWT getToken()\");\n  const sessionStore = new _cookie.SessionStore({\n    name: cookieName,\n    options: {\n      secure: secureCookie\n    }\n  }, {\n    cookies: req.cookies,\n    headers: req.headers\n  }, logger);\n  let token = sessionStore.value;\n  const authorizationHeader = req.headers instanceof Headers ? req.headers.get(\"authorization\") : (_req$headers = req.headers) === null || _req$headers === void 0 ? void 0 : _req$headers.authorization;\n  if (!token && (authorizationHeader === null || authorizationHeader === void 0 ? void 0 : authorizationHeader.split(\" \")[0]) === \"Bearer\") {\n    const urlEncodedToken = authorizationHeader.split(\" \")[1];\n    token = decodeURIComponent(urlEncodedToken);\n  }\n  if (!token) return null;\n  if (raw) return token;\n  try {\n    return await _decode({\n      token,\n      secret\n    });\n  } catch (_unused) {\n    return null;\n  }\n}\nasync function getDerivedEncryptionKey(keyMaterial, salt) {\n  return await (0, _hkdf.default)(\"sha256\", keyMaterial, salt, `NextAuth.js Generated Encryption Key${salt ? ` (${salt})` : \"\"}`, 32);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pkce = exports.nonce = exports.PKCE_CODE_CHALLENGE_METHOD = void 0;\nexports.signCookie = signCookie;\nexports.state = void 0;\nvar _openidClient = require(\"openid-client\");\nvar jwt = _interopRequireWildcard(require(\"../../../jwt\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function signCookie(type, value, maxAge, options) {\n  const {\n    cookies,\n    logger\n  } = options;\n  logger.debug(`CREATE_${type.toUpperCase()}`, {\n    value,\n    maxAge\n  });\n  const {\n    name\n  } = cookies[type];\n  const expires = new Date();\n  expires.setTime(expires.getTime() + maxAge * 1000);\n  return {\n    name,\n    value: await jwt.encode({\n      ...options.jwt,\n      maxAge,\n      token: {\n        value\n      },\n      salt: name\n    }),\n    options: {\n      ...cookies[type].options,\n      expires\n    }\n  };\n}\nconst PKCE_MAX_AGE = 60 * 15;\nconst PKCE_CODE_CHALLENGE_METHOD = exports.PKCE_CODE_CHALLENGE_METHOD = \"S256\";\nconst pkce = exports.pkce = {\n  async create(options, cookies, resParams) {\n    var _options$provider, _options$cookies$pkce;\n    if (!((_options$provider = options.provider) !== null && _options$provider !== void 0 && (_options$provider = _options$provider.checks) !== null && _options$provider !== void 0 && _options$provider.includes(\"pkce\"))) return;\n    const code_verifier = _openidClient.generators.codeVerifier();\n    const value = _openidClient.generators.codeChallenge(code_verifier);\n    resParams.code_challenge = value;\n    resParams.code_challenge_method = PKCE_CODE_CHALLENGE_METHOD;\n    const maxAge = (_options$cookies$pkce = options.cookies.pkceCodeVerifier.options.maxAge) !== null && _options$cookies$pkce !== void 0 ? _options$cookies$pkce : PKCE_MAX_AGE;\n    cookies.push(await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider2;\n    if (!((_options$provider2 = options.provider) !== null && _options$provider2 !== void 0 && (_options$provider2 = _options$provider2.checks) !== null && _options$provider2 !== void 0 && _options$provider2.includes(\"pkce\"))) return;\n    const codeVerifier = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.pkceCodeVerifier.name];\n    if (!codeVerifier) throw new TypeError(\"PKCE code_verifier cookie was missing.\");\n    const {\n      name\n    } = options.cookies.pkceCodeVerifier;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: codeVerifier,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"PKCE code_verifier value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.pkceCodeVerifier.options,\n        maxAge: 0\n      }\n    });\n    checks.code_verifier = value.value;\n  }\n};\nconst STATE_MAX_AGE = 60 * 15;\nconst state = exports.state = {\n  async create(options, cookies, resParams) {\n    var _options$provider$che, _options$cookies$stat;\n    if (!((_options$provider$che = options.provider.checks) !== null && _options$provider$che !== void 0 && _options$provider$che.includes(\"state\"))) return;\n    const value = _openidClient.generators.state();\n    resParams.state = value;\n    const maxAge = (_options$cookies$stat = options.cookies.state.options.maxAge) !== null && _options$cookies$stat !== void 0 ? _options$cookies$stat : STATE_MAX_AGE;\n    cookies.push(await signCookie(\"state\", value, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider$che2;\n    if (!((_options$provider$che2 = options.provider.checks) !== null && _options$provider$che2 !== void 0 && _options$provider$che2.includes(\"state\"))) return;\n    const state = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.state.name];\n    if (!state) throw new TypeError(\"State cookie was missing.\");\n    const {\n      name\n    } = options.cookies.state;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: state,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"State value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.state.options,\n        maxAge: 0\n      }\n    });\n    checks.state = value.value;\n  }\n};\nconst NONCE_MAX_AGE = 60 * 15;\nconst nonce = exports.nonce = {\n  async create(options, cookies, resParams) {\n    var _options$provider$che3, _options$cookies$nonc;\n    if (!((_options$provider$che3 = options.provider.checks) !== null && _options$provider$che3 !== void 0 && _options$provider$che3.includes(\"nonce\"))) return;\n    const value = _openidClient.generators.nonce();\n    resParams.nonce = value;\n    const maxAge = (_options$cookies$nonc = options.cookies.nonce.options.maxAge) !== null && _options$cookies$nonc !== void 0 ? _options$cookies$nonc : NONCE_MAX_AGE;\n    cookies.push(await signCookie(\"nonce\", value, maxAge, options));\n  },\n  async use(cookies, resCookies, options, checks) {\n    var _options$provider3;\n    if (!((_options$provider3 = options.provider) !== null && _options$provider3 !== void 0 && (_options$provider3 = _options$provider3.checks) !== null && _options$provider3 !== void 0 && _options$provider3.includes(\"nonce\"))) return;\n    const nonce = cookies === null || cookies === void 0 ? void 0 : cookies[options.cookies.nonce.name];\n    if (!nonce) throw new TypeError(\"Nonce cookie was missing.\");\n    const {\n      name\n    } = options.cookies.nonce;\n    const value = await jwt.decode({\n      ...options.jwt,\n      token: nonce,\n      salt: name\n    });\n    if (!(value !== null && value !== void 0 && value.value)) throw new TypeError(\"Nonce value could not be parsed.\");\n    resCookies.push({\n      name,\n      value: \"\",\n      options: {\n        ...options.cookies.nonce.options,\n        maxAge: 0\n      }\n    });\n    checks.nonce = value.value;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = oAuthCallback;\nvar _openidClient = require(\"openid-client\");\nvar _client = require(\"./client\");\nvar _clientLegacy = require(\"./client-legacy\");\nvar _checks = _interopRequireWildcard(require(\"./checks\"));\nvar _errors = require(\"../../errors\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function oAuthCallback(params) {\n  var _body$error, _provider$version;\n  const {\n    options,\n    query,\n    body,\n    method,\n    cookies\n  } = params;\n  const {\n    logger,\n    provider\n  } = options;\n  const errorMessage = (_body$error = body === null || body === void 0 ? void 0 : body.error) !== null && _body$error !== void 0 ? _body$error : query === null || query === void 0 ? void 0 : query.error;\n  if (errorMessage) {\n    const error = new Error(errorMessage);\n    logger.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", {\n      error,\n      error_description: query === null || query === void 0 ? void 0 : query.error_description,\n      providerId: provider.id\n    });\n    logger.debug(\"OAUTH_CALLBACK_HANDLER_ERROR\", {\n      body\n    });\n    throw error;\n  }\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"1.\")) {\n    try {\n      const client = await (0, _clientLegacy.oAuth1Client)(options);\n      const {\n        oauth_token,\n        oauth_verifier\n      } = query !== null && query !== void 0 ? query : {};\n      const tokens = await client.getOAuthAccessToken(oauth_token, _clientLegacy.oAuth1TokenStore.get(oauth_token), oauth_verifier);\n      let profile = await client.get(provider.profileUrl, tokens.oauth_token, tokens.oauth_token_secret);\n      if (typeof profile === \"string\") {\n        profile = JSON.parse(profile);\n      }\n      const newProfile = await getProfile({\n        profile,\n        tokens,\n        provider,\n        logger\n      });\n      return {\n        ...newProfile,\n        cookies: []\n      };\n    } catch (error) {\n      logger.error(\"OAUTH_V1_GET_ACCESS_TOKEN_ERROR\", error);\n      throw error;\n    }\n  }\n  if (query !== null && query !== void 0 && query.oauth_token) _clientLegacy.oAuth1TokenStore.delete(query.oauth_token);\n  try {\n    var _provider$token, _provider$token2, _provider$userinfo;\n    const client = await (0, _client.openidClient)(options);\n    let tokens;\n    const checks = {};\n    const resCookies = [];\n    await _checks.state.use(cookies, resCookies, options, checks);\n    await _checks.pkce.use(cookies, resCookies, options, checks);\n    await _checks.nonce.use(cookies, resCookies, options, checks);\n    const params = {\n      ...client.callbackParams({\n        url: `http://n?${new URLSearchParams(query)}`,\n        body,\n        method\n      }),\n      ...((_provider$token = provider.token) === null || _provider$token === void 0 ? void 0 : _provider$token.params)\n    };\n    if ((_provider$token2 = provider.token) !== null && _provider$token2 !== void 0 && _provider$token2.request) {\n      const response = await provider.token.request({\n        provider,\n        params,\n        checks,\n        client\n      });\n      tokens = new _openidClient.TokenSet(response.tokens);\n    } else if (provider.idToken) {\n      tokens = await client.callback(provider.callbackUrl, params, checks);\n    } else {\n      tokens = await client.oauthCallback(provider.callbackUrl, params, checks);\n    }\n    if (Array.isArray(tokens.scope)) {\n      tokens.scope = tokens.scope.join(\" \");\n    }\n    let profile;\n    if ((_provider$userinfo = provider.userinfo) !== null && _provider$userinfo !== void 0 && _provider$userinfo.request) {\n      profile = await provider.userinfo.request({\n        provider,\n        tokens,\n        client\n      });\n    } else if (provider.idToken) {\n      profile = tokens.claims();\n    } else {\n      var _provider$userinfo2;\n      profile = await client.userinfo(tokens, {\n        params: (_provider$userinfo2 = provider.userinfo) === null || _provider$userinfo2 === void 0 ? void 0 : _provider$userinfo2.params\n      });\n    }\n    const profileResult = await getProfile({\n      profile,\n      provider,\n      tokens,\n      logger\n    });\n    return {\n      ...profileResult,\n      cookies: resCookies\n    };\n  } catch (error) {\n    throw new _errors.OAuthCallbackError(error);\n  }\n}\nasync function getProfile({\n  profile: OAuthProfile,\n  tokens,\n  provider,\n  logger\n}) {\n  try {\n    var _profile$email;\n    logger.debug(\"PROFILE_DATA\", {\n      OAuthProfile\n    });\n    const profile = await provider.profile(OAuthProfile, tokens);\n    profile.email = (_profile$email = profile.email) === null || _profile$email === void 0 ? void 0 : _profile$email.toLowerCase();\n    if (!profile.id) throw new TypeError(`Profile id is missing in ${provider.name} OAuth profile response`);\n    return {\n      profile,\n      account: {\n        provider: provider.id,\n        type: provider.type,\n        providerAccountId: profile.id.toString(),\n        ...tokens\n      },\n      OAuthProfile\n    };\n  } catch (error) {\n    logger.error(\"OAUTH_PARSE_PROFILE_ERROR\", {\n      error: error,\n      OAuthProfile\n    });\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSecret = createSecret;\nexports.fromDate = fromDate;\nexports.hashToken = hashToken;\nvar _crypto = require(\"crypto\");\nfunction fromDate(time, date = Date.now()) {\n  return new Date(date + time * 1000);\n}\nfunction hashToken(token, options) {\n  var _provider$secret;\n  const {\n    provider,\n    secret\n  } = options;\n  return (0, _crypto.createHash)(\"sha256\").update(`${token}${(_provider$secret = provider.secret) !== null && _provider$secret !== void 0 ? _provider$secret : secret}`).digest(\"hex\");\n}\nfunction createSecret(params) {\n  var _authOptions$secret;\n  const {\n    authOptions,\n    url\n  } = params;\n  return (_authOptions$secret = authOptions.secret) !== null && _authOptions$secret !== void 0 ? _authOptions$secret : (0, _crypto.createHash)(\"sha256\").update(JSON.stringify({\n    ...url,\n    ...authOptions\n  })).digest(\"hex\");\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = callbackHandler;\nvar _errors = require(\"../errors\");\nvar _utils = require(\"./utils\");\nasync function callbackHandler(params) {\n  const {\n    sessionToken,\n    profile: _profile,\n    account,\n    options\n  } = params;\n  if (!(account !== null && account !== void 0 && account.providerAccountId) || !account.type) throw new Error(\"Missing or invalid provider account\");\n  if (![\"email\", \"oauth\"].includes(account.type)) throw new Error(\"Provider not supported\");\n  const {\n    adapter,\n    jwt,\n    events,\n    session: {\n      strategy: sessionStrategy,\n      generateSessionToken\n    }\n  } = options;\n  if (!adapter) {\n    return {\n      user: _profile,\n      account\n    };\n  }\n  const profile = _profile;\n  const {\n    createUser,\n    updateUser,\n    getUser,\n    getUserByAccount,\n    getUserByEmail,\n    linkAccount,\n    createSession,\n    getSessionAndUser,\n    deleteSession\n  } = adapter;\n  let session = null;\n  let user = null;\n  let isNewUser = false;\n  const useJwtSession = sessionStrategy === \"jwt\";\n  if (sessionToken) {\n    if (useJwtSession) {\n      try {\n        session = await jwt.decode({\n          ...jwt,\n          token: sessionToken\n        });\n        if (session && \"sub\" in session && session.sub) {\n          user = await getUser(session.sub);\n        }\n      } catch (_unused) {}\n    } else {\n      const userAndSession = await getSessionAndUser(sessionToken);\n      if (userAndSession) {\n        session = userAndSession.session;\n        user = userAndSession.user;\n      }\n    }\n  }\n  if (account.type === \"email\") {\n    const userByEmail = await getUserByEmail(profile.email);\n    if (userByEmail) {\n      var _user, _events$updateUser;\n      if (((_user = user) === null || _user === void 0 ? void 0 : _user.id) !== userByEmail.id && !useJwtSession && sessionToken) {\n        await deleteSession(sessionToken);\n      }\n      user = await updateUser({\n        id: userByEmail.id,\n        emailVerified: new Date()\n      });\n      await ((_events$updateUser = events.updateUser) === null || _events$updateUser === void 0 ? void 0 : _events$updateUser.call(events, {\n        user\n      }));\n    } else {\n      var _events$createUser;\n      const {\n        id: _,\n        ...newUser\n      } = {\n        ...profile,\n        emailVerified: new Date()\n      };\n      user = await createUser(newUser);\n      await ((_events$createUser = events.createUser) === null || _events$createUser === void 0 ? void 0 : _events$createUser.call(events, {\n        user\n      }));\n      isNewUser = true;\n    }\n    session = useJwtSession ? {} : await createSession({\n      sessionToken: await generateSessionToken(),\n      userId: user.id,\n      expires: (0, _utils.fromDate)(options.session.maxAge)\n    });\n    return {\n      session,\n      user,\n      isNewUser\n    };\n  } else if (account.type === \"oauth\") {\n    const userByAccount = await getUserByAccount({\n      providerAccountId: account.providerAccountId,\n      provider: account.provider\n    });\n    if (userByAccount) {\n      if (user) {\n        if (userByAccount.id === user.id) {\n          return {\n            session,\n            user,\n            isNewUser\n          };\n        }\n        throw new _errors.AccountNotLinkedError(\"The account is already associated with another user\");\n      }\n      session = useJwtSession ? {} : await createSession({\n        sessionToken: await generateSessionToken(),\n        userId: userByAccount.id,\n        expires: (0, _utils.fromDate)(options.session.maxAge)\n      });\n      return {\n        session,\n        user: userByAccount,\n        isNewUser\n      };\n    } else {\n      var _events$createUser2, _events$linkAccount2;\n      if (user) {\n        var _events$linkAccount;\n        await linkAccount({\n          ...account,\n          userId: user.id\n        });\n        await ((_events$linkAccount = events.linkAccount) === null || _events$linkAccount === void 0 ? void 0 : _events$linkAccount.call(events, {\n          user,\n          account,\n          profile\n        }));\n        return {\n          session,\n          user,\n          isNewUser\n        };\n      }\n      const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n      if (userByEmail) {\n        const provider = options.provider;\n        if (provider !== null && provider !== void 0 && provider.allowDangerousEmailAccountLinking) {\n          user = userByEmail;\n        } else {\n          throw new _errors.AccountNotLinkedError(\"Another account already exists with the same e-mail address\");\n        }\n      } else {\n        const {\n          id: _,\n          ...newUser\n        } = {\n          ...profile,\n          emailVerified: null\n        };\n        user = await createUser(newUser);\n      }\n      await ((_events$createUser2 = events.createUser) === null || _events$createUser2 === void 0 ? void 0 : _events$createUser2.call(events, {\n        user\n      }));\n      await linkAccount({\n        ...account,\n        userId: user.id\n      });\n      await ((_events$linkAccount2 = events.linkAccount) === null || _events$linkAccount2 === void 0 ? void 0 : _events$linkAccount2.call(events, {\n        user,\n        account,\n        profile\n      }));\n      session = useJwtSession ? {} : await createSession({\n        sessionToken: await generateSessionToken(),\n        userId: user.id,\n        expires: (0, _utils.fromDate)(options.session.maxAge)\n      });\n      return {\n        session,\n        user,\n        isNewUser: true\n      };\n    }\n  }\n  throw new Error(\"Unsupported account type\");\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getAdapterUserFromEmail;\nasync function getAdapterUserFromEmail({\n  email,\n  adapter\n}) {\n  const {\n    getUserByEmail\n  } = adapter;\n  const adapterUser = email ? await getUserByEmail(email) : null;\n  if (adapterUser) return adapterUser;\n  return {\n    id: email,\n    email,\n    emailVerified: null\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = callback;\nvar _callback = _interopRequireDefault(require(\"../lib/oauth/callback\"));\nvar _callbackHandler = _interopRequireDefault(require(\"../lib/callback-handler\"));\nvar _utils = require(\"../lib/utils\");\nvar _getUserFromEmail = _interopRequireDefault(require(\"../lib/email/getUserFromEmail\"));\nasync function callback(params) {\n  const {\n    options,\n    query,\n    body,\n    method,\n    headers,\n    sessionStore\n  } = params;\n  const {\n    provider,\n    adapter,\n    url,\n    callbackUrl,\n    pages,\n    jwt,\n    events,\n    callbacks,\n    session: {\n      strategy: sessionStrategy,\n      maxAge: sessionMaxAge\n    },\n    logger\n  } = options;\n  const cookies = [];\n  const useJwtSession = sessionStrategy === \"jwt\";\n  if (provider.type === \"oauth\") {\n    try {\n      const {\n        profile,\n        account,\n        OAuthProfile,\n        cookies: oauthCookies\n      } = await (0, _callback.default)({\n        query,\n        body,\n        method,\n        options,\n        cookies: params.cookies\n      });\n      if (oauthCookies.length) cookies.push(...oauthCookies);\n      try {\n        var _events$signIn;\n        logger.debug(\"OAUTH_CALLBACK_RESPONSE\", {\n          profile,\n          account,\n          OAuthProfile\n        });\n        if (!profile || !account || !OAuthProfile) {\n          return {\n            redirect: `${url}/signin`,\n            cookies\n          };\n        }\n        let userOrProfile = profile;\n        if (adapter) {\n          const {\n            getUserByAccount\n          } = adapter;\n          const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: provider.id\n          });\n          if (userByAccount) userOrProfile = userByAccount;\n        }\n        try {\n          const isAllowed = await callbacks.signIn({\n            user: userOrProfile,\n            account,\n            profile: OAuthProfile\n          });\n          if (!isAllowed) {\n            return {\n              redirect: `${url}/error?error=AccessDenied`,\n              cookies\n            };\n          } else if (typeof isAllowed === \"string\") {\n            return {\n              redirect: isAllowed,\n              cookies\n            };\n          }\n        } catch (error) {\n          return {\n            redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n            cookies\n          };\n        }\n        const {\n          user,\n          session,\n          isNewUser\n        } = await (0, _callbackHandler.default)({\n          sessionToken: sessionStore.value,\n          profile,\n          account,\n          options\n        });\n        if (useJwtSession) {\n          var _user$id;\n          const defaultToken = {\n            name: user.name,\n            email: user.email,\n            picture: user.image,\n            sub: (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()\n          };\n          const token = await callbacks.jwt({\n            token: defaultToken,\n            user,\n            account,\n            profile: OAuthProfile,\n            isNewUser,\n            trigger: isNewUser ? \"signUp\" : \"signIn\"\n          });\n          const newToken = await jwt.encode({\n            ...jwt,\n            token\n          });\n          const cookieExpires = new Date();\n          cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n          const sessionCookies = sessionStore.chunk(newToken, {\n            expires: cookieExpires\n          });\n          cookies.push(...sessionCookies);\n        } else {\n          cookies.push({\n            name: options.cookies.sessionToken.name,\n            value: session.sessionToken,\n            options: {\n              ...options.cookies.sessionToken.options,\n              expires: session.expires\n            }\n          });\n        }\n        await ((_events$signIn = events.signIn) === null || _events$signIn === void 0 ? void 0 : _events$signIn.call(events, {\n          user,\n          account,\n          profile,\n          isNewUser\n        }));\n        if (isNewUser && pages.newUser) {\n          return {\n            redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`,\n            cookies\n          };\n        }\n        return {\n          redirect: callbackUrl,\n          cookies\n        };\n      } catch (error) {\n        if (error.name === \"AccountNotLinkedError\") {\n          return {\n            redirect: `${url}/error?error=OAuthAccountNotLinked`,\n            cookies\n          };\n        } else if (error.name === \"CreateUserError\") {\n          return {\n            redirect: `${url}/error?error=OAuthCreateAccount`,\n            cookies\n          };\n        }\n        logger.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", error);\n        return {\n          redirect: `${url}/error?error=Callback`,\n          cookies\n        };\n      }\n    } catch (error) {\n      if (error.name === \"OAuthCallbackError\") {\n        logger.error(\"OAUTH_CALLBACK_ERROR\", {\n          error: error,\n          providerId: provider.id\n        });\n        return {\n          redirect: `${url}/error?error=OAuthCallback`,\n          cookies\n        };\n      }\n      logger.error(\"OAUTH_CALLBACK_ERROR\", error);\n      return {\n        redirect: `${url}/error?error=Callback`,\n        cookies\n      };\n    }\n  } else if (provider.type === \"email\") {\n    try {\n      var _events$signIn2;\n      const paramToken = query === null || query === void 0 ? void 0 : query.token;\n      const paramIdentifier = query === null || query === void 0 ? void 0 : query.email;\n      if (!paramToken) {\n        return {\n          redirect: `${url}/error?error=configuration`,\n          cookies\n        };\n      }\n      const invite = await adapter.useVerificationToken({\n        identifier: paramIdentifier,\n        token: (0, _utils.hashToken)(paramToken, options)\n      });\n      const invalidInvite = !invite || invite.expires.valueOf() < Date.now() || paramIdentifier && invite.identifier !== paramIdentifier;\n      if (invalidInvite) {\n        return {\n          redirect: `${url}/error?error=Verification`,\n          cookies\n        };\n      }\n      const profile = await (0, _getUserFromEmail.default)({\n        email: invite.identifier,\n        adapter\n      });\n      const account = {\n        providerAccountId: profile.email,\n        type: \"email\",\n        provider: provider.id\n      };\n      try {\n        const signInCallbackResponse = await callbacks.signIn({\n          user: profile,\n          account\n        });\n        if (!signInCallbackResponse) {\n          return {\n            redirect: `${url}/error?error=AccessDenied`,\n            cookies\n          };\n        } else if (typeof signInCallbackResponse === \"string\") {\n          return {\n            redirect: signInCallbackResponse,\n            cookies\n          };\n        }\n      } catch (error) {\n        return {\n          redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n          cookies\n        };\n      }\n      const {\n        user,\n        session,\n        isNewUser\n      } = await (0, _callbackHandler.default)({\n        sessionToken: sessionStore.value,\n        profile,\n        account,\n        options\n      });\n      if (useJwtSession) {\n        var _user$id2;\n        const defaultToken = {\n          name: user.name,\n          email: user.email,\n          picture: user.image,\n          sub: (_user$id2 = user.id) === null || _user$id2 === void 0 ? void 0 : _user$id2.toString()\n        };\n        const token = await callbacks.jwt({\n          token: defaultToken,\n          user,\n          account,\n          isNewUser,\n          trigger: isNewUser ? \"signUp\" : \"signIn\"\n        });\n        const newToken = await jwt.encode({\n          ...jwt,\n          token\n        });\n        const cookieExpires = new Date();\n        cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n        const sessionCookies = sessionStore.chunk(newToken, {\n          expires: cookieExpires\n        });\n        cookies.push(...sessionCookies);\n      } else {\n        cookies.push({\n          name: options.cookies.sessionToken.name,\n          value: session.sessionToken,\n          options: {\n            ...options.cookies.sessionToken.options,\n            expires: session.expires\n          }\n        });\n      }\n      await ((_events$signIn2 = events.signIn) === null || _events$signIn2 === void 0 ? void 0 : _events$signIn2.call(events, {\n        user,\n        account,\n        isNewUser\n      }));\n      if (isNewUser && pages.newUser) {\n        return {\n          redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`,\n          cookies\n        };\n      }\n      return {\n        redirect: callbackUrl,\n        cookies\n      };\n    } catch (error) {\n      if (error.name === \"CreateUserError\") {\n        return {\n          redirect: `${url}/error?error=EmailCreateAccount`,\n          cookies\n        };\n      }\n      logger.error(\"CALLBACK_EMAIL_ERROR\", error);\n      return {\n        redirect: `${url}/error?error=Callback`,\n        cookies\n      };\n    }\n  } else if (provider.type === \"credentials\" && method === \"POST\") {\n    var _user$id3, _events$signIn3;\n    const credentials = body;\n    let user;\n    try {\n      user = await provider.authorize(credentials, {\n        query,\n        body,\n        headers,\n        method\n      });\n      if (!user) {\n        return {\n          status: 401,\n          redirect: `${url}/error?${new URLSearchParams({\n            error: \"CredentialsSignin\",\n            provider: provider.id\n          })}`,\n          cookies\n        };\n      }\n    } catch (error) {\n      return {\n        status: 401,\n        redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n        cookies\n      };\n    }\n    const account = {\n      providerAccountId: user.id,\n      type: \"credentials\",\n      provider: provider.id\n    };\n    try {\n      const isAllowed = await callbacks.signIn({\n        user,\n        account,\n        credentials\n      });\n      if (!isAllowed) {\n        return {\n          status: 403,\n          redirect: `${url}/error?error=AccessDenied`,\n          cookies\n        };\n      } else if (typeof isAllowed === \"string\") {\n        return {\n          redirect: isAllowed,\n          cookies\n        };\n      }\n    } catch (error) {\n      return {\n        redirect: `${url}/error?error=${encodeURIComponent(error.message)}`,\n        cookies\n      };\n    }\n    const defaultToken = {\n      name: user.name,\n      email: user.email,\n      picture: user.image,\n      sub: (_user$id3 = user.id) === null || _user$id3 === void 0 ? void 0 : _user$id3.toString()\n    };\n    const token = await callbacks.jwt({\n      token: defaultToken,\n      user,\n      account,\n      isNewUser: false,\n      trigger: \"signIn\"\n    });\n    const newToken = await jwt.encode({\n      ...jwt,\n      token\n    });\n    const cookieExpires = new Date();\n    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n    const sessionCookies = sessionStore.chunk(newToken, {\n      expires: cookieExpires\n    });\n    cookies.push(...sessionCookies);\n    await ((_events$signIn3 = events.signIn) === null || _events$signIn3 === void 0 ? void 0 : _events$signIn3.call(events, {\n      user,\n      account\n    }));\n    return {\n      redirect: callbackUrl,\n      cookies\n    };\n  }\n  return {\n    status: 500,\n    body: `Error: Callback for provider type ${provider.type} not supported`,\n    cookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getAuthorizationUrl;\nvar _client = require(\"./client\");\nvar _clientLegacy = require(\"./client-legacy\");\nvar checks = _interopRequireWildcard(require(\"./checks\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function getAuthorizationUrl({\n  options,\n  query\n}) {\n  var _provider$version;\n  const {\n    logger,\n    provider\n  } = options;\n  let params = {};\n  if (typeof provider.authorization === \"string\") {\n    const parsedUrl = new URL(provider.authorization);\n    const parsedParams = Object.fromEntries(parsedUrl.searchParams);\n    params = {\n      ...params,\n      ...parsedParams\n    };\n  } else {\n    var _provider$authorizati;\n    params = {\n      ...params,\n      ...((_provider$authorizati = provider.authorization) === null || _provider$authorizati === void 0 ? void 0 : _provider$authorizati.params)\n    };\n  }\n  params = {\n    ...params,\n    ...query\n  };\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"1.\")) {\n    var _provider$authorizati2;\n    const client = (0, _clientLegacy.oAuth1Client)(options);\n    const tokens = await client.getOAuthRequestToken(params);\n    const url = `${(_provider$authorizati2 = provider.authorization) === null || _provider$authorizati2 === void 0 ? void 0 : _provider$authorizati2.url}?${new URLSearchParams({\n      oauth_token: tokens.oauth_token,\n      oauth_token_secret: tokens.oauth_token_secret,\n      ...tokens.params\n    })}`;\n    _clientLegacy.oAuth1TokenStore.set(tokens.oauth_token, tokens.oauth_token_secret);\n    logger.debug(\"GET_AUTHORIZATION_URL\", {\n      url,\n      provider\n    });\n    return {\n      redirect: url\n    };\n  }\n  const client = await (0, _client.openidClient)(options);\n  const authorizationParams = params;\n  const cookies = [];\n  await checks.state.create(options, cookies, authorizationParams);\n  await checks.pkce.create(options, cookies, authorizationParams);\n  await checks.nonce.create(options, cookies, authorizationParams);\n  const url = client.authorizationUrl(authorizationParams);\n  logger.debug(\"GET_AUTHORIZATION_URL\", {\n    url,\n    cookies,\n    provider\n  });\n  return {\n    redirect: url,\n    cookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = email;\nvar _crypto = require(\"crypto\");\nvar _utils = require(\"../utils\");\nasync function email(identifier, options) {\n  var _await$provider$gener, _provider$generateVer, _provider$maxAge, _adapter$createVerifi;\n  const {\n    url,\n    adapter,\n    provider,\n    callbackUrl,\n    theme\n  } = options;\n  const token = (_await$provider$gener = await ((_provider$generateVer = provider.generateVerificationToken) === null || _provider$generateVer === void 0 ? void 0 : _provider$generateVer.call(provider))) !== null && _await$provider$gener !== void 0 ? _await$provider$gener : (0, _crypto.randomBytes)(32).toString(\"hex\");\n  const ONE_DAY_IN_SECONDS = 86400;\n  const expires = new Date(Date.now() + ((_provider$maxAge = provider.maxAge) !== null && _provider$maxAge !== void 0 ? _provider$maxAge : ONE_DAY_IN_SECONDS) * 1000);\n  const params = new URLSearchParams({\n    callbackUrl,\n    token,\n    email: identifier\n  });\n  const _url = `${url}/callback/${provider.id}?${params}`;\n  await Promise.all([provider.sendVerificationRequest({\n    identifier,\n    token,\n    expires,\n    url: _url,\n    provider,\n    theme\n  }), (_adapter$createVerifi = adapter.createVerificationToken) === null || _adapter$createVerifi === void 0 ? void 0 : _adapter$createVerifi.call(adapter, {\n    identifier,\n    token: (0, _utils.hashToken)(token, options),\n    expires\n  })]);\n  return `${url}/verify-request?${new URLSearchParams({\n    provider: provider.id,\n    type: provider.type\n  })}`;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = signin;\nvar _authorizationUrl = _interopRequireDefault(require(\"../lib/oauth/authorization-url\"));\nvar _signin = _interopRequireDefault(require(\"../lib/email/signin\"));\nvar _getUserFromEmail = _interopRequireDefault(require(\"../lib/email/getUserFromEmail\"));\nasync function signin(params) {\n  const {\n    options,\n    query,\n    body\n  } = params;\n  const {\n    url,\n    callbacks,\n    logger,\n    provider\n  } = options;\n  if (!provider.type) {\n    return {\n      status: 500,\n      text: `Error: Type not specified for ${provider.name}`\n    };\n  }\n  if (provider.type === \"oauth\") {\n    try {\n      const response = await (0, _authorizationUrl.default)({\n        options,\n        query\n      });\n      return response;\n    } catch (error) {\n      logger.error(\"SIGNIN_OAUTH_ERROR\", {\n        error: error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=OAuthSignin`\n      };\n    }\n  } else if (provider.type === \"email\") {\n    var _provider$normalizeId;\n    let email = body === null || body === void 0 ? void 0 : body.email;\n    if (!email) return {\n      redirect: `${url}/error?error=EmailSignin`\n    };\n    const normalizer = (_provider$normalizeId = provider.normalizeIdentifier) !== null && _provider$normalizeId !== void 0 ? _provider$normalizeId : identifier => {\n      let [local, domain] = identifier.toLowerCase().trim().split(\"@\");\n      domain = domain.split(\",\")[0];\n      return `${local}@${domain}`;\n    };\n    try {\n      email = normalizer(body === null || body === void 0 ? void 0 : body.email);\n    } catch (error) {\n      logger.error(\"SIGNIN_EMAIL_ERROR\", {\n        error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=EmailSignin`\n      };\n    }\n    const user = await (0, _getUserFromEmail.default)({\n      email,\n      adapter: options.adapter\n    });\n    const account = {\n      providerAccountId: email,\n      userId: email,\n      type: \"email\",\n      provider: provider.id\n    };\n    try {\n      const signInCallbackResponse = await callbacks.signIn({\n        user,\n        account,\n        email: {\n          verificationRequest: true\n        }\n      });\n      if (!signInCallbackResponse) {\n        return {\n          redirect: `${url}/error?error=AccessDenied`\n        };\n      } else if (typeof signInCallbackResponse === \"string\") {\n        return {\n          redirect: signInCallbackResponse\n        };\n      }\n    } catch (error) {\n      return {\n        redirect: `${url}/error?${new URLSearchParams({\n          error: error\n        })}`\n      };\n    }\n    try {\n      const redirect = await (0, _signin.default)(email, options);\n      return {\n        redirect\n      };\n    } catch (error) {\n      logger.error(\"SIGNIN_EMAIL_ERROR\", {\n        error,\n        providerId: provider.id\n      });\n      return {\n        redirect: `${url}/error?error=EmailSignin`\n      };\n    }\n  }\n  return {\n    redirect: `${url}/signin`\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = signout;\nasync function signout(params) {\n  const {\n    options,\n    sessionStore\n  } = params;\n  const {\n    adapter,\n    events,\n    jwt,\n    callbackUrl,\n    logger,\n    session\n  } = options;\n  const sessionToken = sessionStore === null || sessionStore === void 0 ? void 0 : sessionStore.value;\n  if (!sessionToken) {\n    return {\n      redirect: callbackUrl\n    };\n  }\n  if (session.strategy === \"jwt\") {\n    try {\n      var _events$signOut;\n      const decodedJwt = await jwt.decode({\n        ...jwt,\n        token: sessionToken\n      });\n      await ((_events$signOut = events.signOut) === null || _events$signOut === void 0 ? void 0 : _events$signOut.call(events, {\n        token: decodedJwt\n      }));\n    } catch (error) {\n      logger.error(\"SIGNOUT_ERROR\", error);\n    }\n  } else {\n    try {\n      var _events$signOut2;\n      const session = await adapter.deleteSession(sessionToken);\n      await ((_events$signOut2 = events.signOut) === null || _events$signOut2 === void 0 ? void 0 : _events$signOut2.call(events, {\n        session\n      }));\n    } catch (error) {\n      logger.error(\"SIGNOUT_ERROR\", error);\n    }\n  }\n  const sessionCookies = sessionStore.clean();\n  return {\n    redirect: callbackUrl,\n    cookies: sessionCookies\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = session;\nvar _utils = require(\"../lib/utils\");\nasync function session(params) {\n  const {\n    options,\n    sessionStore,\n    newSession,\n    isUpdate\n  } = params;\n  const {\n    adapter,\n    jwt,\n    events,\n    callbacks,\n    logger,\n    session: {\n      strategy: sessionStrategy,\n      maxAge: sessionMaxAge\n    }\n  } = options;\n  const response = {\n    body: {},\n    headers: [{\n      key: \"Content-Type\",\n      value: \"application/json\"\n    }],\n    cookies: []\n  };\n  const sessionToken = sessionStore.value;\n  if (!sessionToken) return response;\n  if (sessionStrategy === \"jwt\") {\n    try {\n      var _response$cookies, _events$session;\n      const decodedToken = await jwt.decode({\n        ...jwt,\n        token: sessionToken\n      });\n      if (!decodedToken) throw new Error(\"JWT invalid\");\n      const token = await callbacks.jwt({\n        token: decodedToken,\n        ...(isUpdate && {\n          trigger: \"update\"\n        }),\n        session: newSession\n      });\n      const newExpires = (0, _utils.fromDate)(sessionMaxAge);\n      const updatedSession = await callbacks.session({\n        session: {\n          user: {\n            name: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.name,\n            email: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.email,\n            image: decodedToken === null || decodedToken === void 0 ? void 0 : decodedToken.picture\n          },\n          expires: newExpires.toISOString()\n        },\n        token\n      });\n      response.body = updatedSession;\n      const newToken = await jwt.encode({\n        ...jwt,\n        token,\n        maxAge: options.session.maxAge\n      });\n      const sessionCookies = sessionStore.chunk(newToken, {\n        expires: newExpires\n      });\n      (_response$cookies = response.cookies) === null || _response$cookies === void 0 || _response$cookies.push(...sessionCookies);\n      await ((_events$session = events.session) === null || _events$session === void 0 ? void 0 : _events$session.call(events, {\n        session: updatedSession,\n        token\n      }));\n    } catch (error) {\n      var _response$cookies2;\n      logger.error(\"JWT_SESSION_ERROR\", error);\n      (_response$cookies2 = response.cookies) === null || _response$cookies2 === void 0 || _response$cookies2.push(...sessionStore.clean());\n    }\n  } else {\n    try {\n      const {\n        getSessionAndUser,\n        deleteSession,\n        updateSession\n      } = adapter;\n      let userAndSession = await getSessionAndUser(sessionToken);\n      if (userAndSession && userAndSession.session.expires.valueOf() < Date.now()) {\n        await deleteSession(sessionToken);\n        userAndSession = null;\n      }\n      if (userAndSession) {\n        var _response$cookies3, _events$session2;\n        const {\n          user,\n          session\n        } = userAndSession;\n        const sessionUpdateAge = options.session.updateAge;\n        const sessionIsDueToBeUpdatedDate = session.expires.valueOf() - sessionMaxAge * 1000 + sessionUpdateAge * 1000;\n        const newExpires = (0, _utils.fromDate)(sessionMaxAge);\n        if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n          await updateSession({\n            sessionToken,\n            expires: newExpires\n          });\n        }\n        const sessionPayload = await callbacks.session({\n          session: {\n            user: {\n              name: user.name,\n              email: user.email,\n              image: user.image\n            },\n            expires: session.expires.toISOString()\n          },\n          user,\n          newSession,\n          ...(isUpdate ? {\n            trigger: \"update\"\n          } : {})\n        });\n        response.body = sessionPayload;\n        (_response$cookies3 = response.cookies) === null || _response$cookies3 === void 0 || _response$cookies3.push({\n          name: options.cookies.sessionToken.name,\n          value: sessionToken,\n          options: {\n            ...options.cookies.sessionToken.options,\n            expires: newExpires\n          }\n        });\n        await ((_events$session2 = events.session) === null || _events$session2 === void 0 ? void 0 : _events$session2.call(events, {\n          session: sessionPayload\n        }));\n      } else if (sessionToken) {\n        var _response$cookies4;\n        (_response$cookies4 = response.cookies) === null || _response$cookies4 === void 0 || _response$cookies4.push(...sessionStore.clean());\n      }\n    } catch (error) {\n      logger.error(\"SESSION_ERROR\", error);\n    }\n  }\n  return response;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = providers;\nfunction providers(providers) {\n  return {\n    headers: [{\n      key: \"Content-Type\",\n      value: \"application/json\"\n    }],\n    body: providers.reduce((acc, {\n      id,\n      name,\n      type,\n      signinUrl,\n      callbackUrl\n    }) => {\n      acc[id] = {\n        id,\n        name,\n        type,\n        signinUrl,\n        callbackUrl\n      };\n      return acc;\n    }, {})\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"callback\", {\n  enumerable: true,\n  get: function () {\n    return _callback.default;\n  }\n});\nObject.defineProperty(exports, \"providers\", {\n  enumerable: true,\n  get: function () {\n    return _providers.default;\n  }\n});\nObject.defineProperty(exports, \"session\", {\n  enumerable: true,\n  get: function () {\n    return _session.default;\n  }\n});\nObject.defineProperty(exports, \"signin\", {\n  enumerable: true,\n  get: function () {\n    return _signin.default;\n  }\n});\nObject.defineProperty(exports, \"signout\", {\n  enumerable: true,\n  get: function () {\n    return _signout.default;\n  }\n});\nvar _callback = _interopRequireDefault(require(\"./callback\"));\nvar _signin = _interopRequireDefault(require(\"./signin\"));\nvar _signout = _interopRequireDefault(require(\"./signout\"));\nvar _session = _interopRequireDefault(require(\"./session\"));\nvar _providers = _interopRequireDefault(require(\"./providers\"));","/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n","import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tlet shouldPlace = !!(childVNode._flags & INSERT_VNODE);\n\t\tif (shouldPlace || oldVNode._children === childVNode._children) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom, shouldPlace);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @param {boolean} shouldPlace\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom, shouldPlace) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom, shouldPlace);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (shouldPlace) {\n\t\t\tif (oldDom && parentVNode.type && !oldDom.parentNode) {\n\t\t\t\toldDom = getDomSibling(parentVNode);\n\t\t\t}\n\t\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\t}\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\tconst matched = oldVNode != NULL && (oldVNode._flags & MATCHED) == 0;\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren > (matched ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(matched && key == oldVNode.key && type == oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tconst childIndex = x >= 0 ? x-- : y++;\n\t\t\toldVNode = oldChildren[childIndex];\n\t\t\tif (\n\t\t\t\toldVNode != NULL &&\n\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\tkey == oldVNode.key &&\n\t\t\t\ttype == oldVNode.type\n\t\t\t) {\n\t\t\t\treturn childIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tmarkAsForce(newVNode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\tif (!e.then) markAsForce(newVNode);\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\nfunction markAsForce(vnode) {\n\tif (vnode && vnode._component) vnode._component._force = true;\n\tif (vnode && vnode._children) vnode._children.forEach(markAsForce);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n","// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\nexport const VOID_ELEMENTS = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\nexport const UNSAFE_NAME = /[\\s\\n\\\\/='\"\\0<>]/;\nexport const XLINK = /^xlink:?./;\n\nconst ENCODED_ENTITIES = /[\"&<]/;\n\nexport function encodeEntities(str) {\n\t// Ensure we're always parsing and returning a string:\n\tstr += '';\n\n\t// Skip all work for strings with no entities needing encoding:\n\tif (ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n\nexport let indent = (s, char) =>\n\tString(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) =>\n\tString(s).length > (length || 40) ||\n\t(!ignoreLines && String(s).indexOf('\\n') !== -1) ||\n\tString(s).indexOf('<') !== -1;\n\nconst JS_TO_CSS = {};\n\nconst CSS_REGEX = /([A-Z])/g;\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val != null && val !== '') {\n\t\t\tif (str) str += ' ';\n\t\t\t// str += jsToCss(prop);\n\t\t\tstr +=\n\t\t\t\tprop[0] == '-'\n\t\t\t\t\t? prop\n\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t  (JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$1').toLowerCase());\n\n\t\t\tif (typeof val === 'number' && IS_NON_DIMENSIONAL.test(prop) === false) {\n\t\t\t\tstr = str + ': ' + val + 'px;';\n\t\t\t} else {\n\t\t\t\tstr = str + ': ' + val + ';';\n\t\t\t}\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t} else if (children != null && children !== false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n\nfunction markAsDirty() {\n\tthis.__d = true;\n}\n\nexport function createComponent(vnode, context) {\n\treturn {\n\t\t__v: vnode,\n\t\tcontext,\n\t\tprops: vnode.props,\n\t\t// silently drop state updates\n\t\tsetState: markAsDirty,\n\t\tforceUpdate: markAsDirty,\n\t\t__d: true,\n\t\t// hooks\n\t\t__h: []\n\t};\n}\n\n// Necessary for createContext api. Setting this property will pass\n// the context value as `this.context` just for this component.\nexport function getContext(nodeName, context) {\n\tlet cxType = nodeName.contextType;\n\tlet provider = cxType && context[cxType.__c];\n\treturn cxType != null\n\t\t? provider\n\t\t\t? provider.props.value\n\t\t\t: cxType.__\n\t\t: context;\n}\n","import {\n\tencodeEntities,\n\tindent,\n\tisLargeString,\n\tstyleObjToCss,\n\tgetChildren,\n\tcreateComponent,\n\tgetContext,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nexport function _renderToStringPretty(\n\tvnode,\n\tcontext,\n\topts,\n\tinner,\n\tisSvgMode,\n\tselectValue\n) {\n\tif (vnode == null || typeof vnode === 'boolean') {\n\t\treturn '';\n\t}\n\n\t// #text nodes\n\tif (typeof vnode !== 'object') {\n\t\tif (typeof vnode === 'function') return '';\n\t\treturn encodeEntities(vnode);\n\t}\n\n\tlet pretty = opts.pretty,\n\t\tindentChar = pretty && typeof pretty === 'string' ? pretty : '\\t';\n\n\tif (Array.isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\tif (pretty && i > 0) rendered = rendered + '\\n';\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToStringPretty(\n\t\t\t\t\tvnode[i],\n\t\t\t\t\tcontext,\n\t\t\t\t\topts,\n\t\t\t\t\tinner,\n\t\t\t\t\tisSvgMode,\n\t\t\t\t\tselectValue\n\t\t\t\t);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\t// VNodes have {constructor:undefined} to prevent JSON injection:\n\tif (vnode.constructor !== undefined) return '';\n\n\tlet nodeName = vnode.type,\n\t\tprops = vnode.props,\n\t\tisComponent = false;\n\n\t// components\n\tif (typeof nodeName === 'function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent === false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t} else if (nodeName === Fragment) {\n\t\t\tconst children = [];\n\t\t\tgetChildren(children, vnode.props.children);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\tchildren,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t} else {\n\t\t\tlet rendered;\n\n\t\t\tlet c = (vnode.__c = createComponent(vnode, context));\n\n\t\t\t// options._diff\n\t\t\tif (options.__b) options.__b(vnode);\n\n\t\t\t// options._render\n\t\t\tlet renderHook = options.__r;\n\n\t\t\tif (\n\t\t\t\t!nodeName.prototype ||\n\t\t\t\ttypeof nodeName.prototype.render !== 'function'\n\t\t\t) {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// If a hook invokes setState() to invalidate the component during rendering,\n\t\t\t\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t\t\t\t// Note:\n\t\t\t\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t\t\t\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (c.__d && count++ < 25) {\n\t\t\t\t\tc.__d = false;\n\n\t\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\t\t// stateless functional components\n\t\t\t\t\trendered = nodeName.call(vnode.__c, props, cctx);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// c = new nodeName(props, context);\n\t\t\t\tc = vnode.__c = new nodeName(props, cctx);\n\t\t\t\tc.__v = vnode;\n\t\t\t\t// turn off stateful re-rendering:\n\t\t\t\tc._dirty = c.__d = true;\n\t\t\t\tc.props = props;\n\t\t\t\tif (c.state == null) c.state = {};\n\n\t\t\t\tif (c._nextState == null && c.__s == null) {\n\t\t\t\t\tc._nextState = c.__s = c.state;\n\t\t\t\t}\n\n\t\t\t\tc.context = cctx;\n\t\t\t\tif (nodeName.getDerivedStateFromProps)\n\t\t\t\t\tc.state = Object.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tc.state,\n\t\t\t\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t\t\t\t);\n\t\t\t\telse if (c.componentWillMount) {\n\t\t\t\t\tc.componentWillMount();\n\n\t\t\t\t\t// If the user called setState in cWM we need to flush pending,\n\t\t\t\t\t// state updates. This is the same behaviour in React.\n\t\t\t\t\tc.state =\n\t\t\t\t\t\tc._nextState !== c.state\n\t\t\t\t\t\t\t? c._nextState\n\t\t\t\t\t\t\t: c.__s !== c.state\n\t\t\t\t\t\t\t? c.__s\n\t\t\t\t\t\t\t: c.state;\n\t\t\t\t}\n\n\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\t\t\t}\n\n\t\t\tif (c.getChildContext) {\n\t\t\t\tcontext = Object.assign({}, context, c.getChildContext());\n\t\t\t}\n\n\t\t\tif (options.diffed) options.diffed(vnode);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\trendered,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '<' + nodeName,\n\t\tpropChildren,\n\t\thtml;\n\n\tif (props) {\n\t\tlet attrs = Object.keys(props);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes === true) attrs.sort();\n\n\t\tfor (let i = 0; i < attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = props[name];\n\t\t\tif (name === 'children') {\n\t\t\t\tpropChildren = v;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tif (\n\t\t\t\t!(opts && opts.allAttributes) &&\n\t\t\t\t(name === 'key' ||\n\t\t\t\t\tname === 'ref' ||\n\t\t\t\t\tname === '__self' ||\n\t\t\t\t\tname === '__source')\n\t\t\t)\n\t\t\t\tcontinue;\n\n\t\t\tif (name === 'defaultValue') {\n\t\t\t\tname = 'value';\n\t\t\t} else if (name === 'defaultChecked') {\n\t\t\t\tname = 'checked';\n\t\t\t} else if (name === 'defaultSelected') {\n\t\t\t\tname = 'selected';\n\t\t\t} else if (name === 'className') {\n\t\t\t\tif (typeof props.class !== 'undefined') continue;\n\t\t\t\tname = 'class';\n\t\t\t} else if (isSvgMode && XLINK.test(name)) {\n\t\t\t\tname = name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t\t\t}\n\n\t\t\tif (name === 'htmlFor') {\n\t\t\t\tif (props.for) continue;\n\t\t\t\tname = 'for';\n\t\t\t}\n\n\t\t\tif (name === 'style' && v && typeof v === 'object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\t// always use string values instead of booleans for aria attributes\n\t\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\t\tif (name[0] === 'a' && name['1'] === 'r' && typeof v === 'boolean') {\n\t\t\t\tv = String(v);\n\t\t\t}\n\n\t\t\tlet hooked =\n\t\t\t\topts.attributeHook &&\n\t\t\t\topts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked === '') {\n\t\t\t\ts = s + hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (nodeName === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tpropChildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (nodeName === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\tnodeName === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\ttypeof props.selected === 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ` selected`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tif (pretty) {\n\t\tlet sub = s.replace(/\\n\\s*/, ' ');\n\t\tif (sub !== s && !~sub.indexOf('\\n')) s = sub;\n\t\telse if (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t}\n\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(nodeName))\n\t\tthrow new Error(`${nodeName} is not a valid HTML tag name in ${s}`);\n\n\tlet isVoid =\n\t\tVOID_ELEMENTS.test(nodeName) ||\n\t\t(opts.voidElements && opts.voidElements.test(nodeName));\n\tlet pieces = [];\n\n\tlet children;\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts = s + html;\n\t} else if (\n\t\tpropChildren != null &&\n\t\tgetChildren((children = []), propChildren).length\n\t) {\n\t\tlet hasLarge = pretty && ~s.indexOf('\\n');\n\t\tlet lastWasText = false;\n\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\t\tnodeName === 'svg'\n\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t: nodeName === 'foreignObject'\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: isSvgMode,\n\t\t\t\t\tret = _renderToStringPretty(\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\topts,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tchildSvgMode,\n\t\t\t\t\t\tselectValue\n\t\t\t\t\t);\n\n\t\t\t\tif (pretty && !hasLarge && isLargeString(ret)) hasLarge = true;\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tif (pretty) {\n\t\t\t\t\t\tlet isText = ret.length > 0 && ret[0] != '<';\n\n\t\t\t\t\t\t// We merge adjacent text nodes, otherwise each piece would be printed\n\t\t\t\t\t\t// on a new line.\n\t\t\t\t\t\tif (lastWasText && isText) {\n\t\t\t\t\t\t\tpieces[pieces.length - 1] += ret;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlastWasText = isText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (pretty && hasLarge) {\n\t\t\tfor (let i = pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pieces.length || html) {\n\t\ts = s + pieces.join('');\n\t} else if (opts && opts.xml) {\n\t\treturn s.substring(0, s.length - 1) + ' />';\n\t}\n\n\tif (isVoid && !children && !html) {\n\t\ts = s.replace(/>$/, ' />');\n\t} else {\n\t\tif (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t\ts = s + `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\treturn (\n\t\tcomponent.displayName ||\n\t\t(component !== Function && component.name) ||\n\t\tgetFallbackComponentName(component)\n\t);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^( ]+)/) || '')[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i = UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i] === component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index < 0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\n","import {\n\tencodeEntities,\n\tstyleObjToCss,\n\tgetContext,\n\tcreateComponent,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, h, Fragment } from 'preact';\nimport { _renderToStringPretty } from './pretty';\nimport {\n\tCOMMIT,\n\tCOMPONENT,\n\tDIFF,\n\tDIFFED,\n\tDIRTY,\n\tNEXT_STATE,\n\tPARENT,\n\tRENDER,\n\tSKIP_EFFECTS,\n\tVNODE,\n\tCHILDREN\n} from './constants';\n\n/** @typedef {import('preact').VNode} VNode */\n\nconst SHALLOW = { shallow: true };\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n *\t@param {RegExp|undefined} [options.voidElements]       RegeEx that matches elements that are considered void (self-closing)\n */\nrenderToString.render = renderToString;\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\nconst EMPTY_ARR = [];\nfunction renderToString(vnode, context, opts) {\n\tcontext = context || {};\n\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\tconst parent = h(Fragment, null);\n\tparent[CHILDREN] = [vnode];\n\n\tlet res;\n\tif (\n\t\topts &&\n\t\t(opts.pretty ||\n\t\t\topts.voidElements ||\n\t\t\topts.sortAttributes ||\n\t\t\topts.shallow ||\n\t\t\topts.allAttributes ||\n\t\t\topts.xml ||\n\t\t\topts.attributeHook)\n\t) {\n\t\tres = _renderToStringPretty(vnode, context, opts);\n\t} else {\n\t\tres = _renderToString(vnode, context, false, undefined, parent);\n\t}\n\n\t// options._commit, we don't schedule any effects in this library right now,\n\t// so we can pass an empty queue to this hook.\n\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\tEMPTY_ARR.length = 0;\n\n\treturn res;\n}\n\n/**\n * @param {VNode} vnode\n * @param {Record<string, unknown>} context\n * @returns {string}\n */\nfunction renderFunctionComponent(vnode, context) {\n\t// eslint-disable-next-line lines-around-comment\n\t/** @type {string} */\n\tlet rendered,\n\t\tc = createComponent(vnode, context),\n\t\tcctx = getContext(vnode.type, context);\n\n\tvnode[COMPONENT] = c;\n\n\t// If a hook invokes setState() to invalidate the component during rendering,\n\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t// Note:\n\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\tlet renderHook = options[RENDER];\n\tlet count = 0;\n\twhile (c[DIRTY] && count++ < 25) {\n\t\tc[DIRTY] = false;\n\n\t\tif (renderHook) renderHook(vnode);\n\n\t\t// stateless functional components\n\t\trendered = vnode.type.call(c, vnode.props, cctx);\n\t}\n\n\treturn rendered;\n}\n\n/**\n * @param {VNode} vnode\n * @param {Record<string, unknown>} context\n * @returns {VNode}\n */\nfunction renderClassComponent(vnode, context) {\n\tlet nodeName = vnode.type,\n\t\tcctx = getContext(nodeName, context);\n\n\t/** @type {import(\"preact\").Component} */\n\tlet c = new nodeName(vnode.props, cctx);\n\tvnode[COMPONENT] = c;\n\tc[VNODE] = vnode;\n\t// turn off stateful re-rendering:\n\tc[DIRTY] = true;\n\tc.props = vnode.props;\n\tif (c.state == null) c.state = {};\n\n\tif (c[NEXT_STATE] == null) {\n\t\tc[NEXT_STATE] = c.state;\n\t}\n\n\tc.context = cctx;\n\tif (nodeName.getDerivedStateFromProps) {\n\t\tc.state = assign(\n\t\t\t{},\n\t\t\tc.state,\n\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t);\n\t} else if (c.componentWillMount) {\n\t\tc.componentWillMount();\n\n\t\t// If the user called setState in cWM we need to flush pending,\n\t\t// state updates. This is the same behaviour in React.\n\t\tc.state = c[NEXT_STATE] !== c.state ? c[NEXT_STATE] : c.state;\n\t}\n\n\tlet renderHook = options[RENDER];\n\tif (renderHook) renderHook(vnode);\n\n\treturn c.render(c.props, c.state, c.context);\n}\n\n/**\n * @param {any} vnode\n * @returns {VNode}\n */\nfunction normalizeVNode(vnode) {\n\tif (vnode == null || typeof vnode == 'boolean') {\n\t\treturn null;\n\t} else if (\n\t\ttypeof vnode == 'string' ||\n\t\ttypeof vnode == 'number' ||\n\t\ttypeof vnode == 'bigint'\n\t) {\n\t\treturn h(null, null, vnode);\n\t}\n\treturn vnode;\n}\n\n/**\n * @param {string} name\n * @param {boolean} isSvgMode\n * @returns {string}\n */\nfunction normalizePropName(name, isSvgMode) {\n\tif (name === 'className') {\n\t\treturn 'class';\n\t} else if (name === 'htmlFor') {\n\t\treturn 'for';\n\t} else if (name === 'defaultValue') {\n\t\treturn 'value';\n\t} else if (name === 'defaultChecked') {\n\t\treturn 'checked';\n\t} else if (name === 'defaultSelected') {\n\t\treturn 'selected';\n\t} else if (isSvgMode && XLINK.test(name)) {\n\t\treturn name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t}\n\n\treturn name;\n}\n\n/**\n * @param {string} name\n * @param {string | Record<string, unknown>} v\n * @returns {string}\n */\nfunction normalizePropValue(name, v) {\n\tif (name === 'style' && v != null && typeof v === 'object') {\n\t\treturn styleObjToCss(v);\n\t} else if (name[0] === 'a' && name[1] === 'r' && typeof v === 'boolean') {\n\t\t// always use string values instead of booleans for aria attributes\n\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\treturn String(v);\n\t}\n\n\treturn v;\n}\n\nconst isArray = Array.isArray;\nconst assign = Object.assign;\n\n/**\n * The default export is an alias of `render()`.\n * @param {any} vnode\n * @param {Record<string, unknown>} context\n * @param {boolean} isSvgMode\n * @param {any} selectValue\n * @param {VNode | null} parent\n * @returns {string}\n */\nfunction _renderToString(vnode, context, isSvgMode, selectValue, parent) {\n\t// Ignore non-rendered VNodes/values\n\tif (vnode == null || vnode === true || vnode === false || vnode === '') {\n\t\treturn '';\n\t}\n\n\t// Text VNodes: escape as HTML\n\tif (typeof vnode !== 'object') {\n\t\tif (typeof vnode === 'function') return '';\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// Recurse into children / Arrays\n\tif (isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tparent[CHILDREN] = vnode;\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToString(vnode[i], context, isSvgMode, selectValue, parent);\n\n\t\t\tvnode[i] = normalizeVNode(vnode[i]);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\t// VNodes have {constructor:undefined} to prevent JSON injection:\n\tif (vnode.constructor !== undefined) return '';\n\n\tvnode[PARENT] = parent;\n\tif (options[DIFF]) options[DIFF](vnode);\n\n\tlet type = vnode.type,\n\t\tprops = vnode.props;\n\n\t// Invoke rendering on Components\n\tconst isComponent = typeof type === 'function';\n\tif (isComponent) {\n\t\tlet rendered;\n\t\tif (type === Fragment) {\n\t\t\trendered = props.children;\n\t\t} else {\n\t\t\tif (type.prototype && typeof type.prototype.render === 'function') {\n\t\t\t\trendered = renderClassComponent(vnode, context);\n\t\t\t} else {\n\t\t\t\trendered = renderFunctionComponent(vnode, context);\n\t\t\t}\n\n\t\t\tlet component = vnode[COMPONENT];\n\t\t\tif (component.getChildContext) {\n\t\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t\t}\n\t\t}\n\n\t\t// When a component returns a Fragment node we flatten it in core, so we\n\t\t// need to mirror that logic here too\n\t\tlet isTopLevelFragment =\n\t\t\trendered != null && rendered.type === Fragment && rendered.key == null;\n\t\trendered = isTopLevelFragment ? rendered.props.children : rendered;\n\n\t\t// Recurse into children before invoking the after-diff hook\n\t\tconst str = _renderToString(\n\t\t\trendered,\n\t\t\tcontext,\n\t\t\tisSvgMode,\n\t\t\tselectValue,\n\t\t\tvnode\n\t\t);\n\n\t\tif (options[DIFFED]) options[DIFFED](vnode);\n\t\tvnode[PARENT] = undefined;\n\n\t\tif (options.unmount) options.unmount(vnode);\n\n\t\treturn str;\n\t}\n\n\t// Serialize Element VNodes to HTML\n\tlet s = '<',\n\t\tchildren,\n\t\thtml;\n\n\ts = s + type;\n\n\tif (props) {\n\t\tchildren = props.children;\n\t\tfor (let name in props) {\n\t\t\tlet v = props[name];\n\n\t\t\tif (\n\t\t\t\tname === 'key' ||\n\t\t\t\tname === 'ref' ||\n\t\t\t\tname === '__self' ||\n\t\t\t\tname === '__source' ||\n\t\t\t\tname === 'children' ||\n\t\t\t\t(name === 'className' && 'class' in props) ||\n\t\t\t\t(name === 'htmlFor' && 'for' in props)\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tname = normalizePropName(name, isSvgMode);\n\t\t\tv = normalizePropValue(name, v);\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (type === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tchildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (type === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\ttype === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\t!('selected' in props)\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ' selected';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ' ' + name + '=\"' + encodeEntities(v) + '\"';\n\t\t\t}\n\t\t}\n\t}\n\n\tlet startElement = s;\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(type)) {\n\t\tthrow new Error(`${type} is not a valid HTML tag name in ${s}`);\n\t}\n\n\tlet pieces = '';\n\tlet hasChildren = false;\n\n\tif (html) {\n\t\tpieces = pieces + html;\n\t\thasChildren = true;\n\t} else if (typeof children === 'string') {\n\t\tpieces = pieces + encodeEntities(children);\n\t\thasChildren = true;\n\t} else if (isArray(children)) {\n\t\tvnode[CHILDREN] = children;\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\t\t\tchildren[i] = normalizeVNode(child);\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\t\t\tlet ret = _renderToString(\n\t\t\t\t\tchild,\n\t\t\t\t\tcontext,\n\t\t\t\t\tchildSvgMode,\n\t\t\t\t\tselectValue,\n\t\t\t\t\tvnode\n\t\t\t\t);\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tpieces = pieces + ret;\n\t\t\t\t\thasChildren = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (children != null && children !== false && children !== true) {\n\t\tvnode[CHILDREN] = [normalizeVNode(children)];\n\t\tlet childSvgMode =\n\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\tlet ret = _renderToString(\n\t\t\tchildren,\n\t\t\tcontext,\n\t\t\tchildSvgMode,\n\t\t\tselectValue,\n\t\t\tvnode\n\t\t);\n\n\t\t// Skip if we received an empty string\n\t\tif (ret) {\n\t\t\tpieces = pieces + ret;\n\t\t\thasChildren = true;\n\t\t}\n\t}\n\n\tif (options[DIFFED]) options[DIFFED](vnode);\n\tvnode[PARENT] = undefined;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif (hasChildren) {\n\t\ts = s + pieces;\n\t} else if (VOID_ELEMENTS.test(type)) {\n\t\treturn startElement + ' />';\n\t}\n\n\treturn s + '</' + type + '>';\n}\n\n/** The default export is an alias of `render()`. */\n\nrenderToString.shallowRender = shallowRender;\n\nexport default renderToString;\n\nexport {\n\trenderToString as render,\n\trenderToString as renderToStaticMarkup,\n\trenderToString,\n\tshallowRender\n};\n","module.exports = require('./commonjs').default;","function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SigninPage;\nvar _preact = require(\"preact\");\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nfunction hexToRgba(hex, alpha = 1) {\n  if (!hex) {\n    return;\n  }\n  hex = hex.replace(/^#/, \"\");\n  if (hex.length === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  }\n  const bigint = parseInt(hex, 16);\n  const r = bigint >> 16 & 255;\n  const g = bigint >> 8 & 255;\n  const b = bigint & 255;\n  alpha = Math.min(Math.max(alpha, 0), 1);\n  const rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`;\n  return rgba;\n}\nfunction SigninPage(props) {\n  var _errors$errorType;\n  const {\n    csrfToken,\n    providers,\n    callbackUrl,\n    theme,\n    email,\n    error: errorType\n  } = props;\n  const providersToRender = providers.filter(provider => {\n    if (provider.type === \"oauth\" || provider.type === \"email\") {\n      return true;\n    } else if (provider.type === \"credentials\" && provider.credentials) {\n      return true;\n    }\n    return false;\n  });\n  if (typeof document !== \"undefined\" && theme.buttonText) {\n    document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n  }\n  if (typeof document !== \"undefined\" && theme.brandColor) {\n    document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n  }\n  const errors = {\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallback: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\",\n    default: \"Unable to sign in.\"\n  };\n  const error = errorType && ((_errors$errorType = errors[errorType]) !== null && _errors$errorType !== void 0 ? _errors$errorType : errors.default);\n  const providerLogoPath = \"https://authjs.dev/img/providers\";\n  return (0, _preact.h)(\"div\", {\n    className: \"signin\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), theme.buttonText && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), error && (0, _preact.h)(\"div\", {\n    className: \"error\"\n  }, (0, _preact.h)(\"p\", null, error)), providersToRender.map((provider, i) => {\n    let bg, text, logo, logoDark, bgDark, textDark;\n    if (provider.type === \"oauth\") {\n      var _provider$style;\n      ;\n      ({\n        bg = \"\",\n        text = \"\",\n        logo = \"\",\n        bgDark = bg,\n        textDark = text,\n        logoDark = \"\"\n      } = (_provider$style = provider.style) !== null && _provider$style !== void 0 ? _provider$style : {});\n      logo = logo.startsWith(\"/\") ? `${providerLogoPath}${logo}` : logo;\n      logoDark = logoDark.startsWith(\"/\") ? `${providerLogoPath}${logoDark}` : logoDark || logo;\n      logoDark || (logoDark = logo);\n    }\n    return (0, _preact.h)(\"div\", {\n      key: provider.id,\n      className: \"provider\"\n    }, provider.type === \"oauth\" && (0, _preact.h)(\"form\", {\n      action: provider.signinUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), callbackUrl && (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"callbackUrl\",\n      value: callbackUrl\n    }), (0, _preact.h)(\"button\", {\n      type: \"submit\",\n      className: \"button\",\n      style: {\n        \"--provider-bg\": bg,\n        \"--provider-dark-bg\": bgDark,\n        \"--provider-color\": text,\n        \"--provider-dark-color\": textDark,\n        \"--provider-bg-hover\": hexToRgba(bg, 0.8),\n        \"--provider-dark-bg-hover\": hexToRgba(bgDark, 0.8)\n      }\n    }, logo && (0, _preact.h)(\"img\", {\n      loading: \"lazy\",\n      height: 24,\n      width: 24,\n      id: \"provider-logo\",\n      src: `${logo.startsWith(\"/\") ? providerLogoPath : \"\"}${logo}`\n    }), logoDark && (0, _preact.h)(\"img\", {\n      loading: \"lazy\",\n      height: 24,\n      width: 24,\n      id: \"provider-logo-dark\",\n      src: `${logo.startsWith(\"/\") ? providerLogoPath : \"\"}${logoDark}`\n    }), (0, _preact.h)(\"span\", null, \"Sign in with \", provider.name))), (provider.type === \"email\" || provider.type === \"credentials\") && i > 0 && providersToRender[i - 1].type !== \"email\" && providersToRender[i - 1].type !== \"credentials\" && (0, _preact.h)(\"hr\", null), provider.type === \"email\" && (0, _preact.h)(\"form\", {\n      action: provider.signinUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), (0, _preact.h)(\"label\", {\n      className: \"section-header\",\n      htmlFor: `input-email-for-${provider.id}-provider`\n    }, \"Email\"), (0, _preact.h)(\"input\", {\n      id: `input-email-for-${provider.id}-provider`,\n      autoFocus: true,\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      placeholder: \"email@example.com\",\n      required: true\n    }), (0, _preact.h)(\"button\", {\n      id: \"submitButton\",\n      type: \"submit\"\n    }, \"Sign in with \", provider.name)), provider.type === \"credentials\" && (0, _preact.h)(\"form\", {\n      action: provider.callbackUrl,\n      method: \"POST\"\n    }, (0, _preact.h)(\"input\", {\n      type: \"hidden\",\n      name: \"csrfToken\",\n      value: csrfToken\n    }), Object.keys(provider.credentials).map(credential => {\n      var _provider$credentials, _provider$credentials2, _provider$credentials3;\n      return (0, _preact.h)(\"div\", {\n        key: `input-group-${provider.id}`\n      }, (0, _preact.h)(\"label\", {\n        className: \"section-header\",\n        htmlFor: `input-${credential}-for-${provider.id}-provider`\n      }, (_provider$credentials = provider.credentials[credential].label) !== null && _provider$credentials !== void 0 ? _provider$credentials : credential), (0, _preact.h)(\"input\", (0, _extends2.default)({\n        name: credential,\n        id: `input-${credential}-for-${provider.id}-provider`,\n        type: (_provider$credentials2 = provider.credentials[credential].type) !== null && _provider$credentials2 !== void 0 ? _provider$credentials2 : \"text\",\n        placeholder: (_provider$credentials3 = provider.credentials[credential].placeholder) !== null && _provider$credentials3 !== void 0 ? _provider$credentials3 : \"\"\n      }, provider.credentials[credential])));\n    }), (0, _preact.h)(\"button\", {\n      type: \"submit\"\n    }, \"Sign in with \", provider.name)), (provider.type === \"email\" || provider.type === \"credentials\") && i + 1 < providersToRender.length && (0, _preact.h)(\"hr\", null));\n  })));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SignoutPage;\nvar _preact = require(\"preact\");\nfunction SignoutPage(props) {\n  const {\n    url,\n    csrfToken,\n    theme\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"signout\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), theme.buttonText && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), (0, _preact.h)(\"h1\", null, \"Signout\"), (0, _preact.h)(\"p\", null, \"Are you sure you want to sign out?\"), (0, _preact.h)(\"form\", {\n    action: `${url}/signout`,\n    method: \"POST\"\n  }, (0, _preact.h)(\"input\", {\n    type: \"hidden\",\n    name: \"csrfToken\",\n    value: csrfToken\n  }), (0, _preact.h)(\"button\", {\n    id: \"submitButton\",\n    type: \"submit\"\n  }, \"Sign out\"))));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = VerifyRequestPage;\nvar _preact = require(\"preact\");\nfunction VerifyRequestPage(props) {\n  const {\n    url,\n    theme\n  } = props;\n  return (0, _preact.h)(\"div\", {\n    className: \"verify-request\"\n  }, theme.brandColor && (0, _preact.h)(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n    }\n  }), (0, _preact.h)(\"div\", {\n    className: \"card\"\n  }, theme.logo && (0, _preact.h)(\"img\", {\n    src: theme.logo,\n    alt: \"Logo\",\n    className: \"logo\"\n  }), (0, _preact.h)(\"h1\", null, \"Check your email\"), (0, _preact.h)(\"p\", null, \"A sign in link has been sent to your email address.\"), (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n    className: \"site\",\n    href: url.origin\n  }, url.host))));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ErrorPage;\nvar _preact = require(\"preact\");\nfunction ErrorPage(props) {\n  var _errors$error$toLower;\n  const {\n    url,\n    error = \"default\",\n    theme\n  } = props;\n  const signinPageUrl = `${url}/signin`;\n  const errors = {\n    default: {\n      status: 200,\n      heading: \"Error\",\n      message: (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n        className: \"site\",\n        href: url === null || url === void 0 ? void 0 : url.origin\n      }, url === null || url === void 0 ? void 0 : url.host))\n    },\n    configuration: {\n      status: 500,\n      heading: \"Server error\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"There is a problem with the server configuration.\"), (0, _preact.h)(\"p\", null, \"Check the server logs for more information.\"))\n    },\n    accessdenied: {\n      status: 403,\n      heading: \"Access Denied\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"You do not have permission to sign in.\"), (0, _preact.h)(\"p\", null, (0, _preact.h)(\"a\", {\n        className: \"button\",\n        href: signinPageUrl\n      }, \"Sign in\")))\n    },\n    verification: {\n      status: 403,\n      heading: \"Unable to sign in\",\n      message: (0, _preact.h)(\"div\", null, (0, _preact.h)(\"p\", null, \"The sign in link is no longer valid.\"), (0, _preact.h)(\"p\", null, \"It may have been used already or it may have expired.\")),\n      signin: (0, _preact.h)(\"a\", {\n        className: \"button\",\n        href: signinPageUrl\n      }, \"Sign in\")\n    }\n  };\n  const {\n    status,\n    heading,\n    message,\n    signin\n  } = (_errors$error$toLower = errors[error.toLowerCase()]) !== null && _errors$error$toLower !== void 0 ? _errors$error$toLower : errors.default;\n  return {\n    status,\n    html: (0, _preact.h)(\"div\", {\n      className: \"error\"\n    }, (theme === null || theme === void 0 ? void 0 : theme.brandColor) && (0, _preact.h)(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: `\n        :root {\n          --brand-color: ${theme === null || theme === void 0 ? void 0 : theme.brandColor}\n        }\n      `\n      }\n    }), (0, _preact.h)(\"div\", {\n      className: \"card\"\n    }, (theme === null || theme === void 0 ? void 0 : theme.logo) && (0, _preact.h)(\"img\", {\n      src: theme.logo,\n      alt: \"Logo\",\n      className: \"logo\"\n    }), (0, _preact.h)(\"h1\", null, heading), (0, _preact.h)(\"div\", {\n      className: \"message\"\n    }, message), signin))\n  };\n}","module.exports = function() { return \":root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:\\\"or\\\";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}\" }","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = renderPage;\nvar _preactRenderToString = _interopRequireDefault(require(\"preact-render-to-string\"));\nvar _signin = _interopRequireDefault(require(\"./signin\"));\nvar _signout = _interopRequireDefault(require(\"./signout\"));\nvar _verifyRequest = _interopRequireDefault(require(\"./verify-request\"));\nvar _error = _interopRequireDefault(require(\"./error\"));\nvar _css = _interopRequireDefault(require(\"../../css\"));\nfunction renderPage(params) {\n  const {\n    url,\n    theme,\n    query,\n    cookies\n  } = params;\n  function send({\n    html,\n    title,\n    status\n  }) {\n    var _theme$colorScheme;\n    return {\n      cookies,\n      status,\n      headers: [{\n        key: \"Content-Type\",\n        value: \"text/html\"\n      }],\n      body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${(0, _css.default)()}</style><title>${title}</title></head><body class=\"__next-auth-theme-${(_theme$colorScheme = theme === null || theme === void 0 ? void 0 : theme.colorScheme) !== null && _theme$colorScheme !== void 0 ? _theme$colorScheme : \"auto\"}\"><div class=\"page\">${(0, _preactRenderToString.default)(html)}</div></body></html>`\n    };\n  }\n  return {\n    signin(props) {\n      return send({\n        html: (0, _signin.default)({\n          csrfToken: params.csrfToken,\n          providers: params.providers,\n          callbackUrl: params.callbackUrl,\n          theme,\n          ...query,\n          ...props\n        }),\n        title: \"Sign In\"\n      });\n    },\n    signout(props) {\n      return send({\n        html: (0, _signout.default)({\n          csrfToken: params.csrfToken,\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Sign Out\"\n      });\n    },\n    verifyRequest(props) {\n      return send({\n        html: (0, _verifyRequest.default)({\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Verify Request\"\n      });\n    },\n    error(props) {\n      return send({\n        ...(0, _error.default)({\n          url,\n          theme,\n          ...props\n        }),\n        title: \"Error\"\n      });\n    }\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.merge = merge;\nfunction isObject(item) {\n  return item && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction merge(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, {\n          [key]: {}\n        });\n        merge(target[key], source[key]);\n      } else {\n        Object.assign(target, {\n          [key]: source[key]\n        });\n      }\n    }\n  }\n  return merge(target, ...sources);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseProviders;\nvar _merge = require(\"../../utils/merge\");\nfunction parseProviders(params) {\n  const {\n    url,\n    providerId\n  } = params;\n  const providers = params.providers.map(({\n    options: userOptions,\n    ...rest\n  }) => {\n    var _ref;\n    if (rest.type === \"oauth\") {\n      var _normalizedUserOption;\n      const normalizedOptions = normalizeOAuthOptions(rest);\n      const normalizedUserOptions = normalizeOAuthOptions(userOptions, true);\n      const id = (_normalizedUserOption = normalizedUserOptions === null || normalizedUserOptions === void 0 ? void 0 : normalizedUserOptions.id) !== null && _normalizedUserOption !== void 0 ? _normalizedUserOption : rest.id;\n      return (0, _merge.merge)(normalizedOptions, {\n        ...normalizedUserOptions,\n        signinUrl: `${url}/signin/${id}`,\n        callbackUrl: `${url}/callback/${id}`\n      });\n    }\n    const id = (_ref = userOptions === null || userOptions === void 0 ? void 0 : userOptions.id) !== null && _ref !== void 0 ? _ref : rest.id;\n    return (0, _merge.merge)(rest, {\n      ...userOptions,\n      signinUrl: `${url}/signin/${id}`,\n      callbackUrl: `${url}/callback/${id}`\n    });\n  });\n  return {\n    providers,\n    provider: providers.find(({\n      id\n    }) => id === providerId)\n  };\n}\nfunction normalizeOAuthOptions(oauthOptions, isUserOptions = false) {\n  var _normalized$version;\n  if (!oauthOptions) return;\n  const normalized = Object.entries(oauthOptions).reduce((acc, [key, value]) => {\n    if ([\"authorization\", \"token\", \"userinfo\"].includes(key) && typeof value === \"string\") {\n      var _url$searchParams;\n      const url = new URL(value);\n      acc[key] = {\n        url: `${url.origin}${url.pathname}`,\n        params: Object.fromEntries((_url$searchParams = url.searchParams) !== null && _url$searchParams !== void 0 ? _url$searchParams : [])\n      };\n    } else {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n  if (!isUserOptions && !((_normalized$version = normalized.version) !== null && _normalized$version !== void 0 && _normalized$version.startsWith(\"1.\"))) {\n    var _ref2, _normalized$idToken, _normalized$wellKnown, _normalized$authoriza;\n    normalized.idToken = Boolean((_ref2 = (_normalized$idToken = normalized.idToken) !== null && _normalized$idToken !== void 0 ? _normalized$idToken : (_normalized$wellKnown = normalized.wellKnown) === null || _normalized$wellKnown === void 0 ? void 0 : _normalized$wellKnown.includes(\"openid-configuration\")) !== null && _ref2 !== void 0 ? _ref2 : (_normalized$authoriza = normalized.authorization) === null || _normalized$authoriza === void 0 || (_normalized$authoriza = _normalized$authoriza.params) === null || _normalized$authoriza === void 0 || (_normalized$authoriza = _normalized$authoriza.scope) === null || _normalized$authoriza === void 0 ? void 0 : _normalized$authoriza.includes(\"openid\"));\n    if (!normalized.checks) normalized.checks = [\"state\"];\n  }\n  return normalized;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultCallbacks = void 0;\nconst defaultCallbacks = exports.defaultCallbacks = {\n  signIn() {\n    return true;\n  },\n  redirect({\n    url,\n    baseUrl\n  }) {\n    if (url.startsWith(\"/\")) return `${baseUrl}${url}`;else if (new URL(url).origin === baseUrl) return url;\n    return baseUrl;\n  },\n  session({\n    session\n  }) {\n    return session;\n  },\n  jwt({\n    token\n  }) {\n    return token;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCSRFToken = createCSRFToken;\nvar _crypto = require(\"crypto\");\nfunction createCSRFToken({\n  options,\n  cookieValue,\n  isPost,\n  bodyValue\n}) {\n  if (cookieValue) {\n    const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n    const expectedCsrfTokenHash = (0, _crypto.createHash)(\"sha256\").update(`${csrfToken}${options.secret}`).digest(\"hex\");\n    if (csrfTokenHash === expectedCsrfTokenHash) {\n      const csrfTokenVerified = isPost && csrfToken === bodyValue;\n      return {\n        csrfTokenVerified,\n        csrfToken\n      };\n    }\n  }\n  const csrfToken = (0, _crypto.randomBytes)(32).toString(\"hex\");\n  const csrfTokenHash = (0, _crypto.createHash)(\"sha256\").update(`${csrfToken}${options.secret}`).digest(\"hex\");\n  const cookie = `${csrfToken}|${csrfTokenHash}`;\n  return {\n    cookie,\n    csrfToken\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createCallbackUrl = createCallbackUrl;\nasync function createCallbackUrl({\n  options,\n  paramValue,\n  cookieValue\n}) {\n  const {\n    url,\n    callbacks\n  } = options;\n  let callbackUrl = url.origin;\n  if (paramValue) {\n    callbackUrl = await callbacks.redirect({\n      url: paramValue,\n      baseUrl: url.origin\n    });\n  } else if (cookieValue) {\n    callbackUrl = await callbacks.redirect({\n      url: cookieValue,\n      baseUrl: url.origin\n    });\n  }\n  return {\n    callbackUrl,\n    callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseUrl;\nfunction parseUrl(url) {\n  var _url2;\n  const defaultUrl = new URL(\"http://localhost:3000/api/auth\");\n  if (url && !url.startsWith(\"http\")) {\n    url = `https://${url}`;\n  }\n  const _url = new URL((_url2 = url) !== null && _url2 !== void 0 ? _url2 : defaultUrl);\n  const path = (_url.pathname === \"/\" ? defaultUrl.pathname : _url.pathname).replace(/\\/$/, \"\");\n  const base = `${_url.origin}${path}`;\n  return {\n    origin: _url.origin,\n    host: _url.host,\n    path,\n    base,\n    toString: () => base\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.init = init;\nvar _crypto = require(\"crypto\");\nvar _logger = _interopRequireDefault(require(\"../utils/logger\"));\nvar _errors = require(\"./errors\");\nvar _providers = _interopRequireDefault(require(\"./lib/providers\"));\nvar _utils = require(\"./lib/utils\");\nvar cookie = _interopRequireWildcard(require(\"./lib/cookie\"));\nvar jwt = _interopRequireWildcard(require(\"../jwt\"));\nvar _defaultCallbacks = require(\"./lib/default-callbacks\");\nvar _csrfToken = require(\"./lib/csrf-token\");\nvar _callbackUrl = require(\"./lib/callback-url\");\nvar _parseUrl = _interopRequireDefault(require(\"../utils/parse-url\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function init({\n  authOptions,\n  providerId,\n  action,\n  origin,\n  cookies: reqCookies,\n  callbackUrl: reqCallbackUrl,\n  csrfToken: reqCsrfToken,\n  isPost\n}) {\n  var _authOptions$useSecur, _authOptions$events;\n  const url = (0, _parseUrl.default)(origin);\n  const secret = (0, _utils.createSecret)({\n    authOptions,\n    url\n  });\n  const {\n    providers,\n    provider\n  } = (0, _providers.default)({\n    providers: authOptions.providers,\n    url,\n    providerId\n  });\n  const maxAge = 30 * 24 * 60 * 60;\n  const options = {\n    debug: false,\n    pages: {},\n    theme: {\n      colorScheme: \"auto\",\n      logo: \"\",\n      brandColor: \"\",\n      buttonText: \"\"\n    },\n    ...authOptions,\n    url,\n    action,\n    provider,\n    cookies: {\n      ...cookie.defaultCookies((_authOptions$useSecur = authOptions.useSecureCookies) !== null && _authOptions$useSecur !== void 0 ? _authOptions$useSecur : url.base.startsWith(\"https://\")),\n      ...authOptions.cookies\n    },\n    secret,\n    providers,\n    session: {\n      strategy: authOptions.adapter ? \"database\" : \"jwt\",\n      maxAge,\n      updateAge: 24 * 60 * 60,\n      generateSessionToken: () => {\n        var _randomUUID;\n        return (_randomUUID = _crypto.randomUUID === null || _crypto.randomUUID === void 0 ? void 0 : (0, _crypto.randomUUID)()) !== null && _randomUUID !== void 0 ? _randomUUID : (0, _crypto.randomBytes)(32).toString(\"hex\");\n      },\n      ...authOptions.session\n    },\n    jwt: {\n      secret,\n      maxAge,\n      encode: jwt.encode,\n      decode: jwt.decode,\n      ...authOptions.jwt\n    },\n    events: (0, _errors.eventsErrorHandler)((_authOptions$events = authOptions.events) !== null && _authOptions$events !== void 0 ? _authOptions$events : {}, _logger.default),\n    adapter: (0, _errors.adapterErrorHandler)(authOptions.adapter, _logger.default),\n    callbacks: {\n      ..._defaultCallbacks.defaultCallbacks,\n      ...authOptions.callbacks\n    },\n    logger: _logger.default,\n    callbackUrl: url.origin\n  };\n  const cookies = [];\n  const {\n    csrfToken,\n    cookie: csrfCookie,\n    csrfTokenVerified\n  } = (0, _csrfToken.createCSRFToken)({\n    options,\n    cookieValue: reqCookies === null || reqCookies === void 0 ? void 0 : reqCookies[options.cookies.csrfToken.name],\n    isPost,\n    bodyValue: reqCsrfToken\n  });\n  options.csrfToken = csrfToken;\n  options.csrfTokenVerified = csrfTokenVerified;\n  if (csrfCookie) {\n    cookies.push({\n      name: options.cookies.csrfToken.name,\n      value: csrfCookie,\n      options: options.cookies.csrfToken.options\n    });\n  }\n  const {\n    callbackUrl,\n    callbackUrlCookie\n  } = await (0, _callbackUrl.createCallbackUrl)({\n    options,\n    cookieValue: reqCookies === null || reqCookies === void 0 ? void 0 : reqCookies[options.cookies.callbackUrl.name],\n    paramValue: reqCallbackUrl\n  });\n  options.callbackUrl = callbackUrl;\n  if (callbackUrlCookie) {\n    cookies.push({\n      name: options.cookies.callbackUrl.name,\n      value: callbackUrlCookie,\n      options: options.cookies.callbackUrl.options\n    });\n  }\n  return {\n    options,\n    cookies\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertConfig = assertConfig;\nvar _errors = require(\"../errors\");\nvar _parseUrl = _interopRequireDefault(require(\"../../utils/parse-url\"));\nvar _cookie = require(\"./cookie\");\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n  try {\n    return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n  } catch (_unused) {\n    return false;\n  }\n}\nfunction assertConfig(params) {\n  var _req$query, _req$query2, _options$useSecureCoo, _req$cookies, _options$cookies$call, _options$cookies;\n  const {\n    options,\n    req\n  } = params;\n  const warnings = [];\n  if (!warned) {\n    if (!req.origin) warnings.push(\"NEXTAUTH_URL\");\n    if (!options.secret && process.env.NODE_ENV !== \"production\") warnings.push(\"NO_SECRET\");\n    if (options.debug) warnings.push(\"DEBUG_ENABLED\");\n  }\n  if (!options.secret && process.env.NODE_ENV === \"production\") {\n    return new _errors.MissingSecret(\"Please define a `secret` in production.\");\n  }\n  if (!((_req$query = req.query) !== null && _req$query !== void 0 && _req$query.nextauth) && !req.action) {\n    return new _errors.MissingAPIRoute(\"Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.\");\n  }\n  const callbackUrlParam = (_req$query2 = req.query) === null || _req$query2 === void 0 ? void 0 : _req$query2.callbackUrl;\n  const url = (0, _parseUrl.default)(req.origin);\n  if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.base)) {\n    return new _errors.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n  }\n  const {\n    callbackUrl: defaultCallbackUrl\n  } = (0, _cookie.defaultCookies)((_options$useSecureCoo = options.useSecureCookies) !== null && _options$useSecureCoo !== void 0 ? _options$useSecureCoo : url.base.startsWith(\"https://\"));\n  const callbackUrlCookie = (_req$cookies = req.cookies) === null || _req$cookies === void 0 ? void 0 : _req$cookies[(_options$cookies$call = (_options$cookies = options.cookies) === null || _options$cookies === void 0 || (_options$cookies = _options$cookies.callbackUrl) === null || _options$cookies === void 0 ? void 0 : _options$cookies.name) !== null && _options$cookies$call !== void 0 ? _options$cookies$call : defaultCallbackUrl.name];\n  if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.base)) {\n    return new _errors.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n  }\n  let hasCredentials, hasEmail;\n  let hasTwitterOAuth2;\n  for (const provider of options.providers) {\n    if (provider.type === \"credentials\") hasCredentials = true;else if (provider.type === \"email\") hasEmail = true;else if (provider.id === \"twitter\" && provider.version === \"2.0\") hasTwitterOAuth2 = true;\n  }\n  if (hasCredentials) {\n    var _options$session;\n    const dbStrategy = ((_options$session = options.session) === null || _options$session === void 0 ? void 0 : _options$session.strategy) === \"database\";\n    const onlyCredentials = !options.providers.some(p => p.type !== \"credentials\");\n    if (dbStrategy && onlyCredentials) {\n      return new _errors.UnsupportedStrategy(\"Signin in with credentials only supported if JWT strategy is enabled\");\n    }\n    const credentialsNoAuthorize = options.providers.some(p => p.type === \"credentials\" && !p.authorize);\n    if (credentialsNoAuthorize) {\n      return new _errors.MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n    }\n  }\n  if (hasEmail) {\n    const {\n      adapter\n    } = options;\n    if (!adapter) {\n      return new _errors.MissingAdapter(\"E-mail login requires an adapter.\");\n    }\n    const missingMethods = [\"createVerificationToken\", \"useVerificationToken\", \"getUserByEmail\"].filter(method => !adapter[method]);\n    if (missingMethods.length) {\n      return new _errors.MissingAdapterMethods(`Required adapter methods were missing: ${missingMethods.join(\", \")}`);\n    }\n  }\n  if (!warned) {\n    if (hasTwitterOAuth2) warnings.push(\"TWITTER_OAUTH_2_BETA\");\n    warned = true;\n  }\n  return warnings;\n}","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\nvar __hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n */\n\nvar cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n */\n\nvar cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\n\nvar domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\n\nvar pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [opt]\n * @return {object}\n * @public\n */\n\nfunction parse(str, opt) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  var dec = (opt && opt.decode) || decode;\n  var index = 0;\n  var eqIdx = 0;\n  var endIdx = 0;\n\n  do {\n    eqIdx = str.indexOf('=', index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    endIdx = str.indexOf(';', index);\n\n    if (endIdx === -1) {\n      endIdx = len;\n    } else if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1;\n      continue;\n    }\n\n    var keyStartIdx = startIndex(str, index, eqIdx);\n    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    var key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (!__hasOwnProperty.call(obj, key)) {\n      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      var valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      if (str.charCodeAt(valStartIdx) === 0x22 /* \" */ && str.charCodeAt(valEndIdx - 1) === 0x22 /* \" */) {\n        valStartIdx++;\n        valEndIdx--;\n      }\n\n      var val = str.slice(valStartIdx, valEndIdx);\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str, index, max) {\n  do {\n    var code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str, index, min) {\n  while (index > min) {\n    var code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [opt]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, opt) {\n  var enc = (opt && opt.encode) || encodeURIComponent;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n  if (!opt) return str;\n\n  if (null != opt.maxAge) {\n    var maxAge = Math.floor(opt.maxAge);\n\n    if (!isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + maxAge;\n  }\n\n  if (opt.domain) {\n    if (!domainValueRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!pathValueRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase() : opt.priority;\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]';\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthHandler = AuthHandler;\nvar _logger = _interopRequireWildcard(require(\"../utils/logger\"));\nvar _detectOrigin = require(\"../utils/detect-origin\");\nvar routes = _interopRequireWildcard(require(\"./routes\"));\nvar _pages = _interopRequireDefault(require(\"./pages\"));\nvar _init = require(\"./init\");\nvar _assert = require(\"./lib/assert\");\nvar _cookie = require(\"./lib/cookie\");\nvar _cookie2 = require(\"cookie\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nasync function getBody(req) {\n  try {\n    return await req.json();\n  } catch (_unused) {}\n}\nasync function toInternalRequest(req) {\n  var _headers$xForwarded2;\n  if (req instanceof Request) {\n    var _req$headers$get, _url$searchParams$get, _headers$xForwarded;\n    const url = new URL(req.url);\n    const nextauth = url.pathname.split(\"/\").slice(3);\n    const headers = Object.fromEntries(req.headers);\n    const query = Object.fromEntries(url.searchParams);\n    query.nextauth = nextauth;\n    return {\n      action: nextauth[0],\n      method: req.method,\n      headers,\n      body: await getBody(req),\n      cookies: (0, _cookie2.parse)((_req$headers$get = req.headers.get(\"cookie\")) !== null && _req$headers$get !== void 0 ? _req$headers$get : \"\"),\n      providerId: nextauth[1],\n      error: (_url$searchParams$get = url.searchParams.get(\"error\")) !== null && _url$searchParams$get !== void 0 ? _url$searchParams$get : nextauth[1],\n      origin: (0, _detectOrigin.detectOrigin)((_headers$xForwarded = headers[\"x-forwarded-host\"]) !== null && _headers$xForwarded !== void 0 ? _headers$xForwarded : headers.host, headers[\"x-forwarded-proto\"]),\n      query\n    };\n  }\n  const {\n    headers\n  } = req;\n  const host = (_headers$xForwarded2 = headers === null || headers === void 0 ? void 0 : headers[\"x-forwarded-host\"]) !== null && _headers$xForwarded2 !== void 0 ? _headers$xForwarded2 : headers === null || headers === void 0 ? void 0 : headers.host;\n  req.origin = (0, _detectOrigin.detectOrigin)(host, headers === null || headers === void 0 ? void 0 : headers[\"x-forwarded-proto\"]);\n  return req;\n}\nasync function AuthHandler(params) {\n  var _req$body$callbackUrl, _req$body, _req$query2, _req$body2;\n  const {\n    options: authOptions,\n    req: incomingRequest\n  } = params;\n  const req = await toInternalRequest(incomingRequest);\n  (0, _logger.setLogger)(authOptions.logger, authOptions.debug);\n  const assertionResult = (0, _assert.assertConfig)({\n    options: authOptions,\n    req\n  });\n  if (Array.isArray(assertionResult)) {\n    assertionResult.forEach(_logger.default.warn);\n  } else if (assertionResult instanceof Error) {\n    var _req$query;\n    _logger.default.error(assertionResult.code, assertionResult);\n    const htmlPages = [\"signin\", \"signout\", \"error\", \"verify-request\"];\n    if (!htmlPages.includes(req.action) || req.method !== \"GET\") {\n      const message = `There is a problem with the server configuration. Check the server logs for more information.`;\n      return {\n        status: 500,\n        headers: [{\n          key: \"Content-Type\",\n          value: \"application/json\"\n        }],\n        body: {\n          message\n        }\n      };\n    }\n    const {\n      pages,\n      theme\n    } = authOptions;\n    const authOnErrorPage = (pages === null || pages === void 0 ? void 0 : pages.error) && ((_req$query = req.query) === null || _req$query === void 0 || (_req$query = _req$query.callbackUrl) === null || _req$query === void 0 ? void 0 : _req$query.startsWith(pages.error));\n    if (!(pages !== null && pages !== void 0 && pages.error) || authOnErrorPage) {\n      if (authOnErrorPage) {\n        _logger.default.error(\"AUTH_ON_ERROR_PAGE_ERROR\", new Error(`The error page ${pages === null || pages === void 0 ? void 0 : pages.error} should not require authentication`));\n      }\n      const render = (0, _pages.default)({\n        theme\n      });\n      return render.error({\n        error: \"configuration\"\n      });\n    }\n    return {\n      redirect: `${pages.error}?error=Configuration`\n    };\n  }\n  const {\n    action,\n    providerId,\n    error,\n    method = \"GET\"\n  } = req;\n  const {\n    options,\n    cookies\n  } = await (0, _init.init)({\n    authOptions,\n    action,\n    providerId,\n    origin: req.origin,\n    callbackUrl: (_req$body$callbackUrl = (_req$body = req.body) === null || _req$body === void 0 ? void 0 : _req$body.callbackUrl) !== null && _req$body$callbackUrl !== void 0 ? _req$body$callbackUrl : (_req$query2 = req.query) === null || _req$query2 === void 0 ? void 0 : _req$query2.callbackUrl,\n    csrfToken: (_req$body2 = req.body) === null || _req$body2 === void 0 ? void 0 : _req$body2.csrfToken,\n    cookies: req.cookies,\n    isPost: method === \"POST\"\n  });\n  const sessionStore = new _cookie.SessionStore(options.cookies.sessionToken, req, options.logger);\n  if (method === \"GET\") {\n    const render = (0, _pages.default)({\n      ...options,\n      query: req.query,\n      cookies\n    });\n    const {\n      pages\n    } = options;\n    switch (action) {\n      case \"providers\":\n        return await routes.providers(options.providers);\n      case \"session\":\n        {\n          const session = await routes.session({\n            options,\n            sessionStore\n          });\n          if (session.cookies) cookies.push(...session.cookies);\n          return {\n            ...session,\n            cookies\n          };\n        }\n      case \"csrf\":\n        return {\n          headers: [{\n            key: \"Content-Type\",\n            value: \"application/json\"\n          }],\n          body: {\n            csrfToken: options.csrfToken\n          },\n          cookies\n        };\n      case \"signin\":\n        if (pages.signIn) {\n          let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(options.callbackUrl)}`;\n          if (error) signinUrl = `${signinUrl}&error=${encodeURIComponent(error)}`;\n          return {\n            redirect: signinUrl,\n            cookies\n          };\n        }\n        return render.signin();\n      case \"signout\":\n        if (pages.signOut) return {\n          redirect: pages.signOut,\n          cookies\n        };\n        return render.signout();\n      case \"callback\":\n        if (options.provider) {\n          const callback = await routes.callback({\n            body: req.body,\n            query: req.query,\n            headers: req.headers,\n            cookies: req.cookies,\n            method,\n            options,\n            sessionStore\n          });\n          if (callback.cookies) cookies.push(...callback.cookies);\n          return {\n            ...callback,\n            cookies\n          };\n        }\n        break;\n      case \"verify-request\":\n        if (pages.verifyRequest) {\n          return {\n            redirect: pages.verifyRequest,\n            cookies\n          };\n        }\n        return render.verifyRequest();\n      case \"error\":\n        if ([\"Signin\", \"OAuthSignin\", \"OAuthCallback\", \"OAuthCreateAccount\", \"EmailCreateAccount\", \"Callback\", \"OAuthAccountNotLinked\", \"EmailSignin\", \"CredentialsSignin\", \"SessionRequired\"].includes(error)) {\n          return {\n            redirect: `${options.url}/signin?error=${error}`,\n            cookies\n          };\n        }\n        if (pages.error) {\n          return {\n            redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n            cookies\n          };\n        }\n        return render.error({\n          error: error\n        });\n      default:\n    }\n  } else if (method === \"POST\") {\n    switch (action) {\n      case \"signin\":\n        if (options.csrfTokenVerified && options.provider) {\n          const signin = await routes.signin({\n            query: req.query,\n            body: req.body,\n            options\n          });\n          if (signin.cookies) cookies.push(...signin.cookies);\n          return {\n            ...signin,\n            cookies\n          };\n        }\n        return {\n          redirect: `${options.url}/signin?csrf=true`,\n          cookies\n        };\n      case \"signout\":\n        if (options.csrfTokenVerified) {\n          const signout = await routes.signout({\n            options,\n            sessionStore\n          });\n          if (signout.cookies) cookies.push(...signout.cookies);\n          return {\n            ...signout,\n            cookies\n          };\n        }\n        return {\n          redirect: `${options.url}/signout?csrf=true`,\n          cookies\n        };\n      case \"callback\":\n        if (options.provider) {\n          if (options.provider.type === \"credentials\" && !options.csrfTokenVerified) {\n            return {\n              redirect: `${options.url}/signin?csrf=true`,\n              cookies\n            };\n          }\n          const callback = await routes.callback({\n            body: req.body,\n            query: req.query,\n            headers: req.headers,\n            cookies: req.cookies,\n            method,\n            options,\n            sessionStore\n          });\n          if (callback.cookies) cookies.push(...callback.cookies);\n          return {\n            ...callback,\n            cookies\n          };\n        }\n        break;\n      case \"_log\":\n        {\n          if (authOptions.logger) {\n            try {\n              var _req$body3;\n              const {\n                code,\n                level,\n                ...metadata\n              } = (_req$body3 = req.body) !== null && _req$body3 !== void 0 ? _req$body3 : {};\n              _logger.default[level](code, metadata);\n            } catch (error) {\n              _logger.default.error(\"LOGGER_ERROR\", error);\n            }\n          }\n          return {};\n        }\n      case \"session\":\n        {\n          if (options.csrfTokenVerified) {\n            var _req$body4;\n            const session = await routes.session({\n              options,\n              sessionStore,\n              newSession: (_req$body4 = req.body) === null || _req$body4 === void 0 ? void 0 : _req$body4.data,\n              isUpdate: true\n            });\n            if (session.cookies) cookies.push(...session.cookies);\n            return {\n              ...session,\n              cookies\n            };\n          }\n          return {\n            status: 400,\n            body: {},\n            cookies\n          };\n        }\n      default:\n    }\n  }\n  return {\n    status: 400,\n    body: `Error: This action with HTTP ${method} is not supported by NextAuth.js`\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBody = getBody;\nexports.setCookie = setCookie;\nexports.toResponse = toResponse;\nvar _cookie = require(\"cookie\");\nfunction setCookie(res, cookie) {\n  var _res$getHeader;\n  let setCookieHeader = (_res$getHeader = res.getHeader(\"Set-Cookie\")) !== null && _res$getHeader !== void 0 ? _res$getHeader : [];\n  if (!Array.isArray(setCookieHeader)) {\n    setCookieHeader = [setCookieHeader];\n  }\n  const {\n    name,\n    value,\n    options\n  } = cookie;\n  const cookieHeader = (0, _cookie.serialize)(name, value, options);\n  setCookieHeader.push(cookieHeader);\n  res.setHeader(\"Set-Cookie\", setCookieHeader);\n}\nasync function getBody(req) {\n  if (!(\"body\" in req) || !req.body || req.method !== \"POST\") return;\n  const contentType = req.headers.get(\"content-type\");\n  if (contentType !== null && contentType !== void 0 && contentType.includes(\"application/json\")) {\n    return await req.json();\n  } else if (contentType !== null && contentType !== void 0 && contentType.includes(\"application/x-www-form-urlencoded\")) {\n    const params = new URLSearchParams(await req.text());\n    return Object.fromEntries(params);\n  }\n}\nfunction toResponse(res) {\n  var _res$headers, _res$cookies, _res$status;\n  const headers = new Headers((_res$headers = res.headers) === null || _res$headers === void 0 ? void 0 : _res$headers.reduce((acc, {\n    key,\n    value\n  }) => {\n    acc[key] = value;\n    return acc;\n  }, {}));\n  (_res$cookies = res.cookies) === null || _res$cookies === void 0 || _res$cookies.forEach(cookie => {\n    const {\n      name,\n      value,\n      options\n    } = cookie;\n    const cookieHeader = (0, _cookie.serialize)(name, value, options);\n    if (headers.has(\"Set-Cookie\")) headers.append(\"Set-Cookie\", cookieHeader);else headers.set(\"Set-Cookie\", cookieHeader);\n  });\n  let body = res.body;\n  if (headers.get(\"content-type\") === \"application/json\") body = JSON.stringify(res.body);else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") body = new URLSearchParams(res.body).toString();\n  const status = res.redirect ? 302 : (_res$status = res.status) !== null && _res$status !== void 0 ? _res$status : 200;\n  const response = new Response(body, {\n    headers,\n    status\n  });\n  if (res.redirect) response.headers.set(\"Location\", res.redirect);\n  return response;\n}","import { RequestCookies } from '../cookies'\n\nimport { ResponseCookies } from '../cookies'\nimport { ReflectAdapter } from './reflect'\nimport { workAsyncStorage } from '../../../app-render/work-async-storage.external'\nimport type { RequestStore } from '../../../app-render/work-unit-async-storage.external'\n\n/**\n * @internal\n */\nexport class ReadonlyRequestCookiesError extends Error {\n  constructor() {\n    super(\n      'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\n// We use this to type some APIs but we don't construct instances directly\nexport type { ResponseCookies }\n\n// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,\n// we want to return the request cookie if it exists. For mutative methods like `.set()`,\n// we want to return the response cookie.\nexport type ReadonlyRequestCookies = Omit<\n  RequestCookies,\n  'set' | 'clear' | 'delete'\n> &\n  Pick<ResponseCookies, 'set' | 'delete'>\n\nexport class RequestCookiesAdapter {\n  public static seal(cookies: RequestCookies): ReadonlyRequestCookies {\n    return new Proxy(cookies as any, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'clear':\n          case 'delete':\n          case 'set':\n            return ReadonlyRequestCookiesError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n}\n\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')\n\nexport function getModifiedCookieValues(\n  cookies: ResponseCookies\n): ResponseCookie[] {\n  const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[\n    SYMBOL_MODIFY_COOKIE_VALUES\n  ]\n  if (!modified || !Array.isArray(modified) || modified.length === 0) {\n    return []\n  }\n\n  return modified\n}\n\ntype SetCookieArgs =\n  | [key: string, value: string, cookie?: Partial<ResponseCookie>]\n  | [options: ResponseCookie]\n\nexport function appendMutableCookies(\n  headers: Headers,\n  mutableCookies: ResponseCookies\n): boolean {\n  const modifiedCookieValues = getModifiedCookieValues(mutableCookies)\n  if (modifiedCookieValues.length === 0) {\n    return false\n  }\n\n  // Return a new response that extends the response with\n  // the modified cookies as fallbacks. `res` cookies\n  // will still take precedence.\n  const resCookies = new ResponseCookies(headers)\n  const returnedCookies = resCookies.getAll()\n\n  // Set the modified cookies as fallbacks.\n  for (const cookie of modifiedCookieValues) {\n    resCookies.set(cookie)\n  }\n\n  // Set the original cookies as the final values.\n  for (const cookie of returnedCookies) {\n    resCookies.set(cookie)\n  }\n\n  return true\n}\n\ntype ResponseCookie = NonNullable<\n  ReturnType<InstanceType<typeof ResponseCookies>['get']>\n>\n\nexport class MutableRequestCookiesAdapter {\n  public static wrap(\n    cookies: RequestCookies,\n    onUpdateCookies?: (cookies: string[]) => void\n  ): ResponseCookies {\n    const responseCookies = new ResponseCookies(new Headers())\n    for (const cookie of cookies.getAll()) {\n      responseCookies.set(cookie)\n    }\n\n    let modifiedValues: ResponseCookie[] = []\n    const modifiedCookies = new Set<string>()\n    const updateResponseCookies = () => {\n      // TODO-APP: change method of getting workStore\n      const workStore = workAsyncStorage.getStore()\n      if (workStore) {\n        workStore.pathWasRevalidated = true\n      }\n\n      const allCookies = responseCookies.getAll()\n      modifiedValues = allCookies.filter((c) => modifiedCookies.has(c.name))\n      if (onUpdateCookies) {\n        const serializedCookies: string[] = []\n        for (const cookie of modifiedValues) {\n          const tempCookies = new ResponseCookies(new Headers())\n          tempCookies.set(cookie)\n          serializedCookies.push(tempCookies.toString())\n        }\n\n        onUpdateCookies(serializedCookies)\n      }\n    }\n\n    const wrappedCookies = new Proxy(responseCookies, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          // A special symbol to get the modified cookie values\n          case SYMBOL_MODIFY_COOKIE_VALUES:\n            return modifiedValues\n\n          // TODO: Throw error if trying to set a cookie after the response\n          // headers have been set.\n          case 'delete':\n            return function (...args: [string] | [ResponseCookie]) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.delete(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n          case 'set':\n            return function (...args: SetCookieArgs) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.set(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n\n    return wrappedCookies\n  }\n}\n\nexport function createCookiesWithMutableAccessCheck(\n  requestStore: RequestStore\n): ResponseCookies {\n  const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'delete':\n          return function (...args: [string] | [ResponseCookie]) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().delete')\n            target.delete(...args)\n            return wrappedCookies\n          }\n        case 'set':\n          return function (...args: SetCookieArgs) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().set')\n            target.set(...args)\n            return wrappedCookies\n          }\n\n        default:\n          return ReflectAdapter.get(target, prop, receiver)\n      }\n    },\n  })\n  return wrappedCookies\n}\n\nexport function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {\n  return requestStore.phase === 'action'\n}\n\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */\nfunction ensureCookiesAreStillMutable(\n  requestStore: RequestStore,\n  _callingExpression: string\n) {\n  if (!areCookiesMutableInCurrentPhase(requestStore)) {\n    // TODO: maybe we can give a more precise error message based on callingExpression?\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\nexport function responseCookiesToRequestCookies(\n  responseCookies: ResponseCookies\n): RequestCookies {\n  const requestCookies = new RequestCookies(new Headers())\n  for (const cookie of responseCookies.getAll()) {\n    requestCookies.set(cookie)\n  }\n  return requestCookies\n}\n","import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n","import {\n  type ReadonlyRequestCookies,\n  type ResponseCookies,\n  areCookiesMutableInCurrentPhase,\n  RequestCookiesAdapter,\n} from '../web/spec-extension/adapters/request-cookies'\nimport { RequestCookies } from '../web/spec-extension/cookies'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n  trackSynchronousRequestDataAccessInDev,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\n/**\n * In this version of Next.js `cookies()` returns a Promise however you can still reference the properties of the underlying cookies object\n * synchronously to facilitate migration. The `UnsafeUnwrappedCookies` type is added to your code by a codemod that attempts to automatically\n * updates callsites to reflect the new Promise return type. There are some cases where `cookies()` cannot be automatically converted, namely\n * when it is used inside a synchronous function and we can't be sure the function can be made async automatically. In these cases we add an\n * explicit type case to `UnsafeUnwrappedCookies` to enable typescript to allow for the synchronous usage only where it is actually necessary.\n *\n * You should should update these callsites to either be async functions where the `cookies()` value can be awaited or you should call `cookies()`\n * from outside and await the return value before passing it into this function.\n *\n * You can find instances that require manual migration by searching for `UnsafeUnwrappedCookies` in your codebase or by search for a comment that\n * starts with `@next-codemod-error`.\n *\n * In a future version of Next.js `cookies()` will only return a Promise and you will not be able to access the underlying cookies object directly\n * without awaiting the return value first. When this change happens the type `UnsafeUnwrappedCookies` will be updated to reflect that is it no longer\n * usable.\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedCookies = ReadonlyRequestCookies\n\nexport function cookies(): Promise<ReadonlyRequestCookies> {\n  const callingExpression = 'cookies'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        // TODO(after): clarify that this only applies to pages?\n        `Route ${workStore.route} used \"cookies\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"cookies\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // cookies object without tracking\n      const underlyingCookies = createEmptyCookies()\n      return makeUntrackedExoticCookies(underlyingCookies)\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n          const error = new Error(\n            `Route ${workStore.route} used \"cookies\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, cookies)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"cookies\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n          return makeHangingCookies(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`cookies`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // We need track dynamic access here eagerly to keep continuity with\n          // how cookies has worked in PPR without cacheComponents.\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // We track dynamic access here so we don't need to wrap the cookies\n          // in individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedCookies(workUnitStore.cookies)\n          )\n        case 'private-cache':\n          if (process.env.__NEXT_CACHE_COMPONENTS) {\n            return makeUntrackedCookies(workUnitStore.cookies)\n          }\n\n          return makeUntrackedExoticCookies(workUnitStore.cookies)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          let underlyingCookies: ReadonlyRequestCookies\n\n          if (areCookiesMutableInCurrentPhase(workUnitStore)) {\n            // We can't conditionally return different types here based on the context.\n            // To avoid confusion, we always return the readonly type here.\n            underlyingCookies =\n              workUnitStore.userspaceMutableCookies as unknown as ReadonlyRequestCookies\n          } else {\n            underlyingCookies = workUnitStore.cookies\n          }\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            if (process.env.__NEXT_CACHE_COMPONENTS) {\n              return makeUntrackedCookiesWithDevWarnings(\n                underlyingCookies,\n                workStore?.route\n              )\n            }\n\n            return makeUntrackedExoticCookiesWithDevWarnings(\n              underlyingCookies,\n              workStore?.route\n            )\n          } else {\n            if (process.env.__NEXT_CACHE_COMPONENTS) {\n              return makeUntrackedCookies(underlyingCookies)\n            }\n\n            return makeUntrackedExoticCookies(underlyingCookies)\n          }\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\nfunction createEmptyCookies(): ReadonlyRequestCookies {\n  return RequestCookiesAdapter.seal(new RequestCookies(new Headers({})))\n}\n\ninterface CacheLifetime {}\nconst CachedCookies = new WeakMap<\n  CacheLifetime,\n  Promise<ReadonlyRequestCookies>\n>()\n\nfunction makeHangingCookies(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyRequestCookies> {\n  const cachedPromise = CachedCookies.get(prerenderStore)\n  if (cachedPromise) {\n    return cachedPromise\n  }\n\n  const promise = makeHangingPromise<ReadonlyRequestCookies>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`cookies()`'\n  )\n  CachedCookies.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  return promise\n}\n\nfunction makeUntrackedExoticCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: {\n      value: underlyingCookies[Symbol.iterator]\n        ? underlyingCookies[Symbol.iterator].bind(underlyingCookies)\n        : // TODO this is a polyfill for when the underlying type is ResponseCookies\n          // We should remove this and unify our cookies types. We could just let this continue to throw lazily\n          // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n          // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n          // has extra properties not available on RequestCookie instances.\n          polyfilledResponseCookiesIterator.bind(underlyingCookies),\n    },\n    size: {\n      get(): number {\n        return underlyingCookies.size\n      },\n    },\n    get: {\n      value: underlyingCookies.get.bind(underlyingCookies),\n    },\n    getAll: {\n      value: underlyingCookies.getAll.bind(underlyingCookies),\n    },\n    has: {\n      value: underlyingCookies.has.bind(underlyingCookies),\n    },\n    set: {\n      value: underlyingCookies.set.bind(underlyingCookies),\n    },\n    delete: {\n      value: underlyingCookies.delete.bind(underlyingCookies),\n    },\n    clear: {\n      value:\n        // @ts-expect-error clear is defined in RequestCookies implementation but not in the type\n        typeof underlyingCookies.clear === 'function'\n          ? // @ts-expect-error clear is defined in RequestCookies implementation but not in the type\n            underlyingCookies.clear.bind(underlyingCookies)\n          : // TODO this is a polyfill for when the underlying type is ResponseCookies\n            // We should remove this and unify our cookies types. We could just let this continue to throw lazily\n            // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesClear.bind(underlyingCookies, promise),\n    },\n    toString: {\n      value: underlyingCookies.toString.bind(underlyingCookies),\n    },\n  } satisfies CookieExtensions)\n\n  return promise\n}\n\nfunction makeUntrackedExoticCookiesWithDevWarnings(\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: {\n      value: function () {\n        const expression = '`...cookies()` or similar iteration'\n        syncIODev(route, expression)\n        return underlyingCookies[Symbol.iterator]\n          ? underlyingCookies[Symbol.iterator].apply(\n              underlyingCookies,\n              arguments as any\n            )\n          : // TODO this is a polyfill for when the underlying type is ResponseCookies\n            // We should remove this and unify our cookies types. We could just let this continue to throw lazily\n            // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesIterator.call(underlyingCookies)\n      },\n      writable: false,\n    },\n    size: {\n      get(): number {\n        const expression = '`cookies().size`'\n        syncIODev(route, expression)\n        return underlyingCookies.size\n      },\n    },\n    get: {\n      value: function get() {\n        let expression: string\n        if (arguments.length === 0) {\n          expression = '`cookies().get()`'\n        } else {\n          expression = `\\`cookies().get(${describeNameArg(arguments[0])})\\``\n        }\n        syncIODev(route, expression)\n        return underlyingCookies.get.apply(underlyingCookies, arguments as any)\n      },\n      writable: false,\n    },\n    getAll: {\n      value: function getAll() {\n        let expression: string\n        if (arguments.length === 0) {\n          expression = '`cookies().getAll()`'\n        } else {\n          expression = `\\`cookies().getAll(${describeNameArg(arguments[0])})\\``\n        }\n        syncIODev(route, expression)\n        return underlyingCookies.getAll.apply(\n          underlyingCookies,\n          arguments as any\n        )\n      },\n      writable: false,\n    },\n    has: {\n      value: function get() {\n        let expression: string\n        if (arguments.length === 0) {\n          expression = '`cookies().has()`'\n        } else {\n          expression = `\\`cookies().has(${describeNameArg(arguments[0])})\\``\n        }\n        syncIODev(route, expression)\n        return underlyingCookies.has.apply(underlyingCookies, arguments as any)\n      },\n      writable: false,\n    },\n    set: {\n      value: function set() {\n        let expression: string\n        if (arguments.length === 0) {\n          expression = '`cookies().set()`'\n        } else {\n          const arg = arguments[0]\n          if (arg) {\n            expression = `\\`cookies().set(${describeNameArg(arg)}, ...)\\``\n          } else {\n            expression = '`cookies().set(...)`'\n          }\n        }\n        syncIODev(route, expression)\n        return underlyingCookies.set.apply(underlyingCookies, arguments as any)\n      },\n      writable: false,\n    },\n    delete: {\n      value: function () {\n        let expression: string\n        if (arguments.length === 0) {\n          expression = '`cookies().delete()`'\n        } else if (arguments.length === 1) {\n          expression = `\\`cookies().delete(${describeNameArg(arguments[0])})\\``\n        } else {\n          expression = `\\`cookies().delete(${describeNameArg(arguments[0])}, ...)\\``\n        }\n        syncIODev(route, expression)\n        return underlyingCookies.delete.apply(\n          underlyingCookies,\n          arguments as any\n        )\n      },\n      writable: false,\n    },\n    clear: {\n      value: function clear() {\n        const expression = '`cookies().clear()`'\n        syncIODev(route, expression)\n        // @ts-ignore clear is defined in RequestCookies implementation but not in the type\n        return typeof underlyingCookies.clear === 'function'\n          ? // @ts-ignore clear is defined in RequestCookies implementation but not in the type\n            underlyingCookies.clear.apply(underlyingCookies, arguments)\n          : // TODO this is a polyfill for when the underlying type is ResponseCookies\n            // We should remove this and unify our cookies types. We could just let this continue to throw lazily\n            // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesClear.call(underlyingCookies, promise)\n      },\n      writable: false,\n    },\n    toString: {\n      value: function toString() {\n        const expression = '`cookies().toString()` or implicit casting'\n        syncIODev(route, expression)\n        return underlyingCookies.toString.apply(\n          underlyingCookies,\n          arguments as any\n        )\n      },\n      writable: false,\n    },\n  } satisfies CookieExtensions)\n\n  return promise\n}\n\n// Similar to `makeUntrackedExoticCookiesWithDevWarnings`, but just logging the\n// sync access without actually defining the cookies properties on the promise.\nfunction makeUntrackedCookiesWithDevWarnings(\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(underlyingCookies)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case Symbol.iterator: {\n          warnForSyncAccess(route, '`...cookies()` or similar iteration')\n          break\n        }\n        case 'size':\n        case 'get':\n        case 'getAll':\n        case 'has':\n        case 'set':\n        case 'delete':\n        case 'clear':\n        case 'toString': {\n          warnForSyncAccess(route, `\\`cookies().${prop}\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the cookies object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  CachedCookies.set(underlyingCookies, proxiedPromise)\n\n  return proxiedPromise\n}\n\nfunction describeNameArg(arg: unknown) {\n  return typeof arg === 'object' &&\n    arg !== null &&\n    typeof (arg as any).name === 'string'\n    ? `'${(arg as any).name}'`\n    : typeof arg === 'string'\n      ? `'${arg}'`\n      : '...'\n}\n\nfunction syncIODev(route: string | undefined, expression: string) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'request':\n        if (workUnitStore.prerenderPhase === true) {\n          // When we're rendering dynamically in dev, we need to advance out of\n          // the Prerender environment when we read Request data synchronously.\n          trackSynchronousRequestDataAccessInDev(workUnitStore)\n        }\n        break\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-runtime':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // In all cases we warn normally\n  warnForSyncAccess(route, expression)\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createCookiesAccessError\n)\n\nfunction createCookiesAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`cookies()\\` should be awaited before using its value. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction polyfilledResponseCookiesIterator(\n  this: ResponseCookies\n): ReturnType<ReadonlyRequestCookies[typeof Symbol.iterator]> {\n  return this.getAll()\n    .map((c) => [c.name, c] as [string, any])\n    .values()\n}\n\nfunction polyfilledResponseCookiesClear(\n  this: ResponseCookies,\n  returnable: Promise<ReadonlyRequestCookies>\n): typeof returnable {\n  for (const cookie of this.getAll()) {\n    this.delete(cookie.name)\n  }\n  return returnable\n}\n\ntype CookieExtensions = {\n  [K in keyof ReadonlyRequestCookies | 'clear']: unknown\n}\n","import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n","import {\n  HeadersAdapter,\n  type ReadonlyHeaders,\n} from '../web/spec-extension/adapters/headers'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n  trackSynchronousRequestDataAccessInDev,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\n/**\n * In this version of Next.js `headers()` returns a Promise however you can still reference the properties of the underlying Headers instance\n * synchronously to facilitate migration. The `UnsafeUnwrappedHeaders` type is added to your code by a codemod that attempts to automatically\n * updates callsites to reflect the new Promise return type. There are some cases where `headers()` cannot be automatically converted, namely\n * when it is used inside a synchronous function and we can't be sure the function can be made async automatically. In these cases we add an\n * explicit type case to `UnsafeUnwrappedHeaders` to enable typescript to allow for the synchronous usage only where it is actually necessary.\n *\n * You should should update these callsites to either be async functions where the `headers()` value can be awaited or you should call `headers()`\n * from outside and await the return value before passing it into this function.\n *\n * You can find instances that require manual migration by searching for `UnsafeUnwrappedHeaders` in your codebase or by search for a comment that\n * starts with `@next-codemod-error`.\n *\n * In a future version of Next.js `headers()` will only return a Promise and you will not be able to access the underlying Headers instance\n * without awaiting the return value first. When this change happens the type `UnsafeUnwrappedHeaders` will be updated to reflect that is it no longer\n * usable.\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedHeaders = ReadonlyHeaders\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */\nexport function headers(): Promise<ReadonlyHeaders> {\n  const callingExpression = 'headers'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        `Route ${workStore.route} used \"headers\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"headers\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // headers object without tracking\n      const underlyingHeaders = HeadersAdapter.seal(new Headers({}))\n      return makeUntrackedExoticHeaders(underlyingHeaders)\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"headers\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"headers\" inside \"use cache: private\". Accessing \"headers\" inside a private cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"headers\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'prerender':\n        case 'prerender-runtime':\n          return makeHangingHeaders(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`headers`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // PPR Prerender (no cacheComponents)\n          // We are prerendering with PPR. We need track dynamic access here eagerly\n          // to keep continuity with how headers has worked in PPR without cacheComponents.\n          // TODO consider switching the semantic to throw on property access instead\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // Legacy Prerender\n          // We are in a legacy static generation mode while prerendering\n          // We track dynamic access here so we don't need to wrap the headers in\n          // individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            if (process.env.__NEXT_CACHE_COMPONENTS) {\n              return makeUntrackedHeadersWithDevWarnings(\n                workUnitStore.headers,\n                workStore?.route\n              )\n            }\n\n            return makeUntrackedExoticHeadersWithDevWarnings(\n              workUnitStore.headers,\n              workStore?.route\n            )\n          } else {\n            if (process.env.__NEXT_CACHE_COMPONENTS) {\n              return makeUntrackedHeaders(workUnitStore.headers)\n            }\n\n            return makeUntrackedExoticHeaders(workUnitStore.headers)\n          }\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\ninterface CacheLifetime {}\nconst CachedHeaders = new WeakMap<CacheLifetime, Promise<ReadonlyHeaders>>()\n\nfunction makeHangingHeaders(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(prerenderStore)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeHangingPromise<ReadonlyHeaders>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`headers()`'\n  )\n  CachedHeaders.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  return promise\n}\n\nfunction makeUntrackedExoticHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  Object.defineProperties(promise, {\n    append: {\n      value: underlyingHeaders.append.bind(underlyingHeaders),\n    },\n    delete: {\n      value: underlyingHeaders.delete.bind(underlyingHeaders),\n    },\n    get: {\n      value: underlyingHeaders.get.bind(underlyingHeaders),\n    },\n    has: {\n      value: underlyingHeaders.has.bind(underlyingHeaders),\n    },\n    set: {\n      value: underlyingHeaders.set.bind(underlyingHeaders),\n    },\n    getSetCookie: {\n      value: underlyingHeaders.getSetCookie.bind(underlyingHeaders),\n    },\n    forEach: {\n      value: underlyingHeaders.forEach.bind(underlyingHeaders),\n    },\n    keys: {\n      value: underlyingHeaders.keys.bind(underlyingHeaders),\n    },\n    values: {\n      value: underlyingHeaders.values.bind(underlyingHeaders),\n    },\n    entries: {\n      value: underlyingHeaders.entries.bind(underlyingHeaders),\n    },\n    [Symbol.iterator]: {\n      value: underlyingHeaders[Symbol.iterator].bind(underlyingHeaders),\n    },\n  } satisfies HeadersExtensions)\n\n  return promise\n}\n\nfunction makeUntrackedExoticHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route?: string\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(underlyingHeaders)\n\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  Object.defineProperties(promise, {\n    append: {\n      value: function append() {\n        const expression = `\\`headers().append(${describeNameArg(arguments[0])}, ...)\\``\n        syncIODev(route, expression)\n        return underlyingHeaders.append.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    delete: {\n      value: function _delete() {\n        const expression = `\\`headers().delete(${describeNameArg(arguments[0])})\\``\n        syncIODev(route, expression)\n        return underlyingHeaders.delete.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    get: {\n      value: function get() {\n        const expression = `\\`headers().get(${describeNameArg(arguments[0])})\\``\n        syncIODev(route, expression)\n        return underlyingHeaders.get.apply(underlyingHeaders, arguments as any)\n      },\n    },\n    has: {\n      value: function has() {\n        const expression = `\\`headers().has(${describeNameArg(arguments[0])})\\``\n        syncIODev(route, expression)\n        return underlyingHeaders.has.apply(underlyingHeaders, arguments as any)\n      },\n    },\n    set: {\n      value: function set() {\n        const expression = `\\`headers().set(${describeNameArg(arguments[0])}, ...)\\``\n        syncIODev(route, expression)\n        return underlyingHeaders.set.apply(underlyingHeaders, arguments as any)\n      },\n    },\n    getSetCookie: {\n      value: function getSetCookie() {\n        const expression = '`headers().getSetCookie()`'\n        syncIODev(route, expression)\n        return underlyingHeaders.getSetCookie.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    forEach: {\n      value: function forEach() {\n        const expression = '`headers().forEach(...)`'\n        syncIODev(route, expression)\n        return underlyingHeaders.forEach.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    keys: {\n      value: function keys() {\n        const expression = '`headers().keys()`'\n        syncIODev(route, expression)\n        return underlyingHeaders.keys.apply(underlyingHeaders, arguments as any)\n      },\n    },\n    values: {\n      value: function values() {\n        const expression = '`headers().values()`'\n        syncIODev(route, expression)\n        return underlyingHeaders.values.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    entries: {\n      value: function entries() {\n        const expression = '`headers().entries()`'\n        syncIODev(route, expression)\n        return underlyingHeaders.entries.apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n    [Symbol.iterator]: {\n      value: function () {\n        const expression = '`...headers()` or similar iteration'\n        syncIODev(route, expression)\n        return underlyingHeaders[Symbol.iterator].apply(\n          underlyingHeaders,\n          arguments as any\n        )\n      },\n    },\n  } satisfies HeadersExtensions)\n\n  return promise\n}\n\n// Similar to `makeUntrackedExoticHeadersWithDevWarnings`, but just logging the\n// sync access without actually defining the headers properties on the promise.\nfunction makeUntrackedHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route?: string\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(underlyingHeaders)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case Symbol.iterator: {\n          warnForSyncAccess(route, '`...headers()` or similar iteration')\n          break\n        }\n        case 'append':\n        case 'delete':\n        case 'get':\n        case 'has':\n        case 'set':\n        case 'getSetCookie':\n        case 'forEach':\n        case 'keys':\n        case 'values':\n        case 'entries': {\n          warnForSyncAccess(route, `\\`headers().${prop}\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the headers object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  CachedHeaders.set(underlyingHeaders, proxiedPromise)\n\n  return proxiedPromise\n}\n\nfunction describeNameArg(arg: unknown) {\n  return typeof arg === 'string' ? `'${arg}'` : '...'\n}\n\nfunction syncIODev(route: string | undefined, expression: string) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'request':\n        if (workUnitStore.prerenderPhase === true) {\n          // When we're rendering dynamically in dev, we need to advance out of\n          // the Prerender environment when we read Request data synchronously.\n          trackSynchronousRequestDataAccessInDev(workUnitStore)\n        }\n        break\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-runtime':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // In all cases we warn normally\n  warnForSyncAccess(route, expression)\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createHeadersAccessError\n)\n\nfunction createHeadersAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`headers()\\` should be awaited before using its value. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\ntype HeadersExtensions = {\n  [K in keyof ReadonlyHeaders]: unknown\n}\n","import {\n  getDraftModeProviderForCacheScope,\n  throwForMissingRequestStore,\n} from '../app-render/work-unit-async-storage.external'\n\nimport type { DraftModeProvider } from '../async-storage/draft-mode-provider'\n\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n  trackSynchronousRequestDataAccessInDev,\n} from '../app-render/dynamic-rendering'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\n/**\n * In this version of Next.js `draftMode()` returns a Promise however you can still reference the properties of the underlying draftMode object\n * synchronously to facilitate migration. The `UnsafeUnwrappedDraftMode` type is added to your code by a codemod that attempts to automatically\n * updates callsites to reflect the new Promise return type. There are some cases where `draftMode()` cannot be automatically converted, namely\n * when it is used inside a synchronous function and we can't be sure the function can be made async automatically. In these cases we add an\n * explicit type case to `UnsafeUnwrappedDraftMode` to enable typescript to allow for the synchronous usage only where it is actually necessary.\n *\n * You should should update these callsites to either be async functions where the `draftMode()` value can be awaited or you should call `draftMode()`\n * from outside and await the return value before passing it into this function.\n *\n * You can find instances that require manual migration by searching for `UnsafeUnwrappedDraftMode` in your codebase or by search for a comment that\n * starts with `@next-codemod-error`.\n *\n * In a future version of Next.js `draftMode()` will only return a Promise and you will not be able to access the underlying draftMode object directly\n * without awaiting the return value first. When this change happens the type `UnsafeUnwrappedDraftMode` will be updated to reflect that is it no longer\n * usable.\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedDraftMode = DraftMode\n\nexport function draftMode(): Promise<DraftMode> {\n  const callingExpression = 'draftMode'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore || !workUnitStore) {\n    throwForMissingRequestStore(callingExpression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-runtime':\n      // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n      return delayUntilRuntimeStage(\n        workUnitStore,\n        createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n      )\n    case 'request':\n      return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n      // the outmost work unit store is a request store (or a runtime prerender),\n      // and if draft mode is enabled.\n      const draftModeProvider = getDraftModeProviderForCacheScope(\n        workStore,\n        workUnitStore\n      )\n\n      if (draftModeProvider) {\n        return createOrGetCachedDraftMode(draftModeProvider, workStore)\n      }\n\n    // Otherwise, we fall through to providing an empty draft mode.\n    // eslint-disable-next-line no-fallthrough\n    case 'prerender':\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // Return empty draft mode\n      return createOrGetCachedDraftMode(null, workStore)\n\n    default:\n      return workUnitStore satisfies never\n  }\n}\n\nfunction createOrGetCachedDraftMode(\n  draftModeProvider: DraftModeProvider | null,\n  workStore: WorkStore | undefined\n): Promise<DraftMode> {\n  const cacheKey = draftModeProvider ?? NullDraftMode\n  const cachedDraftMode = CachedDraftModes.get(cacheKey)\n\n  if (cachedDraftMode) {\n    return cachedDraftMode\n  }\n\n  let promise: Promise<DraftMode>\n\n  if (process.env.NODE_ENV === 'development' && !workStore?.isPrefetchRequest) {\n    const route = workStore?.route\n\n    if (process.env.__NEXT_CACHE_COMPONENTS) {\n      return createDraftModeWithDevWarnings(draftModeProvider, route)\n    }\n\n    promise = createExoticDraftModeWithDevWarnings(draftModeProvider, route)\n  } else {\n    if (process.env.__NEXT_CACHE_COMPONENTS) {\n      return Promise.resolve(new DraftMode(draftModeProvider))\n    }\n\n    promise = createExoticDraftMode(draftModeProvider)\n  }\n\n  CachedDraftModes.set(cacheKey, promise)\n\n  return promise\n}\n\ninterface CacheLifetime {}\nconst NullDraftMode = {}\nconst CachedDraftModes = new WeakMap<CacheLifetime, Promise<DraftMode>>()\n\nfunction createExoticDraftMode(\n  underlyingProvider: null | DraftModeProvider\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  Object.defineProperty(promise, 'isEnabled', {\n    get() {\n      return instance.isEnabled\n    },\n    enumerable: true,\n    configurable: true,\n  })\n  ;(promise as any).enable = instance.enable.bind(instance)\n  ;(promise as any).disable = instance.disable.bind(instance)\n\n  return promise\n}\n\nfunction createExoticDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  Object.defineProperty(promise, 'isEnabled', {\n    get() {\n      const expression = '`draftMode().isEnabled`'\n      syncIODev(route, expression)\n      return instance.isEnabled\n    },\n    enumerable: true,\n    configurable: true,\n  })\n\n  Object.defineProperty(promise, 'enable', {\n    value: function get() {\n      const expression = '`draftMode().enable()`'\n      syncIODev(route, expression)\n      return instance.enable.apply(instance, arguments as any)\n    },\n  })\n\n  Object.defineProperty(promise, 'disable', {\n    value: function get() {\n      const expression = '`draftMode().disable()`'\n      syncIODev(route, expression)\n      return instance.disable.apply(instance, arguments as any)\n    },\n  })\n\n  return promise\n}\n\n// Similar to `createExoticDraftModeWithDevWarnings`, but just logging the sync\n// access without actually defining the draftMode properties on the promise.\nfunction createDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'isEnabled':\n          warnForSyncAccess(route, `\\`draftMode().${prop}\\``)\n          break\n        case 'enable':\n        case 'disable': {\n          warnForSyncAccess(route, `\\`draftMode().${prop}()\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the draftMode object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  return proxiedPromise\n}\n\nclass DraftMode {\n  /**\n   * @internal - this declaration is stripped via `tsc --stripInternal`\n   */\n  private readonly _provider: null | DraftModeProvider\n\n  constructor(provider: null | DraftModeProvider) {\n    this._provider = provider\n  }\n  get isEnabled() {\n    if (this._provider !== null) {\n      return this._provider.isEnabled\n    }\n    return false\n  }\n  public enable() {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    trackDynamicDraftMode('draftMode().enable()', this.enable)\n    if (this._provider !== null) {\n      this._provider.enable()\n    }\n  }\n  public disable() {\n    trackDynamicDraftMode('draftMode().disable()', this.disable)\n    if (this._provider !== null) {\n      this._provider.disable()\n    }\n  }\n}\n\nfunction syncIODev(route: string | undefined, expression: string) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'request':\n        if (workUnitStore.prerenderPhase === true) {\n          // When we're rendering dynamically in dev, we need to advance out of\n          // the Prerender environment when we read Request data synchronously.\n          trackSynchronousRequestDataAccessInDev(workUnitStore)\n        }\n        break\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-runtime':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // In all cases we warn normally\n  warnForSyncAccess(route, expression)\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createDraftModeAccessError\n)\n\nfunction createDraftModeAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`draftMode()\\` should be awaited before using its value. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction trackDynamicDraftMode(expression: string, constructorOpt: Function) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    if (workUnitStore?.phase === 'after') {\n      throw new Error(\n        `Route ${workStore.route} used \"${expression}\" inside \\`after\\`. The enabled status of draftMode can be read inside \\`after\\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, constructorOpt)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"${expression}\" inside a function cached with \"unstable_cache(...)\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n\n        case 'prerender':\n        case 'prerender-runtime': {\n          const error = new Error(\n            `Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`\n          )\n          return abortAndThrowOnSynchronousRequestDataAccess(\n            workStore.route,\n            expression,\n            error,\n            workUnitStore\n          )\n        }\n        case 'prerender-client':\n          const exportName = '`draftMode`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          workUnitStore.revalidate = 0\n\n          const err = new DynamicServerError(\n            `Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n          )\n          workStore.dynamicUsageDescription = expression\n          workStore.dynamicUsageStack = err.stack\n\n          throw err\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n}\n","module.exports.cookies = require('./dist/server/request/cookies').cookies\nmodule.exports.headers = require('./dist/server/request/headers').headers\nmodule.exports.draftMode = require('./dist/server/request/draft-mode').draftMode\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.getServerSession = getServerSession;\nexports.unstable_getServerSession = unstable_getServerSession;\nvar _core = require(\"../core\");\nvar _utils = require(\"./utils\");\nasync function NextAuthApiHandler(req, res, options) {\n  var _options$secret, _ref, _options$jwt$secret, _options$jwt, _ref2, _handler$status, _handler$cookies, _handler$headers;\n  const {\n    nextauth,\n    ...query\n  } = req.query;\n  (_options$secret = options.secret) !== null && _options$secret !== void 0 ? _options$secret : options.secret = (_ref = (_options$jwt$secret = (_options$jwt = options.jwt) === null || _options$jwt === void 0 ? void 0 : _options$jwt.secret) !== null && _options$jwt$secret !== void 0 ? _options$jwt$secret : process.env.NEXTAUTH_SECRET) !== null && _ref !== void 0 ? _ref : process.env.AUTH_SECRET;\n  const handler = await (0, _core.AuthHandler)({\n    req: {\n      body: req.body,\n      query,\n      cookies: req.cookies,\n      headers: req.headers,\n      method: req.method,\n      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],\n      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],\n      error: (_ref2 = req.query.error) !== null && _ref2 !== void 0 ? _ref2 : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]\n    },\n    options\n  });\n  res.status((_handler$status = handler.status) !== null && _handler$status !== void 0 ? _handler$status : 200);\n  (_handler$cookies = handler.cookies) === null || _handler$cookies === void 0 || _handler$cookies.forEach(cookie => (0, _utils.setCookie)(res, cookie));\n  (_handler$headers = handler.headers) === null || _handler$headers === void 0 || _handler$headers.forEach(h => res.setHeader(h.key, h.value));\n  if (handler.redirect) {\n    var _req$body;\n    if (((_req$body = req.body) === null || _req$body === void 0 ? void 0 : _req$body.json) !== \"true\") {\n      res.status(302).setHeader(\"Location\", handler.redirect);\n      res.end();\n      return;\n    }\n    return res.json({\n      url: handler.redirect\n    });\n  }\n  return res.send(handler.body);\n}\nasync function NextAuthRouteHandler(req, context, options) {\n  var _options$secret2, _process$env$NEXTAUTH, _await$context$params, _query$error;\n  (_options$secret2 = options.secret) !== null && _options$secret2 !== void 0 ? _options$secret2 : options.secret = (_process$env$NEXTAUTH = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : process.env.AUTH_SECRET;\n  const {\n    headers,\n    cookies\n  } = require(\"next/headers\");\n  const nextauth = (_await$context$params = await context.params) === null || _await$context$params === void 0 ? void 0 : _await$context$params.nextauth;\n  const query = Object.fromEntries(req.nextUrl.searchParams);\n  const body = await (0, _utils.getBody)(req);\n  const internalResponse = await (0, _core.AuthHandler)({\n    req: {\n      body,\n      query,\n      cookies: Object.fromEntries((await cookies()).getAll().map(c => [c.name, c.value])),\n      headers: Object.fromEntries(await headers()),\n      method: req.method,\n      action: nextauth === null || nextauth === void 0 ? void 0 : nextauth[0],\n      providerId: nextauth === null || nextauth === void 0 ? void 0 : nextauth[1],\n      error: (_query$error = query.error) !== null && _query$error !== void 0 ? _query$error : nextauth === null || nextauth === void 0 ? void 0 : nextauth[1]\n    },\n    options\n  });\n  const response = (0, _utils.toResponse)(internalResponse);\n  const redirect = response.headers.get(\"Location\");\n  if ((body === null || body === void 0 ? void 0 : body.json) === \"true\" && redirect) {\n    response.headers.delete(\"Location\");\n    response.headers.set(\"Content-Type\", \"application/json\");\n    return new Response(JSON.stringify({\n      url: redirect\n    }), {\n      status: internalResponse.status,\n      headers: response.headers\n    });\n  }\n  return response;\n}\nfunction NextAuth(...args) {\n  var _args$;\n  if (args.length === 1) {\n    return async (req, res) => {\n      if (res !== null && res !== void 0 && res.params) {\n        return await NextAuthRouteHandler(req, res, args[0]);\n      }\n      return await NextAuthApiHandler(req, res, args[0]);\n    };\n  }\n  if ((_args$ = args[1]) !== null && _args$ !== void 0 && _args$.params) {\n    return NextAuthRouteHandler(...args);\n  }\n  return NextAuthApiHandler(...args);\n}\nvar _default = exports.default = NextAuth;\nasync function getServerSession(...args) {\n  var _options, _options$secret3, _process$env$NEXTAUTH2;\n  const isRSC = args.length === 0 || args.length === 1;\n  let req, res, options;\n  if (isRSC) {\n    options = Object.assign({}, args[0], {\n      providers: []\n    });\n    const {\n      headers,\n      cookies\n    } = require(\"next/headers\");\n    req = {\n      headers: Object.fromEntries(await headers()),\n      cookies: Object.fromEntries((await cookies()).getAll().map(c => [c.name, c.value]))\n    };\n    res = {\n      getHeader() {},\n      setCookie() {},\n      setHeader() {}\n    };\n  } else {\n    req = args[0];\n    res = args[1];\n    options = Object.assign({}, args[2], {\n      providers: []\n    });\n  }\n  (_options$secret3 = (_options = options).secret) !== null && _options$secret3 !== void 0 ? _options$secret3 : _options.secret = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_SECRET) !== null && _process$env$NEXTAUTH2 !== void 0 ? _process$env$NEXTAUTH2 : process.env.AUTH_SECRET;\n  const session = await (0, _core.AuthHandler)({\n    options,\n    req: {\n      action: \"session\",\n      method: \"GET\",\n      cookies: req.cookies,\n      headers: req.headers\n    }\n  });\n  const {\n    body,\n    cookies,\n    status = 200\n  } = session;\n  cookies === null || cookies === void 0 || cookies.forEach(cookie => (0, _utils.setCookie)(res, cookie));\n  if (body && typeof body !== \"string\" && Object.keys(body).length) {\n    if (status === 200) {\n      if (isRSC) delete body.expires;\n      return body;\n    }\n    throw new Error(body.message);\n  }\n  return null;\n}\nlet deprecatedWarningShown = false;\nasync function unstable_getServerSession(...args) {\n  if (!deprecatedWarningShown && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"`unstable_getServerSession` has been renamed to `getServerSession`.\");\n    deprecatedWarningShown = true;\n  }\n  return await getServerSession(...args);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {};\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _next.default;\n  }\n});\nvar _types = require(\"./core/types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _types[key];\n    }\n  });\n});\nvar _next = _interopRequireWildcard(require(\"./next\"));\nObject.keys(_next).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _next[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _next[key];\n    }\n  });\n});\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Credentials;\nfunction Credentials(options) {\n  return {\n    id: \"credentials\",\n    name: \"Credentials\",\n    type: \"credentials\",\n    credentials: {},\n    authorize: () => null,\n    options\n  };\n}","/*\r\n Copyright (c) 2012 Nevins Bartolomeo <nevins.bartolomeo@gmail.com>\r\n Copyright (c) 2012 Shane Girish <shaneGirish@gmail.com>\r\n Copyright (c) 2014 Daniel Wirtz <dcode@dcode.io>\r\n\r\n Redistribution and use in source and binary forms, with or without\r\n modification, are permitted provided that the following conditions\r\n are met:\r\n 1. Redistributions of source code must retain the above copyright\r\n notice, this list of conditions and the following disclaimer.\r\n 2. Redistributions in binary form must reproduce the above copyright\r\n notice, this list of conditions and the following disclaimer in the\r\n documentation and/or other materials provided with the distribution.\r\n 3. The name of the author may not be used to endorse or promote products\r\n derived from this software without specific prior written permission.\r\n\r\n THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\r\n IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\r\n OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\r\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\r\n NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\r\n THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>\r\n * Released under the Apache License, Version 2.0\r\n * see: https://github.com/dcodeIO/bcrypt.js for details\r\n */\r\n(function(global, factory) {\r\n\r\n    /* AMD */ if (typeof define === 'function' && define[\"amd\"])\r\n        define([], factory);\r\n    /* CommonJS */ else if (typeof require === 'function' && typeof module === \"object\" && module && module[\"exports\"])\r\n        module[\"exports\"] = factory();\r\n    /* Global */ else\r\n        (global[\"dcodeIO\"] = global[\"dcodeIO\"] || {})[\"bcrypt\"] = factory();\r\n\r\n}(this, function() {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * bcrypt namespace.\r\n     * @type {Object.<string,*>}\r\n     */\r\n    var bcrypt = {};\r\n\r\n    /**\r\n     * The random implementation to use as a fallback.\r\n     * @type {?function(number):!Array.<number>}\r\n     * @inner\r\n     */\r\n    var randomFallback = null;\r\n\r\n    /**\r\n     * Generates cryptographically secure random bytes.\r\n     * @function\r\n     * @param {number} len Bytes length\r\n     * @returns {!Array.<number>} Random bytes\r\n     * @throws {Error} If no random implementation is available\r\n     * @inner\r\n     */\r\n    function random(len) {\r\n        /* node */ if (typeof module !== 'undefined' && module && module['exports'])\r\n            try {\r\n                return require(\"crypto\")['randomBytes'](len);\r\n            } catch (e) {}\r\n        /* WCA */ try {\r\n            var a; (self['crypto']||self['msCrypto'])['getRandomValues'](a = new Uint32Array(len));\r\n            return Array.prototype.slice.call(a);\r\n        } catch (e) {}\r\n        /* fallback */ if (!randomFallback)\r\n            throw Error(\"Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative\");\r\n        return randomFallback(len);\r\n    }\r\n\r\n    // Test if any secure randomness source is available\r\n    var randomAvailable = false;\r\n    try {\r\n        random(1);\r\n        randomAvailable = true;\r\n    } catch (e) {}\r\n\r\n    // Default fallback, if any\r\n    randomFallback = null;\r\n    /**\r\n     * Sets the pseudo random number generator to use as a fallback if neither node's `crypto` module nor the Web Crypto\r\n     *  API is available. Please note: It is highly important that the PRNG used is cryptographically secure and that it\r\n     *  is seeded properly!\r\n     * @param {?function(number):!Array.<number>} random Function taking the number of bytes to generate as its\r\n     *  sole argument, returning the corresponding array of cryptographically secure random byte values.\r\n     * @see http://nodejs.org/api/crypto.html\r\n     * @see http://www.w3.org/TR/WebCryptoAPI/\r\n     */\r\n    bcrypt.setRandomFallback = function(random) {\r\n        randomFallback = random;\r\n    };\r\n\r\n    /**\r\n     * Synchronously generates a salt.\r\n     * @param {number=} rounds Number of rounds to use, defaults to 10 if omitted\r\n     * @param {number=} seed_length Not supported.\r\n     * @returns {string} Resulting salt\r\n     * @throws {Error} If a random fallback is required but not set\r\n     * @expose\r\n     */\r\n    bcrypt.genSaltSync = function(rounds, seed_length) {\r\n        rounds = rounds || GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        if (typeof rounds !== 'number')\r\n            throw Error(\"Illegal arguments: \"+(typeof rounds)+\", \"+(typeof seed_length));\r\n        if (rounds < 4)\r\n            rounds = 4;\r\n        else if (rounds > 31)\r\n            rounds = 31;\r\n        var salt = [];\r\n        salt.push(\"$2a$\");\r\n        if (rounds < 10)\r\n            salt.push(\"0\");\r\n        salt.push(rounds.toString());\r\n        salt.push('$');\r\n        salt.push(base64_encode(random(BCRYPT_SALT_LEN), BCRYPT_SALT_LEN)); // May throw\r\n        return salt.join('');\r\n    };\r\n\r\n    /**\r\n     * Asynchronously generates a salt.\r\n     * @param {(number|function(Error, string=))=} rounds Number of rounds to use, defaults to 10 if omitted\r\n     * @param {(number|function(Error, string=))=} seed_length Not supported.\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting salt\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.genSalt = function(rounds, seed_length, callback) {\r\n        if (typeof seed_length === 'function')\r\n            callback = seed_length,\r\n            seed_length = undefined; // Not supported.\r\n        if (typeof rounds === 'function')\r\n            callback = rounds,\r\n            rounds = undefined;\r\n        if (typeof rounds === 'undefined')\r\n            rounds = GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        else if (typeof rounds !== 'number')\r\n            throw Error(\"illegal arguments: \"+(typeof rounds));\r\n\r\n        function _async(callback) {\r\n            nextTick(function() { // Pretty thin, but salting is fast enough\r\n                try {\r\n                    callback(null, bcrypt.genSaltSync(rounds));\r\n                } catch (err) {\r\n                    callback(err);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Synchronously generates a hash for the given string.\r\n     * @param {string} s String to hash\r\n     * @param {(number|string)=} salt Salt length to generate or salt to use, default to 10\r\n     * @returns {string} Resulting hash\r\n     * @expose\r\n     */\r\n    bcrypt.hashSync = function(s, salt) {\r\n        if (typeof salt === 'undefined')\r\n            salt = GENSALT_DEFAULT_LOG2_ROUNDS;\r\n        if (typeof salt === 'number')\r\n            salt = bcrypt.genSaltSync(salt);\r\n        if (typeof s !== 'string' || typeof salt !== 'string')\r\n            throw Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof salt));\r\n        return _hash(s, salt);\r\n    };\r\n\r\n    /**\r\n     * Asynchronously generates a hash for the given string.\r\n     * @param {string} s String to hash\r\n     * @param {number|string} salt Salt length to generate or salt to use\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash\r\n     * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\r\n     *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.hash = function(s, salt, callback, progressCallback) {\r\n\r\n        function _async(callback) {\r\n            if (typeof s === 'string' && typeof salt === 'number')\r\n                bcrypt.genSalt(salt, function(err, salt) {\r\n                    _hash(s, salt, callback, progressCallback);\r\n                });\r\n            else if (typeof s === 'string' && typeof salt === 'string')\r\n                _hash(s, salt, callback, progressCallback);\r\n            else\r\n                nextTick(callback.bind(this, Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof salt))));\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Compares two strings of the same length in constant time.\r\n     * @param {string} known Must be of the correct length\r\n     * @param {string} unknown Must be the same length as `known`\r\n     * @returns {boolean}\r\n     * @inner\r\n     */\r\n    function safeStringCompare(known, unknown) {\r\n        var right = 0,\r\n            wrong = 0;\r\n        for (var i=0, k=known.length; i<k; ++i) {\r\n            if (known.charCodeAt(i) === unknown.charCodeAt(i))\r\n                ++right;\r\n            else\r\n                ++wrong;\r\n        }\r\n        // Prevent removal of unused variables (never true, actually)\r\n        if (right < 0)\r\n            return false;\r\n        return wrong === 0;\r\n    }\r\n\r\n    /**\r\n     * Synchronously tests a string against a hash.\r\n     * @param {string} s String to compare\r\n     * @param {string} hash Hash to test against\r\n     * @returns {boolean} true if matching, otherwise false\r\n     * @throws {Error} If an argument is illegal\r\n     * @expose\r\n     */\r\n    bcrypt.compareSync = function(s, hash) {\r\n        if (typeof s !== \"string\" || typeof hash !== \"string\")\r\n            throw Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof hash));\r\n        if (hash.length !== 60)\r\n            return false;\r\n        return safeStringCompare(bcrypt.hashSync(s, hash.substr(0, hash.length-31)), hash);\r\n    };\r\n\r\n    /**\r\n     * Asynchronously compares the given data against the given hash.\r\n     * @param {string} s Data to compare\r\n     * @param {string} hash Data to be compared to\r\n     * @param {function(Error, boolean)=} callback Callback receiving the error, if any, otherwise the result\r\n     * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\r\n     *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\r\n     * @returns {!Promise} If `callback` has been omitted\r\n     * @throws {Error} If `callback` is present but not a function\r\n     * @expose\r\n     */\r\n    bcrypt.compare = function(s, hash, callback, progressCallback) {\r\n\r\n        function _async(callback) {\r\n            if (typeof s !== \"string\" || typeof hash !== \"string\") {\r\n                nextTick(callback.bind(this, Error(\"Illegal arguments: \"+(typeof s)+', '+(typeof hash))));\r\n                return;\r\n            }\r\n            if (hash.length !== 60) {\r\n                nextTick(callback.bind(this, null, false));\r\n                return;\r\n            }\r\n            bcrypt.hash(s, hash.substr(0, 29), function(err, comp) {\r\n                if (err)\r\n                    callback(err);\r\n                else\r\n                    callback(null, safeStringCompare(comp, hash));\r\n            }, progressCallback);\r\n        }\r\n\r\n        if (callback) {\r\n            if (typeof callback !== 'function')\r\n                throw Error(\"Illegal callback: \"+typeof(callback));\r\n            _async(callback);\r\n        } else\r\n            return new Promise(function(resolve, reject) {\r\n                _async(function(err, res) {\r\n                    if (err) {\r\n                        reject(err);\r\n                        return;\r\n                    }\r\n                    resolve(res);\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Gets the number of rounds used to encrypt the specified hash.\r\n     * @param {string} hash Hash to extract the used number of rounds from\r\n     * @returns {number} Number of rounds used\r\n     * @throws {Error} If `hash` is not a string\r\n     * @expose\r\n     */\r\n    bcrypt.getRounds = function(hash) {\r\n        if (typeof hash !== \"string\")\r\n            throw Error(\"Illegal arguments: \"+(typeof hash));\r\n        return parseInt(hash.split(\"$\")[2], 10);\r\n    };\r\n\r\n    /**\r\n     * Gets the salt portion from a hash. Does not validate the hash.\r\n     * @param {string} hash Hash to extract the salt from\r\n     * @returns {string} Extracted salt part\r\n     * @throws {Error} If `hash` is not a string or otherwise invalid\r\n     * @expose\r\n     */\r\n    bcrypt.getSalt = function(hash) {\r\n        if (typeof hash !== 'string')\r\n            throw Error(\"Illegal arguments: \"+(typeof hash));\r\n        if (hash.length !== 60)\r\n            throw Error(\"Illegal hash length: \"+hash.length+\" != 60\");\r\n        return hash.substring(0, 29);\r\n    };\r\n\r\n    /**\r\n     * Continues with the callback on the next tick.\r\n     * @function\r\n     * @param {function(...[*])} callback Callback to execute\r\n     * @inner\r\n     */\r\n    var nextTick = typeof process !== 'undefined' && process && typeof process.nextTick === 'function'\r\n        ? (typeof setImmediate === 'function' ? setImmediate : process.nextTick)\r\n        : setTimeout;\r\n\r\n    /**\r\n     * Converts a JavaScript string to UTF8 bytes.\r\n     * @param {string} str String\r\n     * @returns {!Array.<number>} UTF8 bytes\r\n     * @inner\r\n     */\r\n    function stringToBytes(str) {\r\n        var out = [],\r\n            i = 0;\r\n        utfx.encodeUTF16toUTF8(function() {\r\n            if (i >= str.length) return null;\r\n            return str.charCodeAt(i++);\r\n        }, function(b) {\r\n            out.push(b);\r\n        });\r\n        return out;\r\n    }\r\n\r\n    // A base64 implementation for the bcrypt algorithm. This is partly non-standard.\r\n\r\n    /**\r\n     * bcrypt's own non-standard base64 dictionary.\r\n     * @type {!Array.<string>}\r\n     * @const\r\n     * @inner\r\n     **/\r\n    var BASE64_CODE = \"./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split('');\r\n\r\n    /**\r\n     * @type {!Array.<number>}\r\n     * @const\r\n     * @inner\r\n     **/\r\n    var BASE64_INDEX = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\r\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0,\r\n        1, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, -1, -1, -1, -1, -1, -1,\r\n        -1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\r\n        20, 21, 22, 23, 24, 25, 26, 27, -1, -1, -1, -1, -1, -1, 28, 29, 30,\r\n        31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\r\n        48, 49, 50, 51, 52, 53, -1, -1, -1, -1, -1];\r\n\r\n    /**\r\n     * @type {!function(...number):string}\r\n     * @inner\r\n     */\r\n    var stringFromCharCode = String.fromCharCode;\r\n\r\n    /**\r\n     * Encodes a byte array to base64 with up to len bytes of input.\r\n     * @param {!Array.<number>} b Byte array\r\n     * @param {number} len Maximum input length\r\n     * @returns {string}\r\n     * @inner\r\n     */\r\n    function base64_encode(b, len) {\r\n        var off = 0,\r\n            rs = [],\r\n            c1, c2;\r\n        if (len <= 0 || len > b.length)\r\n            throw Error(\"Illegal len: \"+len);\r\n        while (off < len) {\r\n            c1 = b[off++] & 0xff;\r\n            rs.push(BASE64_CODE[(c1 >> 2) & 0x3f]);\r\n            c1 = (c1 & 0x03) << 4;\r\n            if (off >= len) {\r\n                rs.push(BASE64_CODE[c1 & 0x3f]);\r\n                break;\r\n            }\r\n            c2 = b[off++] & 0xff;\r\n            c1 |= (c2 >> 4) & 0x0f;\r\n            rs.push(BASE64_CODE[c1 & 0x3f]);\r\n            c1 = (c2 & 0x0f) << 2;\r\n            if (off >= len) {\r\n                rs.push(BASE64_CODE[c1 & 0x3f]);\r\n                break;\r\n            }\r\n            c2 = b[off++] & 0xff;\r\n            c1 |= (c2 >> 6) & 0x03;\r\n            rs.push(BASE64_CODE[c1 & 0x3f]);\r\n            rs.push(BASE64_CODE[c2 & 0x3f]);\r\n        }\r\n        return rs.join('');\r\n    }\r\n\r\n    /**\r\n     * Decodes a base64 encoded string to up to len bytes of output.\r\n     * @param {string} s String to decode\r\n     * @param {number} len Maximum output length\r\n     * @returns {!Array.<number>}\r\n     * @inner\r\n     */\r\n    function base64_decode(s, len) {\r\n        var off = 0,\r\n            slen = s.length,\r\n            olen = 0,\r\n            rs = [],\r\n            c1, c2, c3, c4, o, code;\r\n        if (len <= 0)\r\n            throw Error(\"Illegal len: \"+len);\r\n        while (off < slen - 1 && olen < len) {\r\n            code = s.charCodeAt(off++);\r\n            c1 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            code = s.charCodeAt(off++);\r\n            c2 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            if (c1 == -1 || c2 == -1)\r\n                break;\r\n            o = (c1 << 2) >>> 0;\r\n            o |= (c2 & 0x30) >> 4;\r\n            rs.push(stringFromCharCode(o));\r\n            if (++olen >= len || off >= slen)\r\n                break;\r\n            code = s.charCodeAt(off++);\r\n            c3 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            if (c3 == -1)\r\n                break;\r\n            o = ((c2 & 0x0f) << 4) >>> 0;\r\n            o |= (c3 & 0x3c) >> 2;\r\n            rs.push(stringFromCharCode(o));\r\n            if (++olen >= len || off >= slen)\r\n                break;\r\n            code = s.charCodeAt(off++);\r\n            c4 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\r\n            o = ((c3 & 0x03) << 6) >>> 0;\r\n            o |= c4;\r\n            rs.push(stringFromCharCode(o));\r\n            ++olen;\r\n        }\r\n        var res = [];\r\n        for (off = 0; off<olen; off++)\r\n            res.push(rs[off].charCodeAt(0));\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * utfx-embeddable (c) 2014 Daniel Wirtz <dcode@dcode.io>\r\n     * Released under the Apache License, Version 2.0\r\n     * see: https://github.com/dcodeIO/utfx for details\r\n     */\r\n    var utfx = function() {\r\n        \"use strict\";\r\n\r\n        /**\r\n         * utfx namespace.\r\n         * @inner\r\n         * @type {!Object.<string,*>}\r\n         */\r\n        var utfx = {};\r\n\r\n        /**\r\n         * Maximum valid code point.\r\n         * @type {number}\r\n         * @const\r\n         */\r\n        utfx.MAX_CODEPOINT = 0x10FFFF;\r\n\r\n        /**\r\n         * Encodes UTF8 code points to UTF8 bytes.\r\n         * @param {(!function():number|null) | number} src Code points source, either as a function returning the next code point\r\n         *  respectively `null` if there are no more code points left or a single numeric code point.\r\n         * @param {!function(number)} dst Bytes destination as a function successively called with the next byte\r\n         */\r\n        utfx.encodeUTF8 = function(src, dst) {\r\n            var cp = null;\r\n            if (typeof src === 'number')\r\n                cp = src,\r\n                src = function() { return null; };\r\n            while (cp !== null || (cp = src()) !== null) {\r\n                if (cp < 0x80)\r\n                    dst(cp&0x7F);\r\n                else if (cp < 0x800)\r\n                    dst(((cp>>6)&0x1F)|0xC0),\r\n                    dst((cp&0x3F)|0x80);\r\n                else if (cp < 0x10000)\r\n                    dst(((cp>>12)&0x0F)|0xE0),\r\n                    dst(((cp>>6)&0x3F)|0x80),\r\n                    dst((cp&0x3F)|0x80);\r\n                else\r\n                    dst(((cp>>18)&0x07)|0xF0),\r\n                    dst(((cp>>12)&0x3F)|0x80),\r\n                    dst(((cp>>6)&0x3F)|0x80),\r\n                    dst((cp&0x3F)|0x80);\r\n                cp = null;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Decodes UTF8 bytes to UTF8 code points.\r\n         * @param {!function():number|null} src Bytes source as a function returning the next byte respectively `null` if there\r\n         *  are no more bytes left.\r\n         * @param {!function(number)} dst Code points destination as a function successively called with each decoded code point.\r\n         * @throws {RangeError} If a starting byte is invalid in UTF8\r\n         * @throws {Error} If the last sequence is truncated. Has an array property `bytes` holding the\r\n         *  remaining bytes.\r\n         */\r\n        utfx.decodeUTF8 = function(src, dst) {\r\n            var a, b, c, d, fail = function(b) {\r\n                b = b.slice(0, b.indexOf(null));\r\n                var err = Error(b.toString());\r\n                err.name = \"TruncatedError\";\r\n                err['bytes'] = b;\r\n                throw err;\r\n            };\r\n            while ((a = src()) !== null) {\r\n                if ((a&0x80) === 0)\r\n                    dst(a);\r\n                else if ((a&0xE0) === 0xC0)\r\n                    ((b = src()) === null) && fail([a, b]),\r\n                    dst(((a&0x1F)<<6) | (b&0x3F));\r\n                else if ((a&0xF0) === 0xE0)\r\n                    ((b=src()) === null || (c=src()) === null) && fail([a, b, c]),\r\n                    dst(((a&0x0F)<<12) | ((b&0x3F)<<6) | (c&0x3F));\r\n                else if ((a&0xF8) === 0xF0)\r\n                    ((b=src()) === null || (c=src()) === null || (d=src()) === null) && fail([a, b, c ,d]),\r\n                    dst(((a&0x07)<<18) | ((b&0x3F)<<12) | ((c&0x3F)<<6) | (d&0x3F));\r\n                else throw RangeError(\"Illegal starting byte: \"+a);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Converts UTF16 characters to UTF8 code points.\r\n         * @param {!function():number|null} src Characters source as a function returning the next char code respectively\r\n         *  `null` if there are no more characters left.\r\n         * @param {!function(number)} dst Code points destination as a function successively called with each converted code\r\n         *  point.\r\n         */\r\n        utfx.UTF16toUTF8 = function(src, dst) {\r\n            var c1, c2 = null;\r\n            while (true) {\r\n                if ((c1 = c2 !== null ? c2 : src()) === null)\r\n                    break;\r\n                if (c1 >= 0xD800 && c1 <= 0xDFFF) {\r\n                    if ((c2 = src()) !== null) {\r\n                        if (c2 >= 0xDC00 && c2 <= 0xDFFF) {\r\n                            dst((c1-0xD800)*0x400+c2-0xDC00+0x10000);\r\n                            c2 = null; continue;\r\n                        }\r\n                    }\r\n                }\r\n                dst(c1);\r\n            }\r\n            if (c2 !== null) dst(c2);\r\n        };\r\n\r\n        /**\r\n         * Converts UTF8 code points to UTF16 characters.\r\n         * @param {(!function():number|null) | number} src Code points source, either as a function returning the next code point\r\n         *  respectively `null` if there are no more code points left or a single numeric code point.\r\n         * @param {!function(number)} dst Characters destination as a function successively called with each converted char code.\r\n         * @throws {RangeError} If a code point is out of range\r\n         */\r\n        utfx.UTF8toUTF16 = function(src, dst) {\r\n            var cp = null;\r\n            if (typeof src === 'number')\r\n                cp = src, src = function() { return null; };\r\n            while (cp !== null || (cp = src()) !== null) {\r\n                if (cp <= 0xFFFF)\r\n                    dst(cp);\r\n                else\r\n                    cp -= 0x10000,\r\n                    dst((cp>>10)+0xD800),\r\n                    dst((cp%0x400)+0xDC00);\r\n                cp = null;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Converts and encodes UTF16 characters to UTF8 bytes.\r\n         * @param {!function():number|null} src Characters source as a function returning the next char code respectively `null`\r\n         *  if there are no more characters left.\r\n         * @param {!function(number)} dst Bytes destination as a function successively called with the next byte.\r\n         */\r\n        utfx.encodeUTF16toUTF8 = function(src, dst) {\r\n            utfx.UTF16toUTF8(src, function(cp) {\r\n                utfx.encodeUTF8(cp, dst);\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Decodes and converts UTF8 bytes to UTF16 characters.\r\n         * @param {!function():number|null} src Bytes source as a function returning the next byte respectively `null` if there\r\n         *  are no more bytes left.\r\n         * @param {!function(number)} dst Characters destination as a function successively called with each converted char code.\r\n         * @throws {RangeError} If a starting byte is invalid in UTF8\r\n         * @throws {Error} If the last sequence is truncated. Has an array property `bytes` holding the remaining bytes.\r\n         */\r\n        utfx.decodeUTF8toUTF16 = function(src, dst) {\r\n            utfx.decodeUTF8(src, function(cp) {\r\n                utfx.UTF8toUTF16(cp, dst);\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Calculates the byte length of an UTF8 code point.\r\n         * @param {number} cp UTF8 code point\r\n         * @returns {number} Byte length\r\n         */\r\n        utfx.calculateCodePoint = function(cp) {\r\n            return (cp < 0x80) ? 1 : (cp < 0x800) ? 2 : (cp < 0x10000) ? 3 : 4;\r\n        };\r\n\r\n        /**\r\n         * Calculates the number of UTF8 bytes required to store UTF8 code points.\r\n         * @param {(!function():number|null)} src Code points source as a function returning the next code point respectively\r\n         *  `null` if there are no more code points left.\r\n         * @returns {number} The number of UTF8 bytes required\r\n         */\r\n        utfx.calculateUTF8 = function(src) {\r\n            var cp, l=0;\r\n            while ((cp = src()) !== null)\r\n                l += utfx.calculateCodePoint(cp);\r\n            return l;\r\n        };\r\n\r\n        /**\r\n         * Calculates the number of UTF8 code points respectively UTF8 bytes required to store UTF16 char codes.\r\n         * @param {(!function():number|null)} src Characters source as a function returning the next char code respectively\r\n         *  `null` if there are no more characters left.\r\n         * @returns {!Array.<number>} The number of UTF8 code points at index 0 and the number of UTF8 bytes required at index 1.\r\n         */\r\n        utfx.calculateUTF16asUTF8 = function(src) {\r\n            var n=0, l=0;\r\n            utfx.UTF16toUTF8(src, function(cp) {\r\n                ++n; l += utfx.calculateCodePoint(cp);\r\n            });\r\n            return [n,l];\r\n        };\r\n\r\n        return utfx;\r\n    }();\r\n\r\n    Date.now = Date.now || function() { return +new Date; };\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var BCRYPT_SALT_LEN = 16;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var GENSALT_DEFAULT_LOG2_ROUNDS = 10;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var BLOWFISH_NUM_ROUNDS = 16;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var MAX_EXECUTION_TIME = 100;\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var P_ORIG = [\r\n        0x243f6a88, 0x85a308d3, 0x13198a2e, 0x03707344, 0xa4093822,\r\n        0x299f31d0, 0x082efa98, 0xec4e6c89, 0x452821e6, 0x38d01377,\r\n        0xbe5466cf, 0x34e90c6c, 0xc0ac29b7, 0xc97c50dd, 0x3f84d5b5,\r\n        0xb5470917, 0x9216d5d9, 0x8979fb1b\r\n    ];\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var S_ORIG = [\r\n        0xd1310ba6, 0x98dfb5ac, 0x2ffd72db, 0xd01adfb7, 0xb8e1afed,\r\n        0x6a267e96, 0xba7c9045, 0xf12c7f99, 0x24a19947, 0xb3916cf7,\r\n        0x0801f2e2, 0x858efc16, 0x636920d8, 0x71574e69, 0xa458fea3,\r\n        0xf4933d7e, 0x0d95748f, 0x728eb658, 0x718bcd58, 0x82154aee,\r\n        0x7b54a41d, 0xc25a59b5, 0x9c30d539, 0x2af26013, 0xc5d1b023,\r\n        0x286085f0, 0xca417918, 0xb8db38ef, 0x8e79dcb0, 0x603a180e,\r\n        0x6c9e0e8b, 0xb01e8a3e, 0xd71577c1, 0xbd314b27, 0x78af2fda,\r\n        0x55605c60, 0xe65525f3, 0xaa55ab94, 0x57489862, 0x63e81440,\r\n        0x55ca396a, 0x2aab10b6, 0xb4cc5c34, 0x1141e8ce, 0xa15486af,\r\n        0x7c72e993, 0xb3ee1411, 0x636fbc2a, 0x2ba9c55d, 0x741831f6,\r\n        0xce5c3e16, 0x9b87931e, 0xafd6ba33, 0x6c24cf5c, 0x7a325381,\r\n        0x28958677, 0x3b8f4898, 0x6b4bb9af, 0xc4bfe81b, 0x66282193,\r\n        0x61d809cc, 0xfb21a991, 0x487cac60, 0x5dec8032, 0xef845d5d,\r\n        0xe98575b1, 0xdc262302, 0xeb651b88, 0x23893e81, 0xd396acc5,\r\n        0x0f6d6ff3, 0x83f44239, 0x2e0b4482, 0xa4842004, 0x69c8f04a,\r\n        0x9e1f9b5e, 0x21c66842, 0xf6e96c9a, 0x670c9c61, 0xabd388f0,\r\n        0x6a51a0d2, 0xd8542f68, 0x960fa728, 0xab5133a3, 0x6eef0b6c,\r\n        0x137a3be4, 0xba3bf050, 0x7efb2a98, 0xa1f1651d, 0x39af0176,\r\n        0x66ca593e, 0x82430e88, 0x8cee8619, 0x456f9fb4, 0x7d84a5c3,\r\n        0x3b8b5ebe, 0xe06f75d8, 0x85c12073, 0x401a449f, 0x56c16aa6,\r\n        0x4ed3aa62, 0x363f7706, 0x1bfedf72, 0x429b023d, 0x37d0d724,\r\n        0xd00a1248, 0xdb0fead3, 0x49f1c09b, 0x075372c9, 0x80991b7b,\r\n        0x25d479d8, 0xf6e8def7, 0xe3fe501a, 0xb6794c3b, 0x976ce0bd,\r\n        0x04c006ba, 0xc1a94fb6, 0x409f60c4, 0x5e5c9ec2, 0x196a2463,\r\n        0x68fb6faf, 0x3e6c53b5, 0x1339b2eb, 0x3b52ec6f, 0x6dfc511f,\r\n        0x9b30952c, 0xcc814544, 0xaf5ebd09, 0xbee3d004, 0xde334afd,\r\n        0x660f2807, 0x192e4bb3, 0xc0cba857, 0x45c8740f, 0xd20b5f39,\r\n        0xb9d3fbdb, 0x5579c0bd, 0x1a60320a, 0xd6a100c6, 0x402c7279,\r\n        0x679f25fe, 0xfb1fa3cc, 0x8ea5e9f8, 0xdb3222f8, 0x3c7516df,\r\n        0xfd616b15, 0x2f501ec8, 0xad0552ab, 0x323db5fa, 0xfd238760,\r\n        0x53317b48, 0x3e00df82, 0x9e5c57bb, 0xca6f8ca0, 0x1a87562e,\r\n        0xdf1769db, 0xd542a8f6, 0x287effc3, 0xac6732c6, 0x8c4f5573,\r\n        0x695b27b0, 0xbbca58c8, 0xe1ffa35d, 0xb8f011a0, 0x10fa3d98,\r\n        0xfd2183b8, 0x4afcb56c, 0x2dd1d35b, 0x9a53e479, 0xb6f84565,\r\n        0xd28e49bc, 0x4bfb9790, 0xe1ddf2da, 0xa4cb7e33, 0x62fb1341,\r\n        0xcee4c6e8, 0xef20cada, 0x36774c01, 0xd07e9efe, 0x2bf11fb4,\r\n        0x95dbda4d, 0xae909198, 0xeaad8e71, 0x6b93d5a0, 0xd08ed1d0,\r\n        0xafc725e0, 0x8e3c5b2f, 0x8e7594b7, 0x8ff6e2fb, 0xf2122b64,\r\n        0x8888b812, 0x900df01c, 0x4fad5ea0, 0x688fc31c, 0xd1cff191,\r\n        0xb3a8c1ad, 0x2f2f2218, 0xbe0e1777, 0xea752dfe, 0x8b021fa1,\r\n        0xe5a0cc0f, 0xb56f74e8, 0x18acf3d6, 0xce89e299, 0xb4a84fe0,\r\n        0xfd13e0b7, 0x7cc43b81, 0xd2ada8d9, 0x165fa266, 0x80957705,\r\n        0x93cc7314, 0x211a1477, 0xe6ad2065, 0x77b5fa86, 0xc75442f5,\r\n        0xfb9d35cf, 0xebcdaf0c, 0x7b3e89a0, 0xd6411bd3, 0xae1e7e49,\r\n        0x00250e2d, 0x2071b35e, 0x226800bb, 0x57b8e0af, 0x2464369b,\r\n        0xf009b91e, 0x5563911d, 0x59dfa6aa, 0x78c14389, 0xd95a537f,\r\n        0x207d5ba2, 0x02e5b9c5, 0x83260376, 0x6295cfa9, 0x11c81968,\r\n        0x4e734a41, 0xb3472dca, 0x7b14a94a, 0x1b510052, 0x9a532915,\r\n        0xd60f573f, 0xbc9bc6e4, 0x2b60a476, 0x81e67400, 0x08ba6fb5,\r\n        0x571be91f, 0xf296ec6b, 0x2a0dd915, 0xb6636521, 0xe7b9f9b6,\r\n        0xff34052e, 0xc5855664, 0x53b02d5d, 0xa99f8fa1, 0x08ba4799,\r\n        0x6e85076a, 0x4b7a70e9, 0xb5b32944, 0xdb75092e, 0xc4192623,\r\n        0xad6ea6b0, 0x49a7df7d, 0x9cee60b8, 0x8fedb266, 0xecaa8c71,\r\n        0x699a17ff, 0x5664526c, 0xc2b19ee1, 0x193602a5, 0x75094c29,\r\n        0xa0591340, 0xe4183a3e, 0x3f54989a, 0x5b429d65, 0x6b8fe4d6,\r\n        0x99f73fd6, 0xa1d29c07, 0xefe830f5, 0x4d2d38e6, 0xf0255dc1,\r\n        0x4cdd2086, 0x8470eb26, 0x6382e9c6, 0x021ecc5e, 0x09686b3f,\r\n        0x3ebaefc9, 0x3c971814, 0x6b6a70a1, 0x687f3584, 0x52a0e286,\r\n        0xb79c5305, 0xaa500737, 0x3e07841c, 0x7fdeae5c, 0x8e7d44ec,\r\n        0x5716f2b8, 0xb03ada37, 0xf0500c0d, 0xf01c1f04, 0x0200b3ff,\r\n        0xae0cf51a, 0x3cb574b2, 0x25837a58, 0xdc0921bd, 0xd19113f9,\r\n        0x7ca92ff6, 0x94324773, 0x22f54701, 0x3ae5e581, 0x37c2dadc,\r\n        0xc8b57634, 0x9af3dda7, 0xa9446146, 0x0fd0030e, 0xecc8c73e,\r\n        0xa4751e41, 0xe238cd99, 0x3bea0e2f, 0x3280bba1, 0x183eb331,\r\n        0x4e548b38, 0x4f6db908, 0x6f420d03, 0xf60a04bf, 0x2cb81290,\r\n        0x24977c79, 0x5679b072, 0xbcaf89af, 0xde9a771f, 0xd9930810,\r\n        0xb38bae12, 0xdccf3f2e, 0x5512721f, 0x2e6b7124, 0x501adde6,\r\n        0x9f84cd87, 0x7a584718, 0x7408da17, 0xbc9f9abc, 0xe94b7d8c,\r\n        0xec7aec3a, 0xdb851dfa, 0x63094366, 0xc464c3d2, 0xef1c1847,\r\n        0x3215d908, 0xdd433b37, 0x24c2ba16, 0x12a14d43, 0x2a65c451,\r\n        0x50940002, 0x133ae4dd, 0x71dff89e, 0x10314e55, 0x81ac77d6,\r\n        0x5f11199b, 0x043556f1, 0xd7a3c76b, 0x3c11183b, 0x5924a509,\r\n        0xf28fe6ed, 0x97f1fbfa, 0x9ebabf2c, 0x1e153c6e, 0x86e34570,\r\n        0xeae96fb1, 0x860e5e0a, 0x5a3e2ab3, 0x771fe71c, 0x4e3d06fa,\r\n        0x2965dcb9, 0x99e71d0f, 0x803e89d6, 0x5266c825, 0x2e4cc978,\r\n        0x9c10b36a, 0xc6150eba, 0x94e2ea78, 0xa5fc3c53, 0x1e0a2df4,\r\n        0xf2f74ea7, 0x361d2b3d, 0x1939260f, 0x19c27960, 0x5223a708,\r\n        0xf71312b6, 0xebadfe6e, 0xeac31f66, 0xe3bc4595, 0xa67bc883,\r\n        0xb17f37d1, 0x018cff28, 0xc332ddef, 0xbe6c5aa5, 0x65582185,\r\n        0x68ab9802, 0xeecea50f, 0xdb2f953b, 0x2aef7dad, 0x5b6e2f84,\r\n        0x1521b628, 0x29076170, 0xecdd4775, 0x619f1510, 0x13cca830,\r\n        0xeb61bd96, 0x0334fe1e, 0xaa0363cf, 0xb5735c90, 0x4c70a239,\r\n        0xd59e9e0b, 0xcbaade14, 0xeecc86bc, 0x60622ca7, 0x9cab5cab,\r\n        0xb2f3846e, 0x648b1eaf, 0x19bdf0ca, 0xa02369b9, 0x655abb50,\r\n        0x40685a32, 0x3c2ab4b3, 0x319ee9d5, 0xc021b8f7, 0x9b540b19,\r\n        0x875fa099, 0x95f7997e, 0x623d7da8, 0xf837889a, 0x97e32d77,\r\n        0x11ed935f, 0x16681281, 0x0e358829, 0xc7e61fd6, 0x96dedfa1,\r\n        0x7858ba99, 0x57f584a5, 0x1b227263, 0x9b83c3ff, 0x1ac24696,\r\n        0xcdb30aeb, 0x532e3054, 0x8fd948e4, 0x6dbc3128, 0x58ebf2ef,\r\n        0x34c6ffea, 0xfe28ed61, 0xee7c3c73, 0x5d4a14d9, 0xe864b7e3,\r\n        0x42105d14, 0x203e13e0, 0x45eee2b6, 0xa3aaabea, 0xdb6c4f15,\r\n        0xfacb4fd0, 0xc742f442, 0xef6abbb5, 0x654f3b1d, 0x41cd2105,\r\n        0xd81e799e, 0x86854dc7, 0xe44b476a, 0x3d816250, 0xcf62a1f2,\r\n        0x5b8d2646, 0xfc8883a0, 0xc1c7b6a3, 0x7f1524c3, 0x69cb7492,\r\n        0x47848a0b, 0x5692b285, 0x095bbf00, 0xad19489d, 0x1462b174,\r\n        0x23820e00, 0x58428d2a, 0x0c55f5ea, 0x1dadf43e, 0x233f7061,\r\n        0x3372f092, 0x8d937e41, 0xd65fecf1, 0x6c223bdb, 0x7cde3759,\r\n        0xcbee7460, 0x4085f2a7, 0xce77326e, 0xa6078084, 0x19f8509e,\r\n        0xe8efd855, 0x61d99735, 0xa969a7aa, 0xc50c06c2, 0x5a04abfc,\r\n        0x800bcadc, 0x9e447a2e, 0xc3453484, 0xfdd56705, 0x0e1e9ec9,\r\n        0xdb73dbd3, 0x105588cd, 0x675fda79, 0xe3674340, 0xc5c43465,\r\n        0x713e38d8, 0x3d28f89e, 0xf16dff20, 0x153e21e7, 0x8fb03d4a,\r\n        0xe6e39f2b, 0xdb83adf7, 0xe93d5a68, 0x948140f7, 0xf64c261c,\r\n        0x94692934, 0x411520f7, 0x7602d4f7, 0xbcf46b2e, 0xd4a20068,\r\n        0xd4082471, 0x3320f46a, 0x43b7d4b7, 0x500061af, 0x1e39f62e,\r\n        0x97244546, 0x14214f74, 0xbf8b8840, 0x4d95fc1d, 0x96b591af,\r\n        0x70f4ddd3, 0x66a02f45, 0xbfbc09ec, 0x03bd9785, 0x7fac6dd0,\r\n        0x31cb8504, 0x96eb27b3, 0x55fd3941, 0xda2547e6, 0xabca0a9a,\r\n        0x28507825, 0x530429f4, 0x0a2c86da, 0xe9b66dfb, 0x68dc1462,\r\n        0xd7486900, 0x680ec0a4, 0x27a18dee, 0x4f3ffea2, 0xe887ad8c,\r\n        0xb58ce006, 0x7af4d6b6, 0xaace1e7c, 0xd3375fec, 0xce78a399,\r\n        0x406b2a42, 0x20fe9e35, 0xd9f385b9, 0xee39d7ab, 0x3b124e8b,\r\n        0x1dc9faf7, 0x4b6d1856, 0x26a36631, 0xeae397b2, 0x3a6efa74,\r\n        0xdd5b4332, 0x6841e7f7, 0xca7820fb, 0xfb0af54e, 0xd8feb397,\r\n        0x454056ac, 0xba489527, 0x55533a3a, 0x20838d87, 0xfe6ba9b7,\r\n        0xd096954b, 0x55a867bc, 0xa1159a58, 0xcca92963, 0x99e1db33,\r\n        0xa62a4a56, 0x3f3125f9, 0x5ef47e1c, 0x9029317c, 0xfdf8e802,\r\n        0x04272f70, 0x80bb155c, 0x05282ce3, 0x95c11548, 0xe4c66d22,\r\n        0x48c1133f, 0xc70f86dc, 0x07f9c9ee, 0x41041f0f, 0x404779a4,\r\n        0x5d886e17, 0x325f51eb, 0xd59bc0d1, 0xf2bcc18f, 0x41113564,\r\n        0x257b7834, 0x602a9c60, 0xdff8e8a3, 0x1f636c1b, 0x0e12b4c2,\r\n        0x02e1329e, 0xaf664fd1, 0xcad18115, 0x6b2395e0, 0x333e92e1,\r\n        0x3b240b62, 0xeebeb922, 0x85b2a20e, 0xe6ba0d99, 0xde720c8c,\r\n        0x2da2f728, 0xd0127845, 0x95b794fd, 0x647d0862, 0xe7ccf5f0,\r\n        0x5449a36f, 0x877d48fa, 0xc39dfd27, 0xf33e8d1e, 0x0a476341,\r\n        0x992eff74, 0x3a6f6eab, 0xf4f8fd37, 0xa812dc60, 0xa1ebddf8,\r\n        0x991be14c, 0xdb6e6b0d, 0xc67b5510, 0x6d672c37, 0x2765d43b,\r\n        0xdcd0e804, 0xf1290dc7, 0xcc00ffa3, 0xb5390f92, 0x690fed0b,\r\n        0x667b9ffb, 0xcedb7d9c, 0xa091cf0b, 0xd9155ea3, 0xbb132f88,\r\n        0x515bad24, 0x7b9479bf, 0x763bd6eb, 0x37392eb3, 0xcc115979,\r\n        0x8026e297, 0xf42e312d, 0x6842ada7, 0xc66a2b3b, 0x12754ccc,\r\n        0x782ef11c, 0x6a124237, 0xb79251e7, 0x06a1bbe6, 0x4bfb6350,\r\n        0x1a6b1018, 0x11caedfa, 0x3d25bdd8, 0xe2e1c3c9, 0x44421659,\r\n        0x0a121386, 0xd90cec6e, 0xd5abea2a, 0x64af674e, 0xda86a85f,\r\n        0xbebfe988, 0x64e4c3fe, 0x9dbc8057, 0xf0f7c086, 0x60787bf8,\r\n        0x6003604d, 0xd1fd8346, 0xf6381fb0, 0x7745ae04, 0xd736fccc,\r\n        0x83426b33, 0xf01eab71, 0xb0804187, 0x3c005e5f, 0x77a057be,\r\n        0xbde8ae24, 0x55464299, 0xbf582e61, 0x4e58f48f, 0xf2ddfda2,\r\n        0xf474ef38, 0x8789bdc2, 0x5366f9c3, 0xc8b38e74, 0xb475f255,\r\n        0x46fcd9b9, 0x7aeb2661, 0x8b1ddf84, 0x846a0e79, 0x915f95e2,\r\n        0x466e598e, 0x20b45770, 0x8cd55591, 0xc902de4c, 0xb90bace1,\r\n        0xbb8205d0, 0x11a86248, 0x7574a99e, 0xb77f19b6, 0xe0a9dc09,\r\n        0x662d09a1, 0xc4324633, 0xe85a1f02, 0x09f0be8c, 0x4a99a025,\r\n        0x1d6efe10, 0x1ab93d1d, 0x0ba5a4df, 0xa186f20f, 0x2868f169,\r\n        0xdcb7da83, 0x573906fe, 0xa1e2ce9b, 0x4fcd7f52, 0x50115e01,\r\n        0xa70683fa, 0xa002b5c4, 0x0de6d027, 0x9af88c27, 0x773f8641,\r\n        0xc3604c06, 0x61a806b5, 0xf0177a28, 0xc0f586e0, 0x006058aa,\r\n        0x30dc7d62, 0x11e69ed7, 0x2338ea63, 0x53c2dd94, 0xc2c21634,\r\n        0xbbcbee56, 0x90bcb6de, 0xebfc7da1, 0xce591d76, 0x6f05e409,\r\n        0x4b7c0188, 0x39720a3d, 0x7c927c24, 0x86e3725f, 0x724d9db9,\r\n        0x1ac15bb4, 0xd39eb8fc, 0xed545578, 0x08fca5b5, 0xd83d7cd3,\r\n        0x4dad0fc4, 0x1e50ef5e, 0xb161e6f8, 0xa28514d9, 0x6c51133c,\r\n        0x6fd5c7e7, 0x56e14ec4, 0x362abfce, 0xddc6c837, 0xd79a3234,\r\n        0x92638212, 0x670efa8e, 0x406000e0, 0x3a39ce37, 0xd3faf5cf,\r\n        0xabc27737, 0x5ac52d1b, 0x5cb0679e, 0x4fa33742, 0xd3822740,\r\n        0x99bc9bbe, 0xd5118e9d, 0xbf0f7315, 0xd62d1c7e, 0xc700c47b,\r\n        0xb78c1b6b, 0x21a19045, 0xb26eb1be, 0x6a366eb4, 0x5748ab2f,\r\n        0xbc946e79, 0xc6a376d2, 0x6549c2c8, 0x530ff8ee, 0x468dde7d,\r\n        0xd5730a1d, 0x4cd04dc6, 0x2939bbdb, 0xa9ba4650, 0xac9526e8,\r\n        0xbe5ee304, 0xa1fad5f0, 0x6a2d519a, 0x63ef8ce2, 0x9a86ee22,\r\n        0xc089c2b8, 0x43242ef6, 0xa51e03aa, 0x9cf2d0a4, 0x83c061ba,\r\n        0x9be96a4d, 0x8fe51550, 0xba645bd6, 0x2826a2f9, 0xa73a3ae1,\r\n        0x4ba99586, 0xef5562e9, 0xc72fefd3, 0xf752f7da, 0x3f046f69,\r\n        0x77fa0a59, 0x80e4a915, 0x87b08601, 0x9b09e6ad, 0x3b3ee593,\r\n        0xe990fd5a, 0x9e34d797, 0x2cf0b7d9, 0x022b8b51, 0x96d5ac3a,\r\n        0x017da67d, 0xd1cf3ed6, 0x7c7d2d28, 0x1f9f25cf, 0xadf2b89b,\r\n        0x5ad6b472, 0x5a88f54c, 0xe029ac71, 0xe019a5e6, 0x47b0acfd,\r\n        0xed93fa9b, 0xe8d3c48d, 0x283b57cc, 0xf8d56629, 0x79132e28,\r\n        0x785f0191, 0xed756055, 0xf7960e44, 0xe3d35e8c, 0x15056dd4,\r\n        0x88f46dba, 0x03a16125, 0x0564f0bd, 0xc3eb9e15, 0x3c9057a2,\r\n        0x97271aec, 0xa93a072a, 0x1b3f6d9b, 0x1e6321f5, 0xf59c66fb,\r\n        0x26dcf319, 0x7533d928, 0xb155fdf5, 0x03563482, 0x8aba3cbb,\r\n        0x28517711, 0xc20ad9f8, 0xabcc5167, 0xccad925f, 0x4de81751,\r\n        0x3830dc8e, 0x379d5862, 0x9320f991, 0xea7a90c2, 0xfb3e7bce,\r\n        0x5121ce64, 0x774fbe32, 0xa8b6e37e, 0xc3293d46, 0x48de5369,\r\n        0x6413e680, 0xa2ae0810, 0xdd6db224, 0x69852dfd, 0x09072166,\r\n        0xb39a460a, 0x6445c0dd, 0x586cdecf, 0x1c20c8ae, 0x5bbef7dd,\r\n        0x1b588d40, 0xccd2017f, 0x6bb4e3bb, 0xdda26a7e, 0x3a59ff45,\r\n        0x3e350a44, 0xbcb4cdd5, 0x72eacea8, 0xfa6484bb, 0x8d6612ae,\r\n        0xbf3c6f47, 0xd29be463, 0x542f5d9e, 0xaec2771b, 0xf64e6370,\r\n        0x740e0d8d, 0xe75b1357, 0xf8721671, 0xaf537d5d, 0x4040cb08,\r\n        0x4eb4e2cc, 0x34d2466a, 0x0115af84, 0xe1b00428, 0x95983a1d,\r\n        0x06b89fb4, 0xce6ea048, 0x6f3f3b82, 0x3520ab82, 0x011a1d4b,\r\n        0x277227f8, 0x611560b1, 0xe7933fdc, 0xbb3a792b, 0x344525bd,\r\n        0xa08839e1, 0x51ce794b, 0x2f32c9b7, 0xa01fbac9, 0xe01cc87e,\r\n        0xbcc7d1f6, 0xcf0111c3, 0xa1e8aac7, 0x1a908749, 0xd44fbd9a,\r\n        0xd0dadecb, 0xd50ada38, 0x0339c32a, 0xc6913667, 0x8df9317c,\r\n        0xe0b12b4f, 0xf79e59b7, 0x43f5bb3a, 0xf2d519ff, 0x27d9459c,\r\n        0xbf97222c, 0x15e6fc2a, 0x0f91fc71, 0x9b941525, 0xfae59361,\r\n        0xceb69ceb, 0xc2a86459, 0x12baa8d1, 0xb6c1075e, 0xe3056a0c,\r\n        0x10d25065, 0xcb03a442, 0xe0ec6e0e, 0x1698db3b, 0x4c98a0be,\r\n        0x3278e964, 0x9f1f9532, 0xe0d392df, 0xd3a0342b, 0x8971f21e,\r\n        0x1b0a7441, 0x4ba3348c, 0xc5be7120, 0xc37632d8, 0xdf359f8d,\r\n        0x9b992f2e, 0xe60b6f47, 0x0fe3f11d, 0xe54cda54, 0x1edad891,\r\n        0xce6279cf, 0xcd3e7e6f, 0x1618b166, 0xfd2c1d05, 0x848fd2c5,\r\n        0xf6fb2299, 0xf523f357, 0xa6327623, 0x93a83531, 0x56cccd02,\r\n        0xacf08162, 0x5a75ebb5, 0x6e163697, 0x88d273cc, 0xde966292,\r\n        0x81b949d0, 0x4c50901b, 0x71c65614, 0xe6c6c7bd, 0x327a140a,\r\n        0x45e1d006, 0xc3f27b9a, 0xc9aa53fd, 0x62a80f00, 0xbb25bfe2,\r\n        0x35bdd2f6, 0x71126905, 0xb2040222, 0xb6cbcf7c, 0xcd769c2b,\r\n        0x53113ec0, 0x1640e3d3, 0x38abbd60, 0x2547adf0, 0xba38209c,\r\n        0xf746ce76, 0x77afa1c5, 0x20756060, 0x85cbfe4e, 0x8ae88dd8,\r\n        0x7aaaf9b0, 0x4cf9aa7e, 0x1948c25c, 0x02fb8a8c, 0x01c36ae4,\r\n        0xd6ebe1f9, 0x90d4f869, 0xa65cdea0, 0x3f09252d, 0xc208e69f,\r\n        0xb74e6132, 0xce77e25b, 0x578fdfe3, 0x3ac372e6\r\n    ];\r\n\r\n    /**\r\n     * @type {Array.<number>}\r\n     * @const\r\n     * @inner\r\n     */\r\n    var C_ORIG = [\r\n        0x4f727068, 0x65616e42, 0x65686f6c, 0x64657253, 0x63727944,\r\n        0x6f756274\r\n    ];\r\n\r\n    /**\r\n     * @param {Array.<number>} lr\r\n     * @param {number} off\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @returns {Array.<number>}\r\n     * @inner\r\n     */\r\n    function _encipher(lr, off, P, S) { // This is our bottleneck: 1714/1905 ticks / 90% - see profile.txt\r\n        var n,\r\n            l = lr[off],\r\n            r = lr[off + 1];\r\n\r\n        l ^= P[0];\r\n\r\n        /*\r\n        for (var i=0, k=BLOWFISH_NUM_ROUNDS-2; i<=k;)\r\n            // Feistel substitution on left word\r\n            n  = S[l >>> 24],\r\n            n += S[0x100 | ((l >> 16) & 0xff)],\r\n            n ^= S[0x200 | ((l >> 8) & 0xff)],\r\n            n += S[0x300 | (l & 0xff)],\r\n            r ^= n ^ P[++i],\r\n            // Feistel substitution on right word\r\n            n  = S[r >>> 24],\r\n            n += S[0x100 | ((r >> 16) & 0xff)],\r\n            n ^= S[0x200 | ((r >> 8) & 0xff)],\r\n            n += S[0x300 | (r & 0xff)],\r\n            l ^= n ^ P[++i];\r\n        */\r\n\r\n        //The following is an unrolled version of the above loop.\r\n        //Iteration 0\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[1];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[2];\r\n        //Iteration 1\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[3];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[4];\r\n        //Iteration 2\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[5];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[6];\r\n        //Iteration 3\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[7];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[8];\r\n        //Iteration 4\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[9];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[10];\r\n        //Iteration 5\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[11];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[12];\r\n        //Iteration 6\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[13];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[14];\r\n        //Iteration 7\r\n        n  = S[l >>> 24];\r\n        n += S[0x100 | ((l >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((l >> 8) & 0xff)];\r\n        n += S[0x300 | (l & 0xff)];\r\n        r ^= n ^ P[15];\r\n        n  = S[r >>> 24];\r\n        n += S[0x100 | ((r >> 16) & 0xff)];\r\n        n ^= S[0x200 | ((r >> 8) & 0xff)];\r\n        n += S[0x300 | (r & 0xff)];\r\n        l ^= n ^ P[16];\r\n\r\n        lr[off] = r ^ P[BLOWFISH_NUM_ROUNDS + 1];\r\n        lr[off + 1] = l;\r\n        return lr;\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<number>} data\r\n     * @param {number} offp\r\n     * @returns {{key: number, offp: number}}\r\n     * @inner\r\n     */\r\n    function _streamtoword(data, offp) {\r\n        for (var i = 0, word = 0; i < 4; ++i)\r\n            word = (word << 8) | (data[offp] & 0xff),\r\n            offp = (offp + 1) % data.length;\r\n        return { key: word, offp: offp };\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<number>} key\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @inner\r\n     */\r\n    function _key(key, P, S) {\r\n        var offset = 0,\r\n            lr = [0, 0],\r\n            plen = P.length,\r\n            slen = S.length,\r\n            sw;\r\n        for (var i = 0; i < plen; i++)\r\n            sw = _streamtoword(key, offset),\r\n            offset = sw.offp,\r\n            P[i] = P[i] ^ sw.key;\r\n        for (i = 0; i < plen; i += 2)\r\n            lr = _encipher(lr, 0, P, S),\r\n            P[i] = lr[0],\r\n            P[i + 1] = lr[1];\r\n        for (i = 0; i < slen; i += 2)\r\n            lr = _encipher(lr, 0, P, S),\r\n            S[i] = lr[0],\r\n            S[i + 1] = lr[1];\r\n    }\r\n\r\n    /**\r\n     * Expensive key schedule Blowfish.\r\n     * @param {Array.<number>} data\r\n     * @param {Array.<number>} key\r\n     * @param {Array.<number>} P\r\n     * @param {Array.<number>} S\r\n     * @inner\r\n     */\r\n    function _ekskey(data, key, P, S) {\r\n        var offp = 0,\r\n            lr = [0, 0],\r\n            plen = P.length,\r\n            slen = S.length,\r\n            sw;\r\n        for (var i = 0; i < plen; i++)\r\n            sw = _streamtoword(key, offp),\r\n            offp = sw.offp,\r\n            P[i] = P[i] ^ sw.key;\r\n        offp = 0;\r\n        for (i = 0; i < plen; i += 2)\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[0] ^= sw.key,\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[1] ^= sw.key,\r\n            lr = _encipher(lr, 0, P, S),\r\n            P[i] = lr[0],\r\n            P[i + 1] = lr[1];\r\n        for (i = 0; i < slen; i += 2)\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[0] ^= sw.key,\r\n            sw = _streamtoword(data, offp),\r\n            offp = sw.offp,\r\n            lr[1] ^= sw.key,\r\n            lr = _encipher(lr, 0, P, S),\r\n            S[i] = lr[0],\r\n            S[i + 1] = lr[1];\r\n    }\r\n\r\n    /**\r\n     * Internaly crypts a string.\r\n     * @param {Array.<number>} b Bytes to crypt\r\n     * @param {Array.<number>} salt Salt bytes to use\r\n     * @param {number} rounds Number of rounds\r\n     * @param {function(Error, Array.<number>=)=} callback Callback receiving the error, if any, and the resulting bytes. If\r\n     *  omitted, the operation will be performed synchronously.\r\n     *  @param {function(number)=} progressCallback Callback called with the current progress\r\n     * @returns {!Array.<number>|undefined} Resulting bytes if callback has been omitted, otherwise `undefined`\r\n     * @inner\r\n     */\r\n    function _crypt(b, salt, rounds, callback, progressCallback) {\r\n        var cdata = C_ORIG.slice(),\r\n            clen = cdata.length,\r\n            err;\r\n\r\n        // Validate\r\n        if (rounds < 4 || rounds > 31) {\r\n            err = Error(\"Illegal number of rounds (4-31): \"+rounds);\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        if (salt.length !== BCRYPT_SALT_LEN) {\r\n            err =Error(\"Illegal salt length: \"+salt.length+\" != \"+BCRYPT_SALT_LEN);\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        rounds = (1 << rounds) >>> 0;\r\n\r\n        var P, S, i = 0, j;\r\n\r\n        //Use typed arrays when available - huge speedup!\r\n        if (Int32Array) {\r\n            P = new Int32Array(P_ORIG);\r\n            S = new Int32Array(S_ORIG);\r\n        } else {\r\n            P = P_ORIG.slice();\r\n            S = S_ORIG.slice();\r\n        }\r\n\r\n        _ekskey(salt, b, P, S);\r\n\r\n        /**\r\n         * Calcualtes the next round.\r\n         * @returns {Array.<number>|undefined} Resulting array if callback has been omitted, otherwise `undefined`\r\n         * @inner\r\n         */\r\n        function next() {\r\n            if (progressCallback)\r\n                progressCallback(i / rounds);\r\n            if (i < rounds) {\r\n                var start = Date.now();\r\n                for (; i < rounds;) {\r\n                    i = i + 1;\r\n                    _key(b, P, S);\r\n                    _key(salt, P, S);\r\n                    if (Date.now() - start > MAX_EXECUTION_TIME)\r\n                        break;\r\n                }\r\n            } else {\r\n                for (i = 0; i < 64; i++)\r\n                    for (j = 0; j < (clen >> 1); j++)\r\n                        _encipher(cdata, j << 1, P, S);\r\n                var ret = [];\r\n                for (i = 0; i < clen; i++)\r\n                    ret.push(((cdata[i] >> 24) & 0xff) >>> 0),\r\n                    ret.push(((cdata[i] >> 16) & 0xff) >>> 0),\r\n                    ret.push(((cdata[i] >> 8) & 0xff) >>> 0),\r\n                    ret.push((cdata[i] & 0xff) >>> 0);\r\n                if (callback) {\r\n                    callback(null, ret);\r\n                    return;\r\n                } else\r\n                    return ret;\r\n            }\r\n            if (callback)\r\n                nextTick(next);\r\n        }\r\n\r\n        // Async\r\n        if (typeof callback !== 'undefined') {\r\n            next();\r\n\r\n            // Sync\r\n        } else {\r\n            var res;\r\n            while (true)\r\n                if (typeof(res = next()) !== 'undefined')\r\n                    return res || [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Internally hashes a string.\r\n     * @param {string} s String to hash\r\n     * @param {?string} salt Salt to use, actually never null\r\n     * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash. If omitted,\r\n     *  hashing is perormed synchronously.\r\n     *  @param {function(number)=} progressCallback Callback called with the current progress\r\n     * @returns {string|undefined} Resulting hash if callback has been omitted, otherwise `undefined`\r\n     * @inner\r\n     */\r\n    function _hash(s, salt, callback, progressCallback) {\r\n        var err;\r\n        if (typeof s !== 'string' || typeof salt !== 'string') {\r\n            err = Error(\"Invalid string / salt: Not a string\");\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            }\r\n            else\r\n                throw err;\r\n        }\r\n\r\n        // Validate the salt\r\n        var minor, offset;\r\n        if (salt.charAt(0) !== '$' || salt.charAt(1) !== '2') {\r\n            err = Error(\"Invalid salt version: \"+salt.substring(0,2));\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            }\r\n            else\r\n                throw err;\r\n        }\r\n        if (salt.charAt(2) === '$')\r\n            minor = String.fromCharCode(0),\r\n            offset = 3;\r\n        else {\r\n            minor = salt.charAt(2);\r\n            if ((minor !== 'a' && minor !== 'b' && minor !== 'y') || salt.charAt(3) !== '$') {\r\n                err = Error(\"Invalid salt revision: \"+salt.substring(2,4));\r\n                if (callback) {\r\n                    nextTick(callback.bind(this, err));\r\n                    return;\r\n                } else\r\n                    throw err;\r\n            }\r\n            offset = 4;\r\n        }\r\n\r\n        // Extract number of rounds\r\n        if (salt.charAt(offset + 2) > '$') {\r\n            err = Error(\"Missing salt rounds\");\r\n            if (callback) {\r\n                nextTick(callback.bind(this, err));\r\n                return;\r\n            } else\r\n                throw err;\r\n        }\r\n        var r1 = parseInt(salt.substring(offset, offset + 1), 10) * 10,\r\n            r2 = parseInt(salt.substring(offset + 1, offset + 2), 10),\r\n            rounds = r1 + r2,\r\n            real_salt = salt.substring(offset + 3, offset + 25);\r\n        s += minor >= 'a' ? \"\\x00\" : \"\";\r\n\r\n        var passwordb = stringToBytes(s),\r\n            saltb = base64_decode(real_salt, BCRYPT_SALT_LEN);\r\n\r\n        /**\r\n         * Finishes hashing.\r\n         * @param {Array.<number>} bytes Byte array\r\n         * @returns {string}\r\n         * @inner\r\n         */\r\n        function finish(bytes) {\r\n            var res = [];\r\n            res.push(\"$2\");\r\n            if (minor >= 'a')\r\n                res.push(minor);\r\n            res.push(\"$\");\r\n            if (rounds < 10)\r\n                res.push(\"0\");\r\n            res.push(rounds.toString());\r\n            res.push(\"$\");\r\n            res.push(base64_encode(saltb, saltb.length));\r\n            res.push(base64_encode(bytes, C_ORIG.length * 4 - 1));\r\n            return res.join('');\r\n        }\r\n\r\n        // Sync\r\n        if (typeof callback == 'undefined')\r\n            return finish(_crypt(passwordb, saltb, rounds));\r\n\r\n        // Async\r\n        else {\r\n            _crypt(passwordb, saltb, rounds, function(err, bytes) {\r\n                if (err)\r\n                    callback(err, null);\r\n                else\r\n                    callback(null, finish(bytes));\r\n            }, progressCallback);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Encodes a byte array to base64 with up to len bytes of input, using the custom bcrypt alphabet.\r\n     * @function\r\n     * @param {!Array.<number>} b Byte array\r\n     * @param {number} len Maximum input length\r\n     * @returns {string}\r\n     * @expose\r\n     */\r\n    bcrypt.encodeBase64 = base64_encode;\r\n\r\n    /**\r\n     * Decodes a base64 encoded string to up to len bytes of output, using the custom bcrypt alphabet.\r\n     * @function\r\n     * @param {string} s String to decode\r\n     * @param {number} len Maximum output length\r\n     * @returns {!Array.<number>}\r\n     * @expose\r\n     */\r\n    bcrypt.decodeBase64 = base64_decode;\r\n\r\n    return bcrypt;\r\n}));\r\n","/*\r\n Copyright (c) 2012 Nevins Bartolomeo <nevins.bartolomeo@gmail.com>\r\n Copyright (c) 2012 Shane Girish <shaneGirish@gmail.com>\r\n Copyright (c) 2013 Daniel Wirtz <dcode@dcode.io>\r\n\r\n Redistribution and use in source and binary forms, with or without\r\n modification, are permitted provided that the following conditions\r\n are met:\r\n 1. Redistributions of source code must retain the above copyright\r\n notice, this list of conditions and the following disclaimer.\r\n 2. Redistributions in binary form must reproduce the above copyright\r\n notice, this list of conditions and the following disclaimer in the\r\n documentation and/or other materials provided with the distribution.\r\n 3. The name of the author may not be used to endorse or promote products\r\n derived from this software without specific prior written permission.\r\n\r\n THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\r\n IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\r\n OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\r\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\r\n NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\r\n THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\nmodule.exports = require(\"./dist/bcrypt.js\");\r\n","module.exports = class RateLimiterAbstract {\n  /**\n   *\n   * @param opts Object Defaults {\n   *   points: 4, // Number of points\n   *   duration: 1, // Per seconds\n   *   blockDuration: 0, // Block if consumed more than points in current duration for blockDuration seconds\n   *   execEvenly: false, // Execute allowed actions evenly over duration\n   *   execEvenlyMinDelayMs: duration * 1000 / points, // ms, works with execEvenly=true option\n   *   keyPrefix: 'rlflx',\n   * }\n   */\n  constructor(opts = {}) {\n    this.points = opts.points;\n    this.duration = opts.duration;\n    this.blockDuration = opts.blockDuration;\n    this.execEvenly = opts.execEvenly;\n    this.execEvenlyMinDelayMs = opts.execEvenlyMinDelayMs;\n    this.keyPrefix = opts.keyPrefix;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  set points(value) {\n    this._points = value >= 0 ? value : 4;\n  }\n\n  get duration() {\n    return this._duration;\n  }\n\n  set duration(value) {\n    this._duration = typeof value === 'undefined' ? 1 : value;\n  }\n\n  get msDuration() {\n    return this.duration * 1000;\n  }\n\n  get blockDuration() {\n    return this._blockDuration;\n  }\n\n  set blockDuration(value) {\n    this._blockDuration = typeof value === 'undefined' ? 0 : value;\n  }\n\n  get msBlockDuration() {\n    return this.blockDuration * 1000;\n  }\n\n  get execEvenly() {\n    return this._execEvenly;\n  }\n\n  set execEvenly(value) {\n    this._execEvenly = typeof value === 'undefined' ? false : Boolean(value);\n  }\n\n  get execEvenlyMinDelayMs() {\n    return this._execEvenlyMinDelayMs;\n  }\n\n  set execEvenlyMinDelayMs(value) {\n    this._execEvenlyMinDelayMs = typeof value === 'undefined' ? Math.ceil(this.msDuration / this.points) : value;\n  }\n\n  get keyPrefix() {\n    return this._keyPrefix;\n  }\n\n  set keyPrefix(value) {\n    if (typeof value === 'undefined') {\n      value = 'rlflx';\n    }\n    if (typeof value !== 'string') {\n      throw new Error('keyPrefix must be string');\n    }\n    this._keyPrefix = value;\n  }\n\n  _getKeySecDuration(options = {}) {\n    return options && options.customDuration >= 0\n      ? options.customDuration\n      : this.duration;\n  }\n\n  getKey(key) {\n    return this.keyPrefix.length > 0 ? `${this.keyPrefix}:${key}` : key;\n  }\n\n  parseKey(rlKey) {\n    return rlKey.substring(this.keyPrefix.length);\n  }\n\n  consume() {\n    throw new Error(\"You have to implement the method 'consume'!\");\n  }\n\n  penalty() {\n    throw new Error(\"You have to implement the method 'penalty'!\");\n  }\n\n  reward() {\n    throw new Error(\"You have to implement the method 'reward'!\");\n  }\n\n  get() {\n    throw new Error(\"You have to implement the method 'get'!\");\n  }\n\n  set() {\n    throw new Error(\"You have to implement the method 'set'!\");\n  }\n\n  block() {\n    throw new Error(\"You have to implement the method 'block'!\");\n  }\n\n  delete() {\n    throw new Error(\"You have to implement the method 'delete'!\");\n  }\n};\n","module.exports = class BlockedKeys {\n  constructor() {\n    this._keys = {}; // {'key': 1526279430331}\n    this._addedKeysAmount = 0;\n  }\n\n  collectExpired() {\n    const now = Date.now();\n\n    Object.keys(this._keys).forEach((key) => {\n      if (this._keys[key] <= now) {\n        delete this._keys[key];\n      }\n    });\n\n    this._addedKeysAmount = Object.keys(this._keys).length;\n  }\n\n  /**\n   * Add new blocked key\n   *\n   * @param key String\n   * @param sec Number\n   */\n  add(key, sec) {\n    this.addMs(key, sec * 1000);\n  }\n\n  /**\n   * Add new blocked key for ms\n   *\n   * @param key String\n   * @param ms Number\n   */\n  addMs(key, ms) {\n    this._keys[key] = Date.now() + ms;\n    this._addedKeysAmount++;\n    if (this._addedKeysAmount > 999) {\n      this.collectExpired();\n    }\n  }\n\n  /**\n   * 0 means not blocked\n   *\n   * @param key\n   * @returns {number}\n   */\n  msBeforeExpire(key) {\n    const expire = this._keys[key];\n\n    if (expire && expire >= Date.now()) {\n      this.collectExpired();\n      const now = Date.now();\n      return expire >= now ? expire - now : 0;\n    }\n\n    return 0;\n  }\n\n  /**\n   * If key is not given, delete all data in memory\n   * \n   * @param {string|undefined} key\n   */\n  delete(key) {\n    if (key) {\n      delete this._keys[key];\n    } else {\n      Object.keys(this._keys).forEach((key) => {\n        delete this._keys[key];\n      });\n    }\n  }\n};\n","const BlockedKeys = require('./BlockedKeys');\n\nmodule.exports = BlockedKeys;\n","module.exports = class RateLimiterRes {\n  constructor(remainingPoints, msBeforeNext, consumedPoints, isFirstInDuration) {\n    this.remainingPoints = typeof remainingPoints === 'undefined' ? 0 : remainingPoints; // Remaining points in current duration\n    this.msBeforeNext = typeof msBeforeNext === 'undefined' ? 0 : msBeforeNext; // Milliseconds before next action\n    this.consumedPoints = typeof consumedPoints === 'undefined' ? 0 : consumedPoints; // Consumed points in current duration\n    this.isFirstInDuration = typeof isFirstInDuration === 'undefined' ? false : isFirstInDuration;\n  }\n\n  get msBeforeNext() {\n    return this._msBeforeNext;\n  }\n\n  set msBeforeNext(ms) {\n    this._msBeforeNext = ms;\n    return this;\n  }\n\n  get remainingPoints() {\n    return this._remainingPoints;\n  }\n\n  set remainingPoints(p) {\n    this._remainingPoints = p;\n    return this;\n  }\n\n  get consumedPoints() {\n    return this._consumedPoints;\n  }\n\n  set consumedPoints(p) {\n    this._consumedPoints = p;\n    return this;\n  }\n\n  get isFirstInDuration() {\n    return this._isFirstInDuration;\n  }\n\n  set isFirstInDuration(value) {\n    this._isFirstInDuration = Boolean(value);\n  }\n\n  _getDecoratedProperties() {\n    return {\n      remainingPoints: this.remainingPoints,\n      msBeforeNext: this.msBeforeNext,\n      consumedPoints: this.consumedPoints,\n      isFirstInDuration: this.isFirstInDuration,\n    };\n  }\n\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    return this._getDecoratedProperties();\n  }\n\n  toString() {\n    return JSON.stringify(this._getDecoratedProperties());\n  }\n\n  toJSON() {\n    return this._getDecoratedProperties();\n  }\n};\n","const RateLimiterAbstract = require('./RateLimiterAbstract');\nconst BlockedKeys = require('./component/BlockedKeys');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nmodule.exports = class RateLimiterStoreAbstract extends RateLimiterAbstract {\n  /**\n   *\n   * @param opts Object Defaults {\n   *   ... see other in RateLimiterAbstract\n   *\n   *   inMemoryBlockOnConsumed: 40, // Number of points when key is blocked\n   *   inMemoryBlockDuration: 10, // Block duration in seconds\n   *   insuranceLimiter: RateLimiterAbstract\n   * }\n   */\n  constructor(opts = {}) {\n    super(opts);\n\n    this.inMemoryBlockOnConsumed = opts.inMemoryBlockOnConsumed;\n    this.inMemoryBlockDuration = opts.inMemoryBlockDuration;\n    this.insuranceLimiter = opts.insuranceLimiter;\n    this._inMemoryBlockedKeys = new BlockedKeys();\n  }\n\n  get client() {\n    return this._client;\n  }\n\n  set client(value) {\n    if (typeof value === 'undefined') {\n      throw new Error('storeClient is not set');\n    }\n    this._client = value;\n  }\n\n  /**\n   * Have to be launched after consume\n   * It blocks key and execute evenly depending on result from store\n   *\n   * It uses _getRateLimiterRes function to prepare RateLimiterRes from store result\n   *\n   * @param resolve\n   * @param reject\n   * @param rlKey\n   * @param changedPoints\n   * @param storeResult\n   * @param {Object} options\n   * @private\n   */\n  _afterConsume(resolve, reject, rlKey, changedPoints, storeResult, options = {}) {\n    const res = this._getRateLimiterRes(rlKey, changedPoints, storeResult);\n\n    if (this.inMemoryBlockOnConsumed > 0 && !(this.inMemoryBlockDuration > 0)\n      && res.consumedPoints >= this.inMemoryBlockOnConsumed\n    ) {\n      this._inMemoryBlockedKeys.addMs(rlKey, res.msBeforeNext);\n      if (res.consumedPoints > this.points) {\n        return reject(res);\n      } else {\n        return resolve(res)\n      }\n    } else if (res.consumedPoints > this.points) {\n      let blockPromise = Promise.resolve();\n      // Block only first time when consumed more than points\n      if (this.blockDuration > 0 && res.consumedPoints <= (this.points + changedPoints)) {\n        res.msBeforeNext = this.msBlockDuration;\n        blockPromise = this._block(rlKey, res.consumedPoints, this.msBlockDuration, options);\n      }\n\n      if (this.inMemoryBlockOnConsumed > 0 && res.consumedPoints >= this.inMemoryBlockOnConsumed) {\n        // Block key for this.inMemoryBlockDuration seconds\n        this._inMemoryBlockedKeys.add(rlKey, this.inMemoryBlockDuration);\n        res.msBeforeNext = this.msInMemoryBlockDuration;\n      }\n\n      blockPromise\n        .then(() => {\n          reject(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    } else if (this.execEvenly && res.msBeforeNext > 0 && !res.isFirstInDuration) {\n      let delay = Math.ceil(res.msBeforeNext / (res.remainingPoints + 2));\n      if (delay < this.execEvenlyMinDelayMs) {\n        delay = res.consumedPoints * this.execEvenlyMinDelayMs;\n      }\n\n      setTimeout(resolve, delay, res);\n    } else {\n      resolve(res);\n    }\n  }\n\n  _handleError(err, funcName, resolve, reject, key, data = false, options = {}) {\n    if (!(this.insuranceLimiter instanceof RateLimiterAbstract)) {\n      reject(err);\n    } else {\n      this.insuranceLimiter[funcName](key, data, options)\n        .then((res) => {\n          resolve(res);\n        })\n        .catch((res) => {\n          reject(res);\n        });\n    }\n  }\n\n  getInMemoryBlockMsBeforeExpire(rlKey) {\n    if (this.inMemoryBlockOnConsumed > 0) {\n      return this._inMemoryBlockedKeys.msBeforeExpire(rlKey);\n    }\n\n    return 0;\n  }\n\n  get inMemoryBlockOnConsumed() {\n    return this._inMemoryBlockOnConsumed;\n  }\n\n  set inMemoryBlockOnConsumed(value) {\n    this._inMemoryBlockOnConsumed = value ? parseInt(value) : 0;\n    if (this.inMemoryBlockOnConsumed > 0 && this.points > this.inMemoryBlockOnConsumed) {\n      throw new Error('inMemoryBlockOnConsumed option must be greater or equal \"points\" option');\n    }\n  }\n\n  get inMemoryBlockDuration() {\n    return this._inMemoryBlockDuration;\n  }\n\n  set inMemoryBlockDuration(value) {\n    this._inMemoryBlockDuration = value ? parseInt(value) : 0;\n    if (this.inMemoryBlockDuration > 0 && this.inMemoryBlockOnConsumed === 0) {\n      throw new Error('inMemoryBlockOnConsumed option must be set up');\n    }\n  }\n\n  get msInMemoryBlockDuration() {\n    return this._inMemoryBlockDuration * 1000;\n  }\n\n  get insuranceLimiter() {\n    return this._insuranceLimiter;\n  }\n\n  set insuranceLimiter(value) {\n    if (typeof value !== 'undefined' && !(value instanceof RateLimiterAbstract)) {\n      throw new Error('insuranceLimiter must be instance of RateLimiterAbstract');\n    }\n    this._insuranceLimiter = value;\n    if (this._insuranceLimiter) {\n      this._insuranceLimiter.blockDuration = this.blockDuration;\n      this._insuranceLimiter.execEvenly = this.execEvenly;\n    }\n  }\n\n  /**\n   * Block any key for secDuration seconds\n   *\n   * @param key\n   * @param secDuration\n   * @param {Object} options\n   *\n   * @return Promise<RateLimiterRes>\n   */\n  block(key, secDuration, options = {}) {\n    const msDuration = secDuration * 1000;\n    return this._block(this.getKey(key), this.points + 1, msDuration, options);\n  }\n\n  /**\n   * Set points by key for any duration\n   *\n   * @param key\n   * @param points\n   * @param secDuration\n   * @param {Object} options\n   *\n   * @return Promise<RateLimiterRes>\n   */\n  set(key, points, secDuration, options = {}) {\n    const msDuration = (secDuration >= 0 ? secDuration : this.duration) * 1000;\n    return this._block(this.getKey(key), points, msDuration, options);\n  }\n\n  /**\n   *\n   * @param key\n   * @param pointsToConsume\n   * @param {Object} options\n   * @returns Promise<RateLimiterRes>\n   */\n  consume(key, pointsToConsume = 1, options = {}) {\n    return new Promise((resolve, reject) => {\n      const rlKey = this.getKey(key);\n\n      const inMemoryBlockMsBeforeExpire = this.getInMemoryBlockMsBeforeExpire(rlKey);\n      if (inMemoryBlockMsBeforeExpire > 0) {\n        return reject(new RateLimiterRes(0, inMemoryBlockMsBeforeExpire));\n      }\n\n      this._upsert(rlKey, pointsToConsume, this._getKeySecDuration(options) * 1000, false, options)\n        .then((res) => {\n          this._afterConsume(resolve, reject, rlKey, pointsToConsume, res);\n        })\n        .catch((err) => {\n          this._handleError(err, 'consume', resolve, reject, key, pointsToConsume, options);\n        });\n    });\n  }\n\n  /**\n   *\n   * @param key\n   * @param points\n   * @param {Object} options\n   * @returns Promise<RateLimiterRes>\n   */\n  penalty(key, points = 1, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve, reject) => {\n      this._upsert(rlKey, points, this._getKeySecDuration(options) * 1000, false, options)\n        .then((res) => {\n          resolve(this._getRateLimiterRes(rlKey, points, res));\n        })\n        .catch((err) => {\n          this._handleError(err, 'penalty', resolve, reject, key, points, options);\n        });\n    });\n  }\n\n  /**\n   *\n   * @param key\n   * @param points\n   * @param {Object} options\n   * @returns Promise<RateLimiterRes>\n   */\n  reward(key, points = 1, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve, reject) => {\n      this._upsert(rlKey, -points, this._getKeySecDuration(options) * 1000, false, options)\n        .then((res) => {\n          resolve(this._getRateLimiterRes(rlKey, -points, res));\n        })\n        .catch((err) => {\n          this._handleError(err, 'reward', resolve, reject, key, points, options);\n        });\n    });\n  }\n\n  /**\n   *\n   * @param key\n   * @param {Object} options\n   * @returns Promise<RateLimiterRes>|null\n   */\n  get(key, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve, reject) => {\n      this._get(rlKey, options)\n        .then((res) => {\n          if (res === null || typeof res === 'undefined') {\n            resolve(null);\n          } else {\n            resolve(this._getRateLimiterRes(rlKey, 0, res));\n          }\n        })\n        .catch((err) => {\n          this._handleError(err, 'get', resolve, reject, key, options);\n        });\n    });\n  }\n\n  /**\n   *\n   * @param key\n   * @param {Object} options\n   * @returns Promise<boolean>\n   */\n  delete(key, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve, reject) => {\n      this._delete(rlKey, options)\n        .then((res) => {\n          this._inMemoryBlockedKeys.delete(rlKey);\n          resolve(res);\n        })\n        .catch((err) => {\n          this._handleError(err, 'delete', resolve, reject, key, options);\n        });\n    });\n  }\n\n  /**\n   * Cleanup keys no-matter expired or not.\n   */\n  deleteInMemoryBlockedAll() {\n    this._inMemoryBlockedKeys.delete();\n  }\n\n  /**\n   * Get RateLimiterRes object filled depending on storeResult, which specific for exact store\n   *\n   * @param rlKey\n   * @param changedPoints\n   * @param storeResult\n   * @private\n   */\n  _getRateLimiterRes(rlKey, changedPoints, storeResult) { // eslint-disable-line no-unused-vars\n    throw new Error(\"You have to implement the method '_getRateLimiterRes'!\");\n  }\n\n  /**\n   * Block key for this.msBlockDuration milliseconds\n   * Usually, it just prolongs lifetime of key\n   *\n   * @param rlKey\n   * @param initPoints\n   * @param msDuration\n   * @param {Object} options\n   *\n   * @return Promise<any>\n   */\n  _block(rlKey, initPoints, msDuration, options = {}) {\n    return new Promise((resolve, reject) => {\n      this._upsert(rlKey, initPoints, msDuration, true, options)\n        .then(() => {\n          resolve(new RateLimiterRes(0, msDuration > 0 ? msDuration : -1, initPoints));\n        })\n        .catch((err) => {\n          this._handleError(err, 'block', resolve, reject, this.parseKey(rlKey), msDuration / 1000, options);\n        });\n    });\n  }\n\n  /**\n   * Have to be implemented in every limiter\n   * Resolve with raw result from Store OR null if rlKey is not set\n   * or Reject with error\n   *\n   * @param rlKey\n   * @param {Object} options\n   * @private\n   *\n   * @return Promise<any>\n   */\n  _get(rlKey, options = {}) { // eslint-disable-line no-unused-vars\n    throw new Error(\"You have to implement the method '_get'!\");\n  }\n\n  /**\n   * Have to be implemented\n   * Resolve with true OR false if rlKey doesn't exist\n   * or Reject with error\n   *\n   * @param rlKey\n   * @param {Object} options\n   * @private\n   *\n   * @return Promise<any>\n   */\n  _delete(rlKey, options = {}) { // eslint-disable-line no-unused-vars\n    throw new Error(\"You have to implement the method '_delete'!\");\n  }\n\n  /**\n   * Have to be implemented\n   * Resolve with object used for {@link _getRateLimiterRes} to generate {@link RateLimiterRes}\n   *\n   * @param {string} rlKey\n   * @param {number} points\n   * @param {number} msDuration\n   * @param {boolean} forceExpire\n   * @param {Object} options\n   * @abstract\n   *\n   * @return Promise<Object>\n   */\n  _upsert(rlKey, points, msDuration, forceExpire = false, options = {}) {\n    throw new Error(\"You have to implement the method '_upsert'!\");\n  }\n};\n","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nconst incrTtlLuaScript = `redis.call('set', KEYS[1], 0, 'EX', ARGV[2], 'NX') \\\nlocal consumed = redis.call('incrby', KEYS[1], ARGV[1]) \\\nlocal ttl = redis.call('pttl', KEYS[1]) \\\nif ttl == -1 then \\\n  redis.call('expire', KEYS[1], ARGV[2]) \\\n  ttl = 1000 * ARGV[2] \\\nend \\\nreturn {consumed, ttl} \\\n`;\n\nclass RateLimiterRedis extends RateLimiterStoreAbstract {\n  /**\n   *\n   * @param {Object} opts\n   * Defaults {\n   *   ... see other in RateLimiterStoreAbstract\n   *\n   *   redis: RedisClient\n   *   rejectIfRedisNotReady: boolean = false - reject / invoke insuranceLimiter immediately when redis connection is not \"ready\"\n   * }\n   */\n  constructor(opts) {\n    super(opts);\n    this.client = opts.storeClient;\n\n    this._rejectIfRedisNotReady = !!opts.rejectIfRedisNotReady;\n    this._incrTtlLuaScript = opts.customIncrTtlLuaScript || incrTtlLuaScript;\n\n    this.useRedisPackage = opts.useRedisPackage || this.client.constructor.name === 'Commander' || false;\n    this.useRedis3AndLowerPackage = opts.useRedis3AndLowerPackage;\n    if (typeof this.client.defineCommand === 'function') {\n      this.client.defineCommand(\"rlflxIncr\", {\n        numberOfKeys: 1,\n        lua: this._incrTtlLuaScript,\n      });\n    }\n  }\n\n  /**\n   * Prevent actual redis call if redis connection is not ready\n   * Because of different connection state checks for ioredis and node-redis, only this clients would be actually checked.\n   * For any other clients all the requests would be passed directly to redis client\n   * @return {boolean}\n   * @private\n   */\n  _isRedisReady() {\n    if (!this._rejectIfRedisNotReady) {\n      return true;\n    }\n    // ioredis client\n    if (this.client.status && this.client.status !== 'ready') {\n      return false;\n    }\n    // node-redis client\n    if (typeof this.client.isReady === 'function' && !this.client.isReady()) {\n      return false;\n    }\n    return true;\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    let [consumed, resTtlMs] = result;\n    // Support ioredis results format\n    if (Array.isArray(consumed)) {\n      [, consumed] = consumed;\n      [, resTtlMs] = resTtlMs;\n    }\n\n    const res = new RateLimiterRes();\n    res.consumedPoints = parseInt(consumed);\n    res.isFirstInDuration = res.consumedPoints === changedPoints;\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = resTtlMs;\n\n    return res;\n  }\n\n  async _upsert(rlKey, points, msDuration, forceExpire = false) {\n    if (!this._isRedisReady()) {\n      throw new Error('Redis connection is not ready');\n    }\n\n    const secDuration = Math.floor(msDuration / 1000);\n    const multi = this.client.multi();\n\n    if (forceExpire) {\n      if (secDuration > 0) {\n        if(!this.useRedisPackage && !this.useRedis3AndLowerPackage){\n          multi.set(rlKey, points, \"EX\", secDuration);\n        }else{\n          multi.set(rlKey, points, { EX: secDuration });\n        }\n      } else {\n        multi.set(rlKey, points);\n      }\n\n      if(!this.useRedisPackage && !this.useRedis3AndLowerPackage){\n        return multi.pttl(rlKey).exec(true);\n      }\n      return multi.pTTL(rlKey).exec(true);\n    }\n\n    if (secDuration > 0) {\n      if(!this.useRedisPackage && !this.useRedis3AndLowerPackage){\n        return this.client.rlflxIncr(\n          [rlKey].concat([String(points), String(secDuration), String(this.points), String(this.duration)]));\n      }\n      if (this.useRedis3AndLowerPackage) {\n        return new Promise((resolve, reject) => {\n          const incrCallback = function (err, result) {\n            if (err) {\n              return reject(err);\n            }\n\n            return resolve(result);\n          };\n\n          if (typeof this.client.rlflxIncr === 'function') {\n            this.client.rlflxIncr(rlKey, points, secDuration, this.points, this.duration, incrCallback);\n          } else {\n            this.client.eval(this._incrTtlLuaScript, 1, rlKey, points, secDuration, this.points, this.duration, incrCallback);\n          }\n        });\n      } else {\n        return this.client.eval(this._incrTtlLuaScript, {\n          keys: [rlKey],\n          arguments: [String(points), String(secDuration), String(this.points), String(this.duration)],\n        });\n      }\n    } else {\n      if(!this.useRedisPackage && !this.useRedis3AndLowerPackage){\n        return multi.incrby(rlKey, points).pttl(rlKey).exec(true);\n      }\n\n      return multi.incrBy(rlKey, points).pTTL(rlKey).exec(true);\n    }\n  }\n\n  async _get(rlKey) {\n    if (!this._isRedisReady()) {\n      throw new Error('Redis connection is not ready');\n    }\n    if(!this.useRedisPackage && !this.useRedis3AndLowerPackage){\n      return this.client\n        .multi()\n        .get(rlKey)\n        .pttl(rlKey)\n        .exec()\n        .then((result) => {\n          const [[,points]] = result;\n          if (points === null) return null;\n          return result;\n        });\n    }\n\n    return this.client\n      .multi()\n      .get(rlKey)\n      .pTTL(rlKey)\n      .exec(true)\n      .then((result) => {\n        const [points] = result;\n        if (points === null) return null;\n        return result;\n      });\n  }\n\n  _delete(rlKey) {\n    return this.client\n      .del(rlKey)\n      .then(result => result > 0);\n  }\n}\n\nmodule.exports = RateLimiterRedis;\n","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\n/**\n * Get MongoDB driver version as upsert options differ\n * @params {Object} Client instance\n * @returns {Object} Version Object containing major, feature & minor versions.\n */\nfunction getDriverVersion(client) {\n  try {\n    const _client = client.client ? client.client : client;\n\n    let _v = [0, 0, 0];\n    if (typeof _client.topology === 'undefined') {\n      const { version } = _client.options.metadata.driver;\n      _v = version.split('|', 1)[0].split('.').map(v => parseInt(v));\n    } else {\n      const { version } = _client.topology.s.options.metadata.driver;\n      _v = version.split('.').map(v => parseInt(v));\n    }\n\n    return {\n      major: _v[0],\n      feature: _v[1],\n      patch: _v[2],\n    };\n  } catch (err) {\n    return { major: 0, feature: 0, patch: 0 };\n  }\n}\n\nclass RateLimiterMongo extends RateLimiterStoreAbstract {\n  /**\n   *\n   * @param {Object} opts\n   * Defaults {\n   *   indexKeyPrefix: {attr1: 1, attr2: 1}\n   *   ... see other in RateLimiterStoreAbstract\n   *\n   *   mongo: MongoClient\n   * }\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.dbName = opts.dbName;\n    this.tableName = opts.tableName;\n    this.indexKeyPrefix = opts.indexKeyPrefix;\n\n    if (opts.mongo) {\n      this.client = opts.mongo;\n    } else {\n      this.client = opts.storeClient;\n    }\n    if (typeof this.client.then === 'function') {\n      // If Promise\n      this.client\n        .then((conn) => {\n          this.client = conn;\n          this._initCollection();\n          this._driverVersion = getDriverVersion(this.client);\n        });\n    } else {\n      this._initCollection();\n      this._driverVersion = getDriverVersion(this.client);\n    }\n  }\n\n  get dbName() {\n    return this._dbName;\n  }\n\n  set dbName(value) {\n    this._dbName = typeof value === 'undefined' ? RateLimiterMongo.getDbName() : value;\n  }\n\n  static getDbName() {\n    return 'node-rate-limiter-flexible';\n  }\n\n  get tableName() {\n    return this._tableName;\n  }\n\n  set tableName(value) {\n    this._tableName = typeof value === 'undefined' ? this.keyPrefix : value;\n  }\n\n  get client() {\n    return this._client;\n  }\n\n  set client(value) {\n    if (typeof value === 'undefined') {\n      throw new Error('mongo is not set');\n    }\n    this._client = value;\n  }\n\n  get indexKeyPrefix() {\n    return this._indexKeyPrefix;\n  }\n\n  set indexKeyPrefix(obj) {\n    this._indexKeyPrefix = obj || {};\n  }\n\n  _initCollection() {\n    const db = typeof this.client.db === 'function'\n      ? this.client.db(this.dbName)\n      : this.client;\n\n    const collection = db.collection(this.tableName);\n    collection.createIndex({ expire: -1 }, { expireAfterSeconds: 0 });\n    collection.createIndex(Object.assign({}, this.indexKeyPrefix, { key: 1 }), { unique: true });\n\n    this._collection = collection;\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    const res = new RateLimiterRes();\n\n    let doc;\n    if (typeof result.value === 'undefined') {\n      doc = result;\n    } else {\n      doc = result.value;\n    }\n\n    res.isFirstInDuration = doc.points === changedPoints;\n    res.consumedPoints = doc.points;\n\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = doc.expire !== null\n      ? Math.max(new Date(doc.expire).getTime() - Date.now(), 0)\n      : -1;\n\n    return res;\n  }\n\n  _upsert(key, points, msDuration, forceExpire = false, options = {}) {\n    if (!this._collection) {\n      return Promise.reject(Error('Mongo connection is not established'));\n    }\n\n    const docAttrs = options.attrs || {};\n\n    let where;\n    let upsertData;\n    if (forceExpire) {\n      where = { key };\n      where = Object.assign(where, docAttrs);\n      upsertData = {\n        $set: {\n          key,\n          points,\n          expire: msDuration > 0 ? new Date(Date.now() + msDuration) : null,\n        },\n      };\n      upsertData.$set = Object.assign(upsertData.$set, docAttrs);\n    } else {\n      where = {\n        $or: [\n          { expire: { $gt: new Date() } },\n          { expire: { $eq: null } },\n        ],\n        key,\n      };\n      where = Object.assign(where, docAttrs);\n      upsertData = {\n        $setOnInsert: {\n          key,\n          expire: msDuration > 0 ? new Date(Date.now() + msDuration) : null,\n        },\n        $inc: { points },\n      };\n      upsertData.$setOnInsert = Object.assign(upsertData.$setOnInsert, docAttrs);\n    }\n\n    // Options for collection updates differ between driver versions\n    const upsertOptions = {\n      upsert: true,\n    };\n    if ((this._driverVersion.major >= 4) ||\n        (this._driverVersion.major === 3 &&\n          (this._driverVersion.feature >=7) || \n          (this._driverVersion.feature >= 6 && \n              this._driverVersion.patch >= 7 ))) \n    {\n      upsertOptions.returnDocument = 'after';\n    } else {\n      upsertOptions.returnOriginal = false;\n    }\n\n    /*\n     * 1. Find actual limit and increment points\n     * 2. If limit expired, but Mongo doesn't clean doc by TTL yet, try to replace limit doc completely\n     * 3. If 2 or more Mongo threads try to insert the new limit doc, only the first succeed\n     * 4. Try to upsert from step 1. Actual limit is created now, points are incremented without problems\n     */\n    return new Promise((resolve, reject) => {\n      this._collection.findOneAndUpdate(\n        where,\n        upsertData,\n        upsertOptions\n      ).then((res) => {\n        resolve(res);\n      }).catch((errUpsert) => {\n        if (errUpsert && errUpsert.code === 11000) { // E11000 duplicate key error collection\n          const replaceWhere = Object.assign({ // try to replace OLD limit doc\n            $or: [\n              { expire: { $lte: new Date() } },\n              { expire: { $eq: null } },\n            ],\n            key,\n          }, docAttrs);\n\n          const replaceTo = {\n            $set: Object.assign({\n              key,\n              points,\n              expire: msDuration > 0 ? new Date(Date.now() + msDuration) : null,\n            }, docAttrs)\n          };\n\n          this._collection.findOneAndUpdate(\n            replaceWhere,\n            replaceTo,\n            upsertOptions\n          ).then((res) => {\n            resolve(res);\n          }).catch((errReplace) => {\n            if (errReplace && errReplace.code === 11000) { // E11000 duplicate key error collection\n              this._upsert(key, points, msDuration, forceExpire)\n                .then(res => resolve(res))\n                .catch(err => reject(err));\n            } else {\n              reject(errReplace);\n            }\n          });\n        } else {\n          reject(errUpsert);\n        }\n      });\n    });\n  }\n\n  _get(rlKey, options = {}) {\n    if (!this._collection) {\n      return Promise.reject(Error('Mongo connection is not established'));\n    }\n\n    const docAttrs = options.attrs || {};\n\n    const where = Object.assign({\n      key: rlKey,\n      $or: [\n        { expire: { $gt: new Date() } },\n        { expire: { $eq: null } },\n      ],\n    }, docAttrs);\n\n    return this._collection.findOne(where);\n  }\n\n  _delete(rlKey, options = {}) {\n    if (!this._collection) {\n      return Promise.reject(Error('Mongo connection is not established'));\n    }\n\n    const docAttrs = options.attrs || {};\n    const where = Object.assign({ key: rlKey }, docAttrs);\n\n    return this._collection.deleteOne(where)\n      .then(res => res.deletedCount > 0);\n  }\n}\n\nmodule.exports = RateLimiterMongo;\n","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nclass RateLimiterMySQL extends RateLimiterStoreAbstract {\n  /**\n   * @callback callback\n   * @param {Object} err\n   *\n   * @param {Object} opts\n   * @param {callback} cb\n   * Defaults {\n   *   ... see other in RateLimiterStoreAbstract\n   *\n   *   storeClient: anySqlClient,\n   *   storeType: 'knex', // required only for Knex instance\n   *   dbName: 'string',\n   *   tableName: 'string',\n   * }\n   */\n  constructor(opts, cb = null) {\n    super(opts);\n\n    this.client = opts.storeClient;\n    this.clientType = opts.storeType;\n\n    this.dbName = opts.dbName;\n    this.tableName = opts.tableName;\n\n    this.clearExpiredByTimeout = opts.clearExpiredByTimeout;\n\n    this.tableCreated = opts.tableCreated;\n    if (!this.tableCreated) {\n      this._createDbAndTable()\n        .then(() => {\n          this.tableCreated = true;\n          if (this.clearExpiredByTimeout) {\n            this._clearExpiredHourAgo();\n          }\n          if (typeof cb === 'function') {\n            cb();\n          }\n        })\n        .catch((err) => {\n          if (typeof cb === 'function') {\n            cb(err);\n          } else {\n            throw err;\n          }\n        });\n    } else {\n      if (this.clearExpiredByTimeout) {\n        this._clearExpiredHourAgo();\n      }\n      if (typeof cb === 'function') {\n        cb();\n      }\n    }\n  }\n\n  clearExpired(expire) {\n    return new Promise((resolve) => {\n      this._getConnection()\n        .then((conn) => {\n          conn.query(`DELETE FROM ??.?? WHERE expire < ?`, [this.dbName, this.tableName, expire], () => {\n            this._releaseConnection(conn);\n            resolve();\n          });\n        })\n        .catch(() => {\n          resolve();\n        });\n    });\n  }\n\n  _clearExpiredHourAgo() {\n    if (this._clearExpiredTimeoutId) {\n      clearTimeout(this._clearExpiredTimeoutId);\n    }\n    this._clearExpiredTimeoutId = setTimeout(() => {\n      this.clearExpired(Date.now() - 3600000) // Never rejected\n        .then(() => {\n          this._clearExpiredHourAgo();\n        });\n    }, 300000);\n    this._clearExpiredTimeoutId.unref();\n  }\n\n  /**\n   *\n   * @return Promise<any>\n   * @private\n   */\n  _getConnection() {\n    switch (this.clientType) {\n      case 'pool':\n        return new Promise((resolve, reject) => {\n          this.client.getConnection((errConn, conn) => {\n            if (errConn) {\n              return reject(errConn);\n            }\n\n            resolve(conn);\n          });\n        });\n      case 'sequelize':\n        return this.client.connectionManager.getConnection();\n      case 'knex':\n        return this.client.client.acquireConnection();\n      default:\n        return Promise.resolve(this.client);\n    }\n  }\n\n  _releaseConnection(conn) {\n    switch (this.clientType) {\n      case 'pool':\n        return conn.release();\n      case 'sequelize':\n        return this.client.connectionManager.releaseConnection(conn);\n      case 'knex':\n        return this.client.client.releaseConnection(conn);\n      default:\n        return true;\n    }\n  }\n\n  /**\n   *\n   * @returns {Promise<any>}\n   * @private\n   */\n  _createDbAndTable() {\n    return new Promise((resolve, reject) => {\n      this._getConnection()\n        .then((conn) => {\n          conn.query(`CREATE DATABASE IF NOT EXISTS \\`${this.dbName}\\`;`, (errDb) => {\n            if (errDb) {\n              this._releaseConnection(conn);\n              return reject(errDb);\n            }\n            conn.query(this._getCreateTableStmt(), (err) => {\n              if (err) {\n                this._releaseConnection(conn);\n                return reject(err);\n              }\n              this._releaseConnection(conn);\n              resolve();\n            });\n          });\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  _getCreateTableStmt() {\n    return `CREATE TABLE IF NOT EXISTS \\`${this.dbName}\\`.\\`${this.tableName}\\` (` +\n      '`key` VARCHAR(255) CHARACTER SET utf8 NOT NULL,' +\n      '`points` INT(9) NOT NULL default 0,' +\n      '`expire` BIGINT UNSIGNED,' +\n      'PRIMARY KEY (`key`)' +\n      ') ENGINE = INNODB;';\n  }\n\n  get clientType() {\n    return this._clientType;\n  }\n\n  set clientType(value) {\n    if (typeof value === 'undefined') {\n      if (this.client.constructor.name === 'Connection') {\n        value = 'connection';\n      } else if (this.client.constructor.name === 'Pool') {\n        value = 'pool';\n      } else if (this.client.constructor.name === 'Sequelize') {\n        value = 'sequelize';\n      } else {\n        throw new Error('storeType is not defined');\n      }\n    }\n    this._clientType = value.toLowerCase();\n  }\n\n  get dbName() {\n    return this._dbName;\n  }\n\n  set dbName(value) {\n    this._dbName = typeof value === 'undefined' ? 'rtlmtrflx' : value;\n  }\n\n  get tableName() {\n    return this._tableName;\n  }\n\n  set tableName(value) {\n    this._tableName = typeof value === 'undefined' ? this.keyPrefix : value;\n  }\n\n  get tableCreated() {\n    return this._tableCreated\n  }\n\n  set tableCreated(value) {\n    this._tableCreated = typeof value === 'undefined' ? false : !!value;\n  }\n\n  get clearExpiredByTimeout() {\n    return this._clearExpiredByTimeout;\n  }\n\n  set clearExpiredByTimeout(value) {\n    this._clearExpiredByTimeout = typeof value === 'undefined' ? true : Boolean(value);\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    const res = new RateLimiterRes();\n    const [row] = result;\n\n    res.isFirstInDuration = changedPoints === row.points;\n    res.consumedPoints = res.isFirstInDuration ? changedPoints : row.points;\n\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = row.expire\n      ? Math.max(row.expire - Date.now(), 0)\n      : -1;\n\n    return res;\n  }\n\n  _upsertTransaction(conn, key, points, msDuration, forceExpire) {\n    return new Promise((resolve, reject) => {\n      conn.query('BEGIN', (errBegin) => {\n        if (errBegin) {\n          conn.rollback();\n\n          return reject(errBegin);\n        }\n\n        const dateNow = Date.now();\n        const newExpire = msDuration > 0 ? dateNow + msDuration : null;\n\n        let q;\n        let values;\n        if (forceExpire) {\n          q = `INSERT INTO ??.?? VALUES (?, ?, ?)\n          ON DUPLICATE KEY UPDATE \n            points = ?, \n            expire = ?;`;\n          values = [\n            this.dbName, this.tableName, key, points, newExpire,\n            points,\n            newExpire,\n          ];\n        } else {\n          q = `INSERT INTO ??.?? VALUES (?, ?, ?)\n          ON DUPLICATE KEY UPDATE \n            points = IF(expire <= ?, ?, points + (?)), \n            expire = IF(expire <= ?, ?, expire);`;\n          values = [\n            this.dbName, this.tableName, key, points, newExpire,\n            dateNow, points, points,\n            dateNow, newExpire,\n          ];\n        }\n\n        conn.query(q, values, (errUpsert) => {\n          if (errUpsert) {\n            conn.rollback();\n\n            return reject(errUpsert);\n          }\n          conn.query('SELECT points, expire FROM ??.?? WHERE `key` = ?;', [this.dbName, this.tableName, key], (errSelect, res) => {\n            if (errSelect) {\n              conn.rollback();\n\n              return reject(errSelect);\n            }\n\n            conn.query('COMMIT', (err) => {\n              if (err) {\n                conn.rollback();\n\n                return reject(err);\n              }\n\n              resolve(res);\n            });\n          });\n        });\n      });\n    });\n  }\n\n  _upsert(key, points, msDuration, forceExpire = false) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    return new Promise((resolve, reject) => {\n      this._getConnection()\n        .then((conn) => {\n          this._upsertTransaction(conn, key, points, msDuration, forceExpire)\n            .then((res) => {\n              resolve(res);\n              this._releaseConnection(conn);\n            })\n            .catch((err) => {\n              reject(err);\n              this._releaseConnection(conn);\n            });\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  _get(rlKey) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    return new Promise((resolve, reject) => {\n      this._getConnection()\n        .then((conn) => {\n          conn.query(\n            'SELECT points, expire FROM ??.?? WHERE `key` = ? AND (`expire` > ? OR `expire` IS NULL)',\n            [this.dbName, this.tableName, rlKey, Date.now()],\n            (err, res) => {\n              if (err) {\n                reject(err);\n              } else if (res.length === 0) {\n                resolve(null);\n              } else {\n                resolve(res);\n              }\n\n              this._releaseConnection(conn);\n            } // eslint-disable-line\n          );\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  _delete(rlKey) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    return new Promise((resolve, reject) => {\n      this._getConnection()\n        .then((conn) => {\n          conn.query(\n            'DELETE FROM ??.?? WHERE `key` = ?',\n            [this.dbName, this.tableName, rlKey],\n            (err, res) => {\n              if (err) {\n                reject(err);\n              } else {\n                resolve(res.affectedRows > 0);\n              }\n\n              this._releaseConnection(conn);\n            } // eslint-disable-line\n          );\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n}\n\nmodule.exports = RateLimiterMySQL;\n","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nclass RateLimiterPostgres extends RateLimiterStoreAbstract {\n  /**\n   * @callback callback\n   * @param {Object} err\n   *\n   * @param {Object} opts\n   * @param {callback} cb\n   * Defaults {\n   *   ... see other in RateLimiterStoreAbstract\n   *\n   *   storeClient: postgresClient,\n   *   storeType: 'knex', // required only for Knex instance\n   *   tableName: 'string',\n   *   schemaName: 'string', // optional\n   * }\n   */\n  constructor(opts, cb = null) {\n    super(opts);\n\n    this.client = opts.storeClient;\n    this.clientType = opts.storeType;\n\n    this.tableName = opts.tableName;\n    this.schemaName = opts.schemaName;\n\n    this.clearExpiredByTimeout = opts.clearExpiredByTimeout;\n\n    this.tableCreated = opts.tableCreated;\n    if (!this.tableCreated) {\n      this._createTable()\n        .then(() => {\n          this.tableCreated = true;\n          if (this.clearExpiredByTimeout) {\n            this._clearExpiredHourAgo();\n          }\n          if (typeof cb === 'function') {\n            cb();\n          }\n        })\n        .catch((err) => {\n          if (typeof cb === 'function') {\n            cb(err);\n          } else {\n            throw err;\n          }\n        });\n    } else {\n      if (this.clearExpiredByTimeout) {\n        this._clearExpiredHourAgo();\n      }\n      if (typeof cb === 'function') {\n        cb();\n      }\n    }\n  }\n\n  _getTableIdentifier() {\n    return this.schemaName ? `\"${this.schemaName}\".\"${this.tableName}\"` : `\"${this.tableName}\"`;\n  }\n\n  clearExpired(expire) {\n    return new Promise((resolve) => {\n      const q = {\n        name: 'rlflx-clear-expired',\n        text: `DELETE FROM ${this._getTableIdentifier()} WHERE expire < $1`,\n        values: [expire],\n      };\n      this._query(q)\n        .then(() => {\n          resolve();\n        })\n        .catch(() => {\n          // Deleting expired query is not critical\n          resolve();\n        });\n    });\n  }\n\n  /**\n   * Delete all rows expired 1 hour ago once per 5 minutes\n   *\n   * @private\n   */\n  _clearExpiredHourAgo() {\n    if (this._clearExpiredTimeoutId) {\n      clearTimeout(this._clearExpiredTimeoutId);\n    }\n    this._clearExpiredTimeoutId = setTimeout(() => {\n      this.clearExpired(Date.now() - 3600000) // Never rejected\n        .then(() => {\n          this._clearExpiredHourAgo();\n        });\n    }, 300000);\n    this._clearExpiredTimeoutId.unref();\n  }\n\n  /**\n   *\n   * @return Promise<any>\n   * @private\n   */\n  _getConnection() {\n    switch (this.clientType) {\n      case 'pool':\n        return Promise.resolve(this.client);\n      case 'sequelize':\n        return this.client.connectionManager.getConnection();\n      case 'knex':\n        return this.client.client.acquireConnection();\n      case 'typeorm':\n        return Promise.resolve(this.client.driver.master);\n      default:\n        return Promise.resolve(this.client);\n    }\n  }\n\n  _releaseConnection(conn) {\n    switch (this.clientType) {\n      case 'pool':\n        return true;\n      case 'sequelize':\n        return this.client.connectionManager.releaseConnection(conn);\n      case 'knex':\n        return this.client.client.releaseConnection(conn);\n      case 'typeorm':\n        return true;\n      default:\n        return true;\n    }\n  }\n\n  /**\n   *\n   * @returns {Promise<any>}\n   * @private\n   */\n  _createTable() {\n    return new Promise((resolve, reject) => {\n      this._query({\n        text: this._getCreateTableStmt(),\n      })\n        .then(() => {\n          resolve();\n        })\n        .catch((err) => {\n          if (err.code === '23505') {\n            // Error: duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\n            // Postgres doesn't handle concurrent table creation\n            // It is supposed, that table is created by another worker\n            resolve();\n          } else {\n            reject(err);\n          }\n        });\n    });\n  }\n\n  _getCreateTableStmt() {\n    return `CREATE TABLE IF NOT EXISTS ${this._getTableIdentifier()} (\n      key varchar(255) PRIMARY KEY,\n      points integer NOT NULL DEFAULT 0,\n      expire bigint\n    );`;\n  }\n\n  get clientType() {\n    return this._clientType;\n  }\n\n  set clientType(value) {\n    const constructorName = this.client.constructor.name;\n\n    if (typeof value === 'undefined') {\n      if (constructorName === 'Client') {\n        value = 'client';\n      } else if (\n        constructorName === 'Pool' ||\n        constructorName === 'BoundPool'\n      ) {\n        value = 'pool';\n      } else if (constructorName === 'Sequelize') {\n        value = 'sequelize';\n      } else {\n        throw new Error('storeType is not defined');\n      }\n    }\n\n    this._clientType = value.toLowerCase();\n  }\n\n  get tableName() {\n    return this._tableName;\n  }\n\n  set tableName(value) {\n    this._tableName = typeof value === 'undefined' ? this.keyPrefix : value;\n  }\n\n  get schemaName() {\n    return this._schemaName;\n  }\n\n  set schemaName(value) {\n    this._schemaName = value;\n  }\n\n  get tableCreated() {\n    return this._tableCreated;\n  }\n\n  set tableCreated(value) {\n    this._tableCreated = typeof value === 'undefined' ? false : !!value;\n  }\n\n  get clearExpiredByTimeout() {\n    return this._clearExpiredByTimeout;\n  }\n\n  set clearExpiredByTimeout(value) {\n    this._clearExpiredByTimeout = typeof value === 'undefined' ? true : Boolean(value);\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    const res = new RateLimiterRes();\n    const row = result.rows[0];\n\n    res.isFirstInDuration = changedPoints === row.points;\n    res.consumedPoints = res.isFirstInDuration ? changedPoints : row.points;\n\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = row.expire\n      ? Math.max(row.expire - Date.now(), 0)\n      : -1;\n\n    return res;\n  }\n\n  _query(q) {\n    const prefix = this.tableName.toLowerCase();\n    const queryObj = { name: `${prefix}:${q.name}`, text: q.text, values: q.values };\n    return new Promise((resolve, reject) => {\n      this._getConnection()\n        .then((conn) => {\n          conn.query(queryObj)\n            .then((res) => {\n              resolve(res);\n              this._releaseConnection(conn);\n            })\n            .catch((err) => {\n              reject(err);\n              this._releaseConnection(conn);\n            });\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  _upsert(key, points, msDuration, forceExpire = false) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    const newExpire = msDuration > 0 ? Date.now() + msDuration : null;\n    const expireQ = forceExpire\n      ? ' $3 '\n      : ` CASE\n             WHEN ${this._getTableIdentifier()}.expire <= $4 THEN $3\n             ELSE ${this._getTableIdentifier()}.expire\n            END `;\n\n    return this._query({\n      name: forceExpire ? 'rlflx-upsert-force' : 'rlflx-upsert',\n      text: `\n            INSERT INTO ${this._getTableIdentifier()} VALUES ($1, $2, $3)\n              ON CONFLICT(key) DO UPDATE SET\n                points = CASE\n                          WHEN (${this._getTableIdentifier()}.expire <= $4 OR 1=${forceExpire ? 1 : 0}) THEN $2\n                          ELSE ${this._getTableIdentifier()}.points + ($2)\n                         END,\n                expire = ${expireQ}\n            RETURNING points, expire;`,\n      values: [key, points, newExpire, Date.now()],\n    });\n  }\n\n  _get(rlKey) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    return new Promise((resolve, reject) => {\n      this._query({\n        name: 'rlflx-get',\n        text: `\n            SELECT points, expire FROM ${this._getTableIdentifier()} WHERE key = $1 AND (expire > $2 OR expire IS NULL);`,\n        values: [rlKey, Date.now()],\n      })\n        .then((res) => {\n          if (res.rowCount === 0) {\n            res = null;\n          }\n          resolve(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  _delete(rlKey) {\n    if (!this.tableCreated) {\n      return Promise.reject(Error('Table is not created yet'));\n    }\n\n    return this._query({\n      name: 'rlflx-delete',\n      text: `DELETE FROM ${this._getTableIdentifier()} WHERE key = $1`,\n      values: [rlKey],\n    })\n      .then(res => res.rowCount > 0);\n  }\n}\n\nmodule.exports = RateLimiterPostgres;\n","module.exports = class Record {\n  /**\n   *\n   * @param value int\n   * @param expiresAt Date|int\n   * @param timeoutId\n   */\n  constructor(value, expiresAt, timeoutId = null) {\n    this.value = value;\n    this.expiresAt = expiresAt;\n    this.timeoutId = timeoutId;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(value) {\n    this._value = parseInt(value);\n  }\n\n  get expiresAt() {\n    return this._expiresAt;\n  }\n\n  set expiresAt(value) {\n    if (!(value instanceof Date) && Number.isInteger(value)) {\n      value = new Date(value);\n    }\n    this._expiresAt = value;\n  }\n\n  get timeoutId() {\n    return this._timeoutId;\n  }\n\n  set timeoutId(value) {\n    this._timeoutId = value;\n  }\n};\n","const Record = require('./Record');\nconst RateLimiterRes = require('../../RateLimiterRes');\n\nmodule.exports = class MemoryStorage {\n  constructor() {\n    /**\n     * @type {Object.<string, Record>}\n     * @private\n     */\n    this._storage = {};\n  }\n\n  incrby(key, value, durationSec) {\n    if (this._storage[key]) {\n      const msBeforeExpires = this._storage[key].expiresAt\n        ? this._storage[key].expiresAt.getTime() - new Date().getTime()\n        : -1;\n      if (!this._storage[key].expiresAt || msBeforeExpires > 0) {\n        // Change value\n        this._storage[key].value = this._storage[key].value + value;\n\n        return new RateLimiterRes(0, msBeforeExpires, this._storage[key].value, false);\n      }\n\n      return this.set(key, value, durationSec);\n    }\n    return this.set(key, value, durationSec);\n  }\n\n  set(key, value, durationSec) {\n    const durationMs = durationSec * 1000;\n\n    if (this._storage[key] && this._storage[key].timeoutId) {\n      clearTimeout(this._storage[key].timeoutId);\n    }\n\n    this._storage[key] = new Record(\n      value,\n      durationMs > 0 ? new Date(Date.now() + durationMs) : null\n    );\n    if (durationMs > 0) {\n      this._storage[key].timeoutId = setTimeout(() => {\n        delete this._storage[key];\n      }, durationMs);\n      if (this._storage[key].timeoutId.unref) {\n        this._storage[key].timeoutId.unref();\n      }\n    }\n\n    return new RateLimiterRes(0, durationMs === 0 ? -1 : durationMs, this._storage[key].value, true);\n  }\n\n  /**\n   *\n   * @param key\n   * @returns {*}\n   */\n  get(key) {\n    if (this._storage[key]) {\n      const msBeforeExpires = this._storage[key].expiresAt\n        ? this._storage[key].expiresAt.getTime() - new Date().getTime()\n        : -1;\n      return new RateLimiterRes(0, msBeforeExpires, this._storage[key].value, false);\n    }\n    return null;\n  }\n\n  /**\n   *\n   * @param key\n   * @returns {boolean}\n   */\n  delete(key) {\n    if (this._storage[key]) {\n      if (this._storage[key].timeoutId) {\n        clearTimeout(this._storage[key].timeoutId);\n      }\n      delete this._storage[key];\n      return true;\n    }\n    return false;\n  }\n};\n","const RateLimiterAbstract = require('./RateLimiterAbstract');\nconst MemoryStorage = require('./component/MemoryStorage/MemoryStorage');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nclass RateLimiterMemory extends RateLimiterAbstract {\n  constructor(opts = {}) {\n    super(opts);\n\n    this._memoryStorage = new MemoryStorage();\n  }\n  /**\n   *\n   * @param key\n   * @param pointsToConsume\n   * @param {Object} options\n   * @returns {Promise<RateLimiterRes>}\n   */\n  consume(key, pointsToConsume = 1, options = {}) {\n    return new Promise((resolve, reject) => {\n      const rlKey = this.getKey(key);\n      const secDuration = this._getKeySecDuration(options);\n      let res = this._memoryStorage.incrby(rlKey, pointsToConsume, secDuration);\n      res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n\n      if (res.consumedPoints > this.points) {\n        // Block only first time when consumed more than points\n        if (this.blockDuration > 0 && res.consumedPoints <= (this.points + pointsToConsume)) {\n          // Block key\n          res = this._memoryStorage.set(rlKey, res.consumedPoints, this.blockDuration);\n        }\n        reject(res);\n      } else if (this.execEvenly && res.msBeforeNext > 0 && !res.isFirstInDuration) {\n        // Execute evenly\n        let delay = Math.ceil(res.msBeforeNext / (res.remainingPoints + 2));\n        if (delay < this.execEvenlyMinDelayMs) {\n          delay = res.consumedPoints * this.execEvenlyMinDelayMs;\n        }\n\n        setTimeout(resolve, delay, res);\n      } else {\n        resolve(res);\n      }\n    });\n  }\n\n  penalty(key, points = 1, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve) => {\n      const secDuration = this._getKeySecDuration(options);\n      const res = this._memoryStorage.incrby(rlKey, points, secDuration);\n      res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n      resolve(res);\n    });\n  }\n\n  reward(key, points = 1, options = {}) {\n    const rlKey = this.getKey(key);\n    return new Promise((resolve) => {\n      const secDuration = this._getKeySecDuration(options);\n      const res = this._memoryStorage.incrby(rlKey, -points, secDuration);\n      res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n      resolve(res);\n    });\n  }\n\n  /**\n   * Block any key for secDuration seconds\n   *\n   * @param key\n   * @param secDuration\n   */\n  block(key, secDuration) {\n    const msDuration = secDuration * 1000;\n    const initPoints = this.points + 1;\n\n    this._memoryStorage.set(this.getKey(key), initPoints, secDuration);\n    return Promise.resolve(\n      new RateLimiterRes(0, msDuration === 0 ? -1 : msDuration, initPoints)\n    );\n  }\n\n  set(key, points, secDuration) {\n    const msDuration = (secDuration >= 0 ? secDuration : this.duration) * 1000;\n\n    this._memoryStorage.set(this.getKey(key), points, secDuration);\n    return Promise.resolve(\n      new RateLimiterRes(0, msDuration === 0 ? -1 : msDuration, points)\n    );\n  }\n\n  get(key) {\n    const res = this._memoryStorage.get(this.getKey(key));\n    if (res !== null) {\n      res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    }\n\n    return Promise.resolve(res);\n  }\n\n  delete(key) {\n    return Promise.resolve(this._memoryStorage.delete(this.getKey(key)));\n  }\n}\n\nmodule.exports = RateLimiterMemory;\n\n","/**\n * Implements rate limiting in cluster using built-in IPC\n *\n * Two classes are described here: master and worker\n * Master have to be create in the master process without any options.\n * Any number of rate limiters can be created in workers, but each rate limiter must be with unique keyPrefix\n *\n * Workflow:\n * 1. master rate limiter created in master process\n * 2. worker rate limiter sends 'init' message with necessary options during creating\n * 3. master receives options and adds new rate limiter by keyPrefix if it isn't created yet\n * 4. master sends 'init' back to worker's rate limiter\n * 5. worker can process requests immediately,\n *    but they will be postponed by 'workerWaitInit' until master sends 'init' to worker\n * 6. every request to worker rate limiter creates a promise\n * 7. if master doesn't response for 'timeout', promise is rejected\n * 8. master sends 'resolve' or 'reject' command to worker\n * 9. worker resolves or rejects promise depending on message from master\n *\n */\n\nconst cluster = require('cluster');\nconst crypto = require('crypto');\nconst RateLimiterAbstract = require('./RateLimiterAbstract');\nconst RateLimiterMemory = require('./RateLimiterMemory');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nconst channel = 'rate_limiter_flexible';\nlet masterInstance = null;\n\nconst masterSendToWorker = function (worker, msg, type, res) {\n  let data;\n  if (res === null || res === true || res === false) {\n    data = res;\n  } else {\n    data = {\n      remainingPoints: res.remainingPoints,\n      msBeforeNext: res.msBeforeNext,\n      consumedPoints: res.consumedPoints,\n      isFirstInDuration: res.isFirstInDuration,\n    };\n  }\n  worker.send({\n    channel,\n    keyPrefix: msg.keyPrefix, // which rate limiter exactly\n    promiseId: msg.promiseId,\n    type,\n    data,\n  });\n};\n\nconst workerWaitInit = function (payload) {\n  setTimeout(() => {\n    if (this._initiated) {\n      process.send(payload);\n      // Promise will be removed by timeout if too long\n    } else if (typeof this._promises[payload.promiseId] !== 'undefined') {\n      workerWaitInit.call(this, payload);\n    }\n  }, 30);\n};\n\nconst workerSendToMaster = function (func, promiseId, key, arg, opts) {\n  const payload = {\n    channel,\n    keyPrefix: this.keyPrefix,\n    func,\n    promiseId,\n    data: {\n      key,\n      arg,\n      opts,\n    },\n  };\n\n  if (!this._initiated) {\n    // Wait init before sending messages to master\n    workerWaitInit.call(this, payload);\n  } else {\n    process.send(payload);\n  }\n};\n\nconst masterProcessMsg = function (worker, msg) {\n  if (!msg || msg.channel !== channel || typeof this._rateLimiters[msg.keyPrefix] === 'undefined') {\n    return false;\n  }\n\n  let promise;\n\n  switch (msg.func) {\n    case 'consume':\n      promise = this._rateLimiters[msg.keyPrefix].consume(msg.data.key, msg.data.arg, msg.data.opts);\n      break;\n    case 'penalty':\n      promise = this._rateLimiters[msg.keyPrefix].penalty(msg.data.key, msg.data.arg, msg.data.opts);\n      break;\n    case 'reward':\n      promise = this._rateLimiters[msg.keyPrefix].reward(msg.data.key, msg.data.arg, msg.data.opts);\n      break;\n    case 'block':\n      promise = this._rateLimiters[msg.keyPrefix].block(msg.data.key, msg.data.arg, msg.data.opts);\n      break;\n    case 'get':\n      promise = this._rateLimiters[msg.keyPrefix].get(msg.data.key, msg.data.opts);\n      break;\n    case 'delete':\n      promise = this._rateLimiters[msg.keyPrefix].delete(msg.data.key, msg.data.opts);\n      break;\n    default:\n      return false;\n  }\n\n  if (promise) {\n    promise\n      .then((res) => {\n        masterSendToWorker(worker, msg, 'resolve', res);\n      })\n      .catch((rejRes) => {\n        masterSendToWorker(worker, msg, 'reject', rejRes);\n      });\n  }\n};\n\nconst workerProcessMsg = function (msg) {\n  if (!msg || msg.channel !== channel || msg.keyPrefix !== this.keyPrefix) {\n    return false;\n  }\n\n  if (this._promises[msg.promiseId]) {\n    clearTimeout(this._promises[msg.promiseId].timeoutId);\n    let res;\n    if (msg.data === null || msg.data === true || msg.data === false) {\n      res = msg.data;\n    } else {\n      res = new RateLimiterRes(\n        msg.data.remainingPoints,\n        msg.data.msBeforeNext,\n        msg.data.consumedPoints,\n        msg.data.isFirstInDuration // eslint-disable-line comma-dangle\n      );\n    }\n\n    switch (msg.type) {\n      case 'resolve':\n        this._promises[msg.promiseId].resolve(res);\n        break;\n      case 'reject':\n        this._promises[msg.promiseId].reject(res);\n        break;\n      default:\n        throw new Error(`RateLimiterCluster: no such message type '${msg.type}'`);\n    }\n\n    delete this._promises[msg.promiseId];\n  }\n};\n/**\n * Prepare options to send to master\n * Master will create rate limiter depending on options\n *\n * @returns {{points: *, duration: *, blockDuration: *, execEvenly: *, execEvenlyMinDelayMs: *, keyPrefix: *}}\n */\nconst getOpts = function () {\n  return {\n    points: this.points,\n    duration: this.duration,\n    blockDuration: this.blockDuration,\n    execEvenly: this.execEvenly,\n    execEvenlyMinDelayMs: this.execEvenlyMinDelayMs,\n    keyPrefix: this.keyPrefix,\n  };\n};\n\nconst savePromise = function (resolve, reject) {\n  const hrtime = process.hrtime();\n  let promiseId = hrtime[0].toString() + hrtime[1].toString();\n\n  if (typeof this._promises[promiseId] !== 'undefined') {\n    promiseId += crypto.randomBytes(12).toString('base64');\n  }\n\n  this._promises[promiseId] = {\n    resolve,\n    reject,\n    timeoutId: setTimeout(() => {\n      delete this._promises[promiseId];\n      reject(new Error('RateLimiterCluster timeout: no answer from master in time'));\n    }, this.timeoutMs),\n  };\n\n  return promiseId;\n};\n\nclass RateLimiterClusterMaster {\n  constructor() {\n    if (masterInstance) {\n      return masterInstance;\n    }\n\n    this._rateLimiters = {};\n\n    cluster.setMaxListeners(0);\n\n    cluster.on('message', (worker, msg) => {\n      if (msg && msg.channel === channel && msg.type === 'init') {\n        // If init request, check or create rate limiter by key prefix and send 'init' back to worker\n        if (typeof this._rateLimiters[msg.opts.keyPrefix] === 'undefined') {\n          this._rateLimiters[msg.opts.keyPrefix] = new RateLimiterMemory(msg.opts);\n        }\n\n        worker.send({\n          channel,\n          type: 'init',\n          keyPrefix: msg.opts.keyPrefix,\n        });\n      } else {\n        masterProcessMsg.call(this, worker, msg);\n      }\n    });\n\n    masterInstance = this;\n  }\n}\n\nclass RateLimiterClusterMasterPM2 {\n  constructor(pm2) {\n    if (masterInstance) {\n      return masterInstance;\n    }\n\n    this._rateLimiters = {};\n\n    pm2.launchBus((err, pm2Bus) => {\n      pm2Bus.on('process:msg', (packet) => {\n        const msg = packet.raw;\n        if (msg && msg.channel === channel && msg.type === 'init') {\n          // If init request, check or create rate limiter by key prefix and send 'init' back to worker\n          if (typeof this._rateLimiters[msg.opts.keyPrefix] === 'undefined') {\n            this._rateLimiters[msg.opts.keyPrefix] = new RateLimiterMemory(msg.opts);\n          }\n\n          pm2.sendDataToProcessId(packet.process.pm_id, {\n            data: {},\n            topic: channel,\n            channel,\n            type: 'init',\n            keyPrefix: msg.opts.keyPrefix,\n          }, (sendErr, res) => {\n            if (sendErr) {\n              console.log(sendErr, res);\n            }\n          });\n        } else {\n          const worker = {\n            send: (msgData) => {\n              const pm2Message = msgData;\n              pm2Message.topic = channel;\n              if (typeof pm2Message.data === 'undefined') {\n                pm2Message.data = {};\n              }\n              pm2.sendDataToProcessId(packet.process.pm_id, pm2Message, (sendErr, res) => {\n                if (sendErr) {\n                  console.log(sendErr, res);\n                }\n              });\n            },\n          };\n          masterProcessMsg.call(this, worker, msg);\n        }\n      });\n    });\n\n    masterInstance = this;\n  }\n}\n\nclass RateLimiterClusterWorker extends RateLimiterAbstract {\n  get timeoutMs() {\n    return this._timeoutMs;\n  }\n\n  set timeoutMs(value) {\n    this._timeoutMs = typeof value === 'undefined' ? 5000 : Math.abs(parseInt(value));\n  }\n\n  constructor(opts = {}) {\n    super(opts);\n\n    process.setMaxListeners(0);\n\n    this.timeoutMs = opts.timeoutMs;\n\n    this._initiated = false;\n\n    process.on('message', (msg) => {\n      if (msg && msg.channel === channel && msg.type === 'init' && msg.keyPrefix === this.keyPrefix) {\n        this._initiated = true;\n      } else {\n        workerProcessMsg.call(this, msg);\n      }\n    });\n\n    // Create limiter on master with specific options\n    process.send({\n      channel,\n      type: 'init',\n      opts: getOpts.call(this),\n    });\n\n    this._promises = {};\n  }\n\n  consume(key, pointsToConsume = 1, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'consume', promiseId, key, pointsToConsume, options);\n    });\n  }\n\n  penalty(key, points = 1, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'penalty', promiseId, key, points, options);\n    });\n  }\n\n  reward(key, points = 1, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'reward', promiseId, key, points, options);\n    });\n  }\n\n  block(key, secDuration, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'block', promiseId, key, secDuration, options);\n    });\n  }\n\n  get(key, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'get', promiseId, key, options);\n    });\n  }\n\n  delete(key, options = {}) {\n    return new Promise((resolve, reject) => {\n      const promiseId = savePromise.call(this, resolve, reject);\n\n      workerSendToMaster.call(this, 'delete', promiseId, key, options);\n    });\n  }\n}\n\nmodule.exports = {\n  RateLimiterClusterMaster,\n  RateLimiterClusterMasterPM2,\n  RateLimiterCluster: RateLimiterClusterWorker,\n};\n","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nclass RateLimiterMemcache extends RateLimiterStoreAbstract {\n  /**\n   *\n   * @param {Object} opts\n   * Defaults {\n   *   ... see other in RateLimiterStoreAbstract\n   *\n   *   storeClient: memcacheClient\n   * }\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.client = opts.storeClient;\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    const res = new RateLimiterRes();\n    res.consumedPoints = parseInt(result.consumedPoints);\n    res.isFirstInDuration = result.consumedPoints === changedPoints;\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = result.msBeforeNext;\n\n    return res;\n  }\n\n  _upsert(rlKey, points, msDuration, forceExpire = false, options = {}) {\n    return new Promise((resolve, reject) => {\n      const nowMs = Date.now();\n      const secDuration = Math.floor(msDuration / 1000);\n\n      if (forceExpire) {\n        this.client.set(rlKey, points, secDuration, (err) => {\n          if (!err) {\n            this.client.set(\n              `${rlKey}_expire`,\n              secDuration > 0 ? nowMs + (secDuration * 1000) : -1,\n              secDuration,\n              () => {\n                const res = {\n                  consumedPoints: points,\n                  msBeforeNext: secDuration > 0 ? secDuration * 1000 : -1,\n                };\n                resolve(res);\n              }\n            );\n          } else {\n            reject(err);\n          }\n        });\n      } else {\n        this.client.incr(rlKey, points, (err, consumedPoints) => {\n          if (err || consumedPoints === false) {\n            this.client.add(rlKey, points, secDuration, (errAddKey, createdNew) => {\n              if (errAddKey || !createdNew) {\n                // Try to upsert again in case of race condition\n                if (typeof options.attemptNumber === 'undefined' || options.attemptNumber < 3) {\n                  const nextOptions = Object.assign({}, options);\n                  nextOptions.attemptNumber = nextOptions.attemptNumber ? (nextOptions.attemptNumber + 1) : 1;\n\n                  this._upsert(rlKey, points, msDuration, forceExpire, nextOptions)\n                    .then(resUpsert => resolve(resUpsert))\n                    .catch(errUpsert => reject(errUpsert));\n                } else {\n                  reject(new Error('Can not add key'));\n                }\n              } else {\n                this.client.add(\n                  `${rlKey}_expire`,\n                  secDuration > 0 ? nowMs + (secDuration * 1000) : -1,\n                  secDuration,\n                  () => {\n                    const res = {\n                      consumedPoints: points,\n                      msBeforeNext: secDuration > 0 ? secDuration * 1000 : -1,\n                    };\n                    resolve(res);\n                  }\n                );\n              }\n            });\n          } else {\n            this.client.get(`${rlKey}_expire`, (errGetExpire, resGetExpireMs) => {\n              if (errGetExpire) {\n                reject(errGetExpire);\n              } else {\n                const expireMs = resGetExpireMs === false ? 0 : resGetExpireMs;\n                const res = {\n                  consumedPoints,\n                  msBeforeNext: expireMs >= 0 ? Math.max(expireMs - nowMs, 0) : -1,\n                };\n                resolve(res);\n              }\n            });\n          }\n        });\n      }\n    });\n  }\n\n  _get(rlKey) {\n    return new Promise((resolve, reject) => {\n      const nowMs = Date.now();\n\n      this.client.get(rlKey, (err, consumedPoints) => {\n        if (!consumedPoints) {\n          resolve(null);\n        } else {\n          this.client.get(`${rlKey}_expire`, (errGetExpire, resGetExpireMs) => {\n            if (errGetExpire) {\n              reject(errGetExpire);\n            } else {\n              const expireMs = resGetExpireMs === false ? 0 : resGetExpireMs;\n              const res = {\n                consumedPoints,\n                msBeforeNext: expireMs >= 0 ? Math.max(expireMs - nowMs, 0) : -1,\n              };\n              resolve(res);\n            }\n          });\n        }\n      });\n    });\n  }\n\n  _delete(rlKey) {\n    return new Promise((resolve, reject) => {\n      this.client.del(rlKey, (err, res) => {\n        if (err) {\n          reject(err);\n        } else if (res === false) {\n          resolve(res);\n        } else {\n          this.client.del(`${rlKey}_expire`, (errDelExpire) => {\n            if (errDelExpire) {\n              reject(errDelExpire);\n            } else {\n              resolve(res);\n            }\n          });\n        }\n      });\n    });\n  }\n}\n\nmodule.exports = RateLimiterMemcache;\n","const RateLimiterRes = require('./RateLimiterRes');\n\nmodule.exports = class RLWrapperBlackAndWhite {\n  constructor(opts = {}) {\n    this.limiter = opts.limiter;\n    this.blackList = opts.blackList;\n    this.whiteList = opts.whiteList;\n    this.isBlackListed = opts.isBlackListed;\n    this.isWhiteListed = opts.isWhiteListed;\n    this.runActionAnyway = opts.runActionAnyway;\n  }\n\n  get limiter() {\n    return this._limiter;\n  }\n\n  set limiter(value) {\n    if (typeof value === 'undefined') {\n      throw new Error('limiter is not set');\n    }\n\n    this._limiter = value;\n  }\n\n  get runActionAnyway() {\n    return this._runActionAnyway;\n  }\n\n  set runActionAnyway(value) {\n    this._runActionAnyway = typeof value === 'undefined' ? false : value;\n  }\n\n  get blackList() {\n    return this._blackList;\n  }\n\n  set blackList(value) {\n    this._blackList = Array.isArray(value) ? value : [];\n  }\n\n  get isBlackListed() {\n    return this._isBlackListed;\n  }\n\n  set isBlackListed(func) {\n    if (typeof func === 'undefined') {\n      func = () => false;\n    }\n    if (typeof func !== 'function') {\n      throw new Error('isBlackListed must be function');\n    }\n    this._isBlackListed = func;\n  }\n\n  get whiteList() {\n    return this._whiteList;\n  }\n\n  set whiteList(value) {\n    this._whiteList = Array.isArray(value) ? value : [];\n  }\n\n  get isWhiteListed() {\n    return this._isWhiteListed;\n  }\n\n  set isWhiteListed(func) {\n    if (typeof func === 'undefined') {\n      func = () => false;\n    }\n    if (typeof func !== 'function') {\n      throw new Error('isWhiteListed must be function');\n    }\n    this._isWhiteListed = func;\n  }\n\n  isBlackListedSomewhere(key) {\n    return this.blackList.indexOf(key) >= 0 || this.isBlackListed(key);\n  }\n\n  isWhiteListedSomewhere(key) {\n    return this.whiteList.indexOf(key) >= 0 || this.isWhiteListed(key);\n  }\n\n  getBlackRes() {\n    return new RateLimiterRes(0, Number.MAX_SAFE_INTEGER, 0, false);\n  }\n\n  getWhiteRes() {\n    return new RateLimiterRes(Number.MAX_SAFE_INTEGER, 0, 0, false);\n  }\n\n  rejectBlack() {\n    return Promise.reject(this.getBlackRes());\n  }\n\n  resolveBlack() {\n    return Promise.resolve(this.getBlackRes());\n  }\n\n  resolveWhite() {\n    return Promise.resolve(this.getWhiteRes());\n  }\n\n  consume(key, pointsToConsume = 1) {\n    let res;\n    if (this.isWhiteListedSomewhere(key)) {\n      res = this.resolveWhite();\n    } else if (this.isBlackListedSomewhere(key)) {\n      res = this.rejectBlack();\n    }\n\n    if (typeof res === 'undefined') {\n      return this.limiter.consume(key, pointsToConsume);\n    }\n\n    if (this.runActionAnyway) {\n      this.limiter.consume(key, pointsToConsume).catch(() => {});\n    }\n    return res;\n  }\n\n  block(key, secDuration) {\n    let res;\n    if (this.isWhiteListedSomewhere(key)) {\n      res = this.resolveWhite();\n    } else if (this.isBlackListedSomewhere(key)) {\n      res = this.resolveBlack();\n    }\n\n    if (typeof res === 'undefined') {\n      return this.limiter.block(key, secDuration);\n    }\n\n    if (this.runActionAnyway) {\n      this.limiter.block(key, secDuration).catch(() => {});\n    }\n    return res;\n  }\n\n  penalty(key, points) {\n    let res;\n    if (this.isWhiteListedSomewhere(key)) {\n      res = this.resolveWhite();\n    } else if (this.isBlackListedSomewhere(key)) {\n      res = this.resolveBlack();\n    }\n\n    if (typeof res === 'undefined') {\n      return this.limiter.penalty(key, points);\n    }\n\n    if (this.runActionAnyway) {\n      this.limiter.penalty(key, points).catch(() => {});\n    }\n    return res;\n  }\n\n  reward(key, points) {\n    let res;\n    if (this.isWhiteListedSomewhere(key)) {\n      res = this.resolveWhite();\n    } else if (this.isBlackListedSomewhere(key)) {\n      res = this.resolveBlack();\n    }\n\n    if (typeof res === 'undefined') {\n      return this.limiter.reward(key, points);\n    }\n\n    if (this.runActionAnyway) {\n      this.limiter.reward(key, points).catch(() => {});\n    }\n    return res;\n  }\n\n  get(key) {\n    let res;\n    if (this.isWhiteListedSomewhere(key)) {\n      res = this.resolveWhite();\n    } else if (this.isBlackListedSomewhere(key)) {\n      res = this.resolveBlack();\n    }\n\n    if (typeof res === 'undefined' || this.runActionAnyway) {\n      return this.limiter.get(key);\n    }\n\n    return res;\n  }\n\n  delete(key) {\n    return this.limiter.delete(key);\n  }\n};\n","const RateLimiterAbstract = require('./RateLimiterAbstract');\n\nmodule.exports = class RateLimiterUnion {\n  constructor(...limiters) {\n    if (limiters.length < 1) {\n      throw new Error('RateLimiterUnion: at least one limiter have to be passed');\n    }\n    limiters.forEach((limiter) => {\n      if (!(limiter instanceof RateLimiterAbstract)) {\n        throw new Error('RateLimiterUnion: all limiters have to be instance of RateLimiterAbstract');\n      }\n    });\n\n    this._limiters = limiters;\n  }\n\n  consume(key, points = 1) {\n    return new Promise((resolve, reject) => {\n      const promises = [];\n      this._limiters.forEach((limiter) => {\n        promises.push(limiter.consume(key, points).catch(rej => ({ rejected: true, rej })));\n      });\n\n      Promise.all(promises)\n        .then((res) => {\n          const resObj = {};\n          let rejected = false;\n\n          res.forEach((item) => {\n            if (item.rejected === true) {\n              rejected = true;\n            }\n          });\n\n          for (let i = 0; i < res.length; i++) {\n            if (rejected && res[i].rejected === true) {\n              resObj[this._limiters[i].keyPrefix] = res[i].rej;\n            } else if (!rejected) {\n              resObj[this._limiters[i].keyPrefix] = res[i];\n            }\n          }\n\n          if (rejected) {\n            reject(resObj);\n          } else {\n            resolve(resObj);\n          }\n        });\n    });\n  }\n};\n","module.exports = class RateLimiterQueueError extends Error {\n  constructor(message, extra) {\n    super();\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    this.name = 'CustomError';\n    this.message = message;\n    if (extra) {\n      this.extra = extra;\n    }\n  }\n};\n","const RateLimiterQueueError = require('./component/RateLimiterQueueError')\nconst MAX_QUEUE_SIZE = 4294967295;\nconst KEY_DEFAULT = 'limiter';\n\nmodule.exports = class RateLimiterQueue {\n  constructor(limiterFlexible, opts = {\n    maxQueueSize: MAX_QUEUE_SIZE,\n  }) {\n    this._queueLimiters = {\n      KEY_DEFAULT: new RateLimiterQueueInternal(limiterFlexible, opts)\n    };\n    this._limiterFlexible = limiterFlexible;\n    this._maxQueueSize = opts.maxQueueSize\n  }\n\n  getTokensRemaining(key = KEY_DEFAULT) {\n    if (this._queueLimiters[key]) {\n      return this._queueLimiters[key].getTokensRemaining()\n    } else {\n      return Promise.resolve(this._limiterFlexible.points)\n    }\n  }\n\n  removeTokens(tokens, key = KEY_DEFAULT) {\n    if (!this._queueLimiters[key]) {\n      this._queueLimiters[key] = new RateLimiterQueueInternal(\n        this._limiterFlexible, {\n          key,\n          maxQueueSize: this._maxQueueSize,\n        })\n    }\n\n    return this._queueLimiters[key].removeTokens(tokens)\n  }\n};\n\nclass RateLimiterQueueInternal {\n\n  constructor(limiterFlexible, opts = {\n    maxQueueSize: MAX_QUEUE_SIZE,\n    key: KEY_DEFAULT,\n  }) {\n    this._key = opts.key;\n    this._waitTimeout = null;\n    this._queue = [];\n    this._limiterFlexible = limiterFlexible;\n\n    this._maxQueueSize = opts.maxQueueSize\n  }\n\n  getTokensRemaining() {\n    return this._limiterFlexible.get(this._key)\n      .then((rlRes) => {\n        return rlRes !== null ? rlRes.remainingPoints : this._limiterFlexible.points;\n      })\n  }\n\n  removeTokens(tokens) {\n    const _this = this;\n\n    return new Promise((resolve, reject) => {\n      if (tokens > _this._limiterFlexible.points) {\n        reject(new RateLimiterQueueError(`Requested tokens ${tokens} exceeds maximum ${_this._limiterFlexible.points} tokens per interval`));\n        return\n      }\n\n      if (_this._queue.length > 0) {\n        _this._queueRequest.call(_this, resolve, reject, tokens);\n      } else {\n        _this._limiterFlexible.consume(_this._key, tokens)\n          .then((res) => {\n            resolve(res.remainingPoints);\n          })\n          .catch((rej) => {\n            if (rej instanceof Error) {\n              reject(rej);\n            } else {\n              _this._queueRequest.call(_this, resolve, reject, tokens);\n              if (_this._waitTimeout === null) {\n                _this._waitTimeout = setTimeout(_this._processFIFO.bind(_this), rej.msBeforeNext);\n              }\n            }\n          });\n      }\n    })\n  }\n\n  _queueRequest(resolve, reject, tokens) {\n    const _this = this;\n    if (_this._queue.length < _this._maxQueueSize) {\n      _this._queue.push({resolve, reject, tokens});\n    } else {\n      reject(new RateLimiterQueueError(`Number of requests reached it's maximum ${_this._maxQueueSize}`))\n    }\n  }\n\n  _processFIFO() {\n    const _this = this;\n\n    if (_this._waitTimeout !== null) {\n      clearTimeout(_this._waitTimeout);\n      _this._waitTimeout = null;\n    }\n\n    if (_this._queue.length === 0) {\n      return;\n    }\n\n    const item = _this._queue.shift();\n    _this._limiterFlexible.consume(_this._key, item.tokens)\n      .then((res) => {\n        item.resolve(res.remainingPoints);\n        _this._processFIFO.call(_this);\n      })\n      .catch((rej) => {\n        if (rej instanceof Error) {\n          item.reject(rej);\n          _this._processFIFO.call(_this);\n        } else {\n          _this._queue.unshift(item);\n          if (_this._waitTimeout === null) {\n            _this._waitTimeout = setTimeout(_this._processFIFO.bind(_this), rej.msBeforeNext);\n          }\n        }\n      });\n  }\n}\n","const RateLimiterRes = require(\"./RateLimiterRes\");\n\n/**\n * Bursty rate limiter exposes only msBeforeNext time and doesn't expose points from bursty limiter by default\n * @type {BurstyRateLimiter}\n */\nmodule.exports = class BurstyRateLimiter {\n  constructor(rateLimiter, burstLimiter) {\n    this._rateLimiter = rateLimiter;\n    this._burstLimiter = burstLimiter\n  }\n\n  /**\n   * Merge rate limiter response objects. Responses can be null\n   *\n   * @param {RateLimiterRes} [rlRes] Rate limiter response\n   * @param {RateLimiterRes} [blRes] Bursty limiter response\n   */\n  _combineRes(rlRes, blRes) {\n    if (!rlRes) {\n      return null\n    }\n\n    return new RateLimiterRes(\n      rlRes.remainingPoints,\n      Math.min(rlRes.msBeforeNext, blRes ? blRes.msBeforeNext : 0),\n      rlRes.consumedPoints,\n      rlRes.isFirstInDuration\n    )\n  }\n\n  /**\n   * @param key\n   * @param pointsToConsume\n   * @param options\n   * @returns {Promise<any>}\n   */\n  consume(key, pointsToConsume = 1, options = {}) {\n    return this._rateLimiter.consume(key, pointsToConsume, options)\n      .catch((rlRej) => {\n        if (rlRej instanceof RateLimiterRes) {\n          return this._burstLimiter.consume(key, pointsToConsume, options)\n            .then((blRes) => {\n              return Promise.resolve(this._combineRes(rlRej, blRes))\n            })\n            .catch((blRej) => {\n                if (blRej instanceof RateLimiterRes) {\n                  return Promise.reject(this._combineRes(rlRej, blRej))\n                } else {\n                  return Promise.reject(blRej)\n                }\n              }\n            )\n        } else {\n          return Promise.reject(rlRej)\n        }\n      })\n  }\n\n  /**\n   * It doesn't expose available points from burstLimiter\n   *\n   * @param key\n   * @returns {Promise<RateLimiterRes>}\n   */\n  get(key) {\n    return Promise.all([\n      this._rateLimiter.get(key),\n      this._burstLimiter.get(key),\n    ]).then(([rlRes, blRes]) => {\n      return this._combineRes(rlRes, blRes);\n    });\n  }\n\n  get points() {\n    return this._rateLimiter.points;\n  }\n};\n","const RateLimiterRes = require(\"./RateLimiterRes\");\nconst RateLimiterStoreAbstract = require(\"./RateLimiterStoreAbstract\");\n\nclass DynamoItem {\n  /**\n   * Create a DynamoItem.\n   * @param {string} rlKey - The key for the rate limiter.\n   * @param {number} points - The number of points.\n   * @param {number} expire - The expiration time in seconds.\n   */\n  constructor(rlKey, points, expire) {\n    this.key = rlKey;\n    this.points = points;\n    this.expire = expire;\n  }\n}\n\n// Free tier DynamoDB provisioned mode params\nconst DEFAULT_READ_CAPACITY_UNITS = 25;\nconst DEFAULT_WRITE_CAPACITY_UNITS = 25;\n\n/**\n * Implementation of RateLimiterStoreAbstract using DynamoDB.\n * @class RateLimiterDynamo\n * @extends RateLimiterStoreAbstract\n */\nclass RateLimiterDynamo extends RateLimiterStoreAbstract {\n\n    /**\n     * Constructs a new instance of the class.\n     * The storeClient MUST be an instance of AWS.DynamoDB NOT of AWS.DynamoDBClient.\n     *\n     * @param {Object} opts - The options for the constructor.\n     * @param {function} cb - The callback function (optional).\n     * @return {void}\n     */\n    constructor(opts, cb = null) {\n        super(opts);\n\n        this.client = opts.storeClient;\n        this.tableName = opts.tableName;\n        this.tableCreated = opts.tableCreated;\n        this.ttlManuallySet = opts.ttlSet;\n        \n        if (!this.tableCreated) {\n          this._createTable(opts.dynamoTableOpts)\n          .then((data) => {\n            this.tableCreated = true;\n\n            this._setTTL()\n            .finally(() => {\n              // Callback invocation\n              if (typeof cb === 'function') {\n                cb();\n              }\n            });\n            \n          })\n          .catch( err => {\n            //callback invocation\n            if (typeof cb === 'function') {\n              cb(err);\n            } else {\n              throw err;\n            }\n          });\n\n        } else {\n\n          this._setTTL()\n          .finally(() => {\n            // Callback invocation\n            if (typeof cb === 'function') {\n              cb();\n            }\n          });\n        }\n    }\n\n    get tableName() {\n        return this._tableName;\n    }\n\n    set tableName(value) {\n        this._tableName = typeof value === 'undefined' ? 'node-rate-limiter-flexible' : value;\n    }\n\n    get tableCreated() {\n        return this._tableCreated\n    }\n    \n    set tableCreated(value) {\n        this._tableCreated = typeof value === 'undefined' ? false : !!value;\n    }\n\n    /**\n     * Creates a table in the database. Return null if the table already exists.\n     * \n     * @param {{readCapacityUnits: number, writeCapacityUnits: number}} tableOpts\n     * @return {Promise} A promise that resolves with the result of creating the table.\n     */\n    async _createTable(tableOpts) {\n\n      const params = {\n        TableName: this.tableName,\n        AttributeDefinitions: [\n          {\n            AttributeName: 'key',\n            AttributeType: 'S'\n          }\n        ],\n        KeySchema: [\n          {\n            AttributeName: 'key',\n            KeyType: 'HASH'\n          }\n        ],\n        ProvisionedThroughput: {\n          ReadCapacityUnits: tableOpts && tableOpts.readCapacityUnits ? tableOpts.readCapacityUnits : DEFAULT_READ_CAPACITY_UNITS,\n          WriteCapacityUnits: tableOpts && tableOpts.writeCapacityUnits ? tableOpts.writeCapacityUnits : DEFAULT_WRITE_CAPACITY_UNITS\n        }\n      };\n      \n      try {\n        const data = await this.client.createTable(params);\n        return data;\n      } catch(err) {\n        if (err.__type && err.__type.includes('ResourceInUseException')) {\n          return null;\n        } else {\n          throw err;\n        }\n      }\n    }\n\n    /**\n     * Retrieves an item from the table based on the provided key.\n     *\n     * @param {string} rlKey - The key used to retrieve the item.\n     * @throws {Error} Throws an error if the table is not created yet.\n     * @return {DynamoItem|null} - The retrieved item, or null if it doesn't exist.\n     */\n    async _get(rlKey) {\n\n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n\n      const params = {\n        TableName: this.tableName,\n        Key: {\n          key: {S: rlKey}\n        }\n      };\n      \n      const data = await this.client.getItem(params);\n      if(data.Item) {\n        return new DynamoItem(\n          data.Item.key.S,\n          Number(data.Item.points.N),\n          Number(data.Item.expire.N)\n        );\n      } else {\n        return null;\n      }\n    }\n\n    /**\n     * Deletes an item from the table based on the given rlKey.\n     *\n     * @param {string} rlKey - The rlKey of the item to delete.\n     * @throws {Error} Throws an error if the table is not created yet.\n     * @return {boolean} Returns true if the item was successfully deleted, otherwise false.\n     */\n    async _delete(rlKey) {\n\n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n\n      const params = {\n        TableName: this.tableName,\n        Key: {\n          key: {S: rlKey}\n        },\n        ConditionExpression: 'attribute_exists(#k)',\n        ExpressionAttributeNames: {\n          '#k': 'key'  \n        }\n      }\n      \n      try {\n        const data = await this._client.deleteItem(params);\n        return data.$metadata.httpStatusCode === 200;\n      } catch(err) {\n        // ConditionalCheckFailed, item does not exist in table\n        if (err.__type && err.__type.includes('ConditionalCheckFailedException')) {\n          return false;\n        } else {\n          throw err;\n        }\n      }\n\n    }\n\n    /**\n     * Implemented with DynamoDB Atomic Counters. 3 calls are made to DynamoDB but each call is atomic.\n     * From the documentation: \"UpdateItem calls are naturally serialized within DynamoDB,\n     * so there are no race condition concerns with making multiple simultaneous calls.\"\n     * See: https://aws.amazon.com/it/blogs/database/implement-resource-counters-with-amazon-dynamodb/\n     * @param {*} rlKey \n     * @param {*} points \n     * @param {*} msDuration \n     * @param {*} forceExpire \n     * @param {*} options \n     * @returns\n     */\n    async _upsert(rlKey, points, msDuration, forceExpire = false, options = {}) {\n\n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n\n      const dateNow = Date.now();\n      const dateNowSec = dateNow / 1000;\n      /* -1 means never expire, DynamoDb do not support null values in number fields.\n         DynamoDb TTL use unix timestamp in seconds.\n      */\n      const newExpireSec = msDuration > 0 ? (dateNow + msDuration) / 1000 : -1;\n\n      // Force expire, overwrite points. Create a new entry if not exists\n      if (forceExpire) {\n        return await this._baseUpsert({\n          TableName: this.tableName,\n          Key: { key: {S: rlKey} },\n          UpdateExpression: 'SET points = :points, expire = :expire',\n          ExpressionAttributeValues: {\n            ':points': {N: points.toString()},\n            ':expire': {N: newExpireSec.toString()}\n          },\n          ReturnValues: 'ALL_NEW'\n        });\n      }\n\n      try {        \n        // First try update, success if entry NOT exists or IS expired\n        return await this._baseUpsert({\n          TableName: this.tableName,\n          Key: { key: {S: rlKey} },\n          UpdateExpression: 'SET points = :new_points, expire = :new_expire',\n          ExpressionAttributeValues: {\n            ':new_points': {N: points.toString()},\n            ':new_expire': {N: newExpireSec.toString()},\n            ':where_expire': {N: dateNowSec.toString()}\n          },\n          ConditionExpression: 'expire <= :where_expire OR attribute_not_exists(points)',\n          ReturnValues: 'ALL_NEW'\n        });\n\n      } catch (err) {\n        // Second try update, success if entry exists and IS NOT expired\n        return await this._baseUpsert({\n          TableName: this.tableName,\n          Key: { key: {S: rlKey} },\n          UpdateExpression: 'SET points = points + :new_points',\n          ExpressionAttributeValues: {\n            ':new_points': {N: points.toString()},\n            ':where_expire': {N: dateNowSec.toString()}\n          },\n          ConditionExpression: 'expire > :where_expire',\n          ReturnValues: 'ALL_NEW'\n        });\n      }\n    }\n    \n    /**\n     * Asynchronously upserts data into the table. params is a DynamoDB params object.\n     *\n     * @param {Object} params - The parameters for the upsert operation.\n     * @throws {Error} Throws an error if the table is not created yet.\n     * @return {DynamoItem} Returns a DynamoItem object with the updated data.\n     */\n    async _baseUpsert(params) {\n\n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n      \n      try {\n        const data = await this.client.updateItem(params);\n        return new DynamoItem(\n          data.Attributes.key.S,\n          Number(data.Attributes.points.N),\n          Number(data.Attributes.expire.N)\n        );\n      } catch (err) {\n        //console.log('_baseUpsert', params, err);\n        throw err;\n      }\n    }\n\n    /**\n     * Sets the Time-to-Live (TTL) for the table. TTL use the expire field in the table.\n     * See: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/howitworks-ttl.html\n     *\n     * @return {Promise} A promise that resolves when the TTL is successfully set.\n     * @throws {Error} Throws an error if the table is not created yet.\n     * @returns {Promise}\n     */\n    async _setTTL() {\n\n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n\n      try {\n        \n        // Check if the TTL is already set\n        const isTTLSet = await this._isTTLSet();\n        if (isTTLSet) {\n          return;\n        }\n\n        const params = {\n          TableName: this.tableName,\n          TimeToLiveSpecification: {\n            AttributeName: 'expire',\n            Enabled: true\n          }\n        }\n\n        const res = await this.client.updateTimeToLive(params);\n        return res;\n\n      } catch (err) {\n        throw err;\n      }\n\n    }\n\n    /**\n     * Checks if the Time To Live (TTL) feature is set for the DynamoDB table.\n     *\n     * @return {boolean} Returns true if the TTL feature is enabled for the table, otherwise false.\n     * @throws {Error} Throws an error if the table is not created yet or if there is an error while checking the TTL status.\n     */\n    async _isTTLSet() {\n      \n      if (!this.tableCreated) {\n        throw new Error('Table is not created yet');\n      }\n\n      if (this.ttlManuallySet) {\n        return true;\n      }\n\n      try {\n\n        const res = await this.client.describeTimeToLive({TableName: this.tableName});\n        return (\n          res.$metadata.httpStatusCode == 200 \n          && res.TimeToLiveDescription.TimeToLiveStatus === 'ENABLED'\n          && res.TimeToLiveDescription.AttributeName === 'expire'\n        );\n        \n      } catch (err) {\n        throw err;\n      }\n    }\n\n    /**\n     * Generate a RateLimiterRes object based on the provided parameters.\n     *\n     * @param {string} rlKey - The key for the rate limiter.\n     * @param {number} changedPoints - The number of points that have changed.\n     * @param {DynamoItem} result - The result object of _get() method.\n     * @returns {RateLimiterRes} - The generated RateLimiterRes object.\n     */\n    _getRateLimiterRes(rlKey, changedPoints, result) {\n\n      const res = new RateLimiterRes();\n      res.isFirstInDuration = changedPoints === result.points;\n      res.consumedPoints = res.isFirstInDuration ? changedPoints : result.points;\n      res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n      // Expire time saved in unix time seconds not ms\n      res.msBeforeNext = result.expire != -1 ? Math.max(result.expire * 1000 - Date.now(), 0) : -1;\n\n      return res;\n    }\n\n}\n\nmodule.exports = RateLimiterDynamo;","const RateLimiterStoreAbstract = require('./RateLimiterStoreAbstract');\nconst RateLimiterRes = require('./RateLimiterRes');\n\nclass RateLimiterPrisma extends RateLimiterStoreAbstract {\n  /**\n   * Constructor for the rate limiter\n   * @param {Object} opts - Options for the rate limiter\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.modelName = opts.tableName || 'RateLimiterFlexible';\n    this.prismaClient = opts.storeClient;\n    this.clearExpiredByTimeout = opts.clearExpiredByTimeout || true;\n\n    if (!this.prismaClient) {\n      throw new Error('Prisma client is not provided');\n    }\n\n    if (this.clearExpiredByTimeout) {\n      this._clearExpiredHourAgo();\n    }\n  }\n\n  _getRateLimiterRes(rlKey, changedPoints, result) {\n    const res = new RateLimiterRes();\n\n    let doc = result;\n\n    res.isFirstInDuration = doc.points === changedPoints;\n    res.consumedPoints = doc.points;\n\n    res.remainingPoints = Math.max(this.points - res.consumedPoints, 0);\n    res.msBeforeNext = doc.expire !== null\n      ? Math.max(new Date(doc.expire).getTime() - Date.now(), 0)\n      : -1;\n\n    return res;\n  }\n\n  _upsert(key, points, msDuration, forceExpire = false) {\n    if (!this.prismaClient) {\n      return Promise.reject(new Error('Prisma client is not established'));\n    }\n\n    const now = new Date();\n    const newExpire = msDuration > 0 ? new Date(now.getTime() + msDuration) : null;\n\n    return this.prismaClient.$transaction(async (prisma) => {\n      const existingRecord = await prisma[this.modelName].findFirst({\n        where: { key: key },\n      });\n\n      if (existingRecord) {\n        // Determine if we should update the expire field\n        const shouldUpdateExpire = forceExpire || !existingRecord.expire || existingRecord.expire <= now || newExpire === null;\n\n        return prisma[this.modelName].update({\n          where: { key: key },\n          data: {\n            points: !shouldUpdateExpire ? existingRecord.points + points : points,\n            ...(shouldUpdateExpire && { expire: newExpire }),\n          },\n        });\n      } else {\n        return prisma[this.modelName].create({\n          data: {\n            key: key,\n            points: points,\n            expire: newExpire,\n          },\n        });\n      }\n    });\n  }\n\n  _get(rlKey) {\n    if (!this.prismaClient) {\n      return Promise.reject(new Error('Prisma client is not established'));\n    }\n\n    return this.prismaClient[this.modelName].findFirst({\n      where: {\n        AND: [\n          { key: rlKey },\n          {\n            OR: [\n              { expire: { gt: new Date() } },\n              { expire: null },\n            ],\n          },\n        ],\n      },\n    });\n  }\n\n  _delete(rlKey) {\n    if (!this.prismaClient) {\n      return Promise.reject(new Error('Prisma client is not established'));\n    }\n\n    return this.prismaClient[this.modelName].deleteMany({\n      where: {\n        key: rlKey,\n      },\n    }).then(res => res.count > 0);\n  }\n\n  _clearExpiredHourAgo() {\n    if (this._clearExpiredTimeoutId) {\n      clearTimeout(this._clearExpiredTimeoutId);\n    }\n    this._clearExpiredTimeoutId = setTimeout(async () => {\n      await this.prismaClient[this.modelName].deleteMany({\n        where: {\n          expire: {\n            lt: new Date(Date.now() - 3600000),\n          },\n        },\n      });\n      this._clearExpiredHourAgo();\n    }, 300000); // Clear every 5 minutes\n    this._clearExpiredTimeoutId.unref();\n  }\n}\n\nmodule.exports = RateLimiterPrisma;\n","const RateLimiterRedis = require('./lib/RateLimiterRedis');\nconst RateLimiterMongo = require('./lib/RateLimiterMongo');\nconst RateLimiterMySQL = require('./lib/RateLimiterMySQL');\nconst RateLimiterPostgres = require('./lib/RateLimiterPostgres');\nconst {RateLimiterClusterMaster, RateLimiterClusterMasterPM2, RateLimiterCluster} = require('./lib/RateLimiterCluster');\nconst RateLimiterMemory = require('./lib/RateLimiterMemory');\nconst RateLimiterMemcache = require('./lib/RateLimiterMemcache');\nconst RLWrapperBlackAndWhite = require('./lib/RLWrapperBlackAndWhite');\nconst RateLimiterUnion = require('./lib/RateLimiterUnion');\nconst RateLimiterQueue = require('./lib/RateLimiterQueue');\nconst BurstyRateLimiter = require('./lib/BurstyRateLimiter');\nconst RateLimiterRes = require('./lib/RateLimiterRes');\nconst RateLimiterDynamo = require('./lib/RateLimiterDynamo');\nconst RateLimiterPrisma = require('./lib/RateLimiterPrisma');\n\nmodule.exports = {\n  RateLimiterRedis,\n  RateLimiterMongo,\n  RateLimiterMySQL,\n  RateLimiterPostgres,\n  RateLimiterMemory,\n  RateLimiterMemcache,\n  RateLimiterClusterMaster,\n  RateLimiterClusterMasterPM2,\n  RateLimiterCluster,\n  RLWrapperBlackAndWhite,\n  RateLimiterUnion,\n  RateLimiterQueue,\n  BurstyRateLimiter,\n  RateLimiterRes,\n  RateLimiterDynamo,\n  RateLimiterPrisma,\n};\n","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth/[...nextauth]/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!getRequestMeta(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!getRequestMeta(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(getRequestMeta(req, 'minimalMode') && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","/**\n * Secure NextAuth Configuration\n * Comprehensive authentication setup with security hardening\n */\n\nimport NextAuth, { NextAuthOptions, Session, User } from 'next-auth';\nimport CredentialsProvider from 'next-auth/providers/credentials';\nimport { JWT } from 'next-auth/jwt';\nimport { cookies } from 'next/headers';\nimport { NextRequest, NextResponse } from 'next/server';\n\nimport { LoginSchema } from '../../../../lib/security/validation';\nimport { hashPassword, verifyPassword, generateSecureRandom } from '../../../../lib/security/encryption';\nimport { createSession, getSession } from '../../../../lib/security/session';\nimport { applyRateLimit } from '../../../../lib/security/rate-limit';\nimport { SECURITY_CONFIG, SECURITY_EVENTS } from '../../../../config/security.config';\n\n// Extended User interface for additional security fields\ninterface SecureUser extends User {\n  id: string;\n  email: string;\n  role: string;\n  permissions: string[];\n  twoFactorEnabled: boolean;\n  twoFactorVerified?: boolean;\n  lastLoginAt?: Date;\n  loginAttempts?: number;\n  accountLocked?: boolean;\n  passwordChangeRequired?: boolean;\n}\n\n// Extended Session interface\ninterface SecureSession extends Session {\n  user: SecureUser;\n  sessionId: string;\n  loginTime: number;\n  deviceFingerprint?: string;\n}\n\n// Extended JWT interface\ninterface SecureJWT extends JWT {\n  id: string;\n  role: string;\n  permissions: string[];\n  sessionId: string;\n  twoFactorEnabled: boolean;\n  twoFactorVerified: boolean;\n  loginTime: number;\n  lastActivity: number;\n}\n\n/**\n * Simulate user database operations\n * In a real application, these would connect to your actual database\n */\nconst UserDB = {\n  async findByEmail(email: string): Promise<SecureUser | null> {\n    // TODO: Replace with actual database query\n    // This is a mock implementation for demonstration\n    const mockUsers: Record<string, any> = {\n      'admin@restaurant.com': {\n        id: '1',\n        email: 'admin@restaurant.com',\n        password: await hashPassword('SecurePassword123!'),\n        name: 'Admin User',\n        role: 'admin',\n        permissions: ['*'],\n        twoFactorEnabled: false,\n        accountLocked: false,\n        loginAttempts: 0,\n        passwordChangeRequired: false,\n      },\n      'manager@restaurant.com': {\n        id: '2',\n        email: 'manager@restaurant.com',\n        password: await hashPassword('ManagerPass456!'),\n        name: 'Manager User',\n        role: 'manager',\n        permissions: ['view_dashboard', 'manage_menu', 'view_reports'],\n        twoFactorEnabled: true,\n        accountLocked: false,\n        loginAttempts: 0,\n        passwordChangeRequired: false,\n      },\n    };\n\n    const userData = mockUsers[email];\n    if (!userData) return null;\n\n    return {\n      id: userData.id,\n      email: userData.email,\n      name: userData.name,\n      role: userData.role,\n      permissions: userData.permissions,\n      twoFactorEnabled: userData.twoFactorEnabled,\n      lastLoginAt: userData.lastLoginAt,\n      loginAttempts: userData.loginAttempts,\n      accountLocked: userData.accountLocked,\n      passwordChangeRequired: userData.passwordChangeRequired,\n      password: userData.password, // Include for verification\n    };\n  },\n\n  async updateUser(id: string, updates: Partial<SecureUser>): Promise<void> {\n    // TODO: Replace with actual database update\n    console.log('Updating user:', id, updates);\n  },\n\n  async incrementLoginAttempts(email: string): Promise<void> {\n    // TODO: Replace with actual database update\n    console.log('Incrementing login attempts for:', email);\n  },\n\n  async resetLoginAttempts(email: string): Promise<void> {\n    // TODO: Replace with actual database update\n    console.log('Resetting login attempts for:', email);\n  },\n\n  async lockAccount(email: string): Promise<void> {\n    // TODO: Replace with actual database update\n    console.log('Locking account:', email);\n  },\n};\n\n/**\n * Generate device fingerprint from request\n */\nfunction generateDeviceFingerprint(req?: NextRequest): string | undefined {\n  if (!req) return undefined;\n\n  const userAgent = req.headers.get('user-agent') || '';\n  const acceptLanguage = req.headers.get('accept-language') || '';\n  const acceptEncoding = req.headers.get('accept-encoding') || '';\n  \n  const fingerprint = Buffer.from(`${userAgent}|${acceptLanguage}|${acceptEncoding}`)\n    .toString('base64')\n    .slice(0, 32);\n  \n  return fingerprint;\n}\n\n/**\n * Log security events\n */\nfunction logSecurityEvent(event: string, details: any): void {\n  const logData = {\n    event,\n    timestamp: new Date().toISOString(),\n    ...details,\n  };\n  \n  if (process.env.NODE_ENV === 'development') {\n    console.log('Auth Security Event:', logData);\n  }\n  \n  // TODO: Integrate with audit logging system\n}\n\n/**\n * NextAuth configuration\n */\nconst authOptions: NextAuthOptions = {\n  debug: process.env.NODE_ENV === 'development',\n  \n  providers: [\n    CredentialsProvider({\n      name: 'credentials',\n      credentials: {\n        email: { label: 'Email', type: 'email' },\n        password: { label: 'Password', type: 'password' },\n        twoFactorCode: { label: '2FA Code', type: 'text' },\n        rememberMe: { label: 'Remember Me', type: 'checkbox' },\n      },\n      \n      async authorize(credentials, req) {\n        try {\n          // Validate input using Zod schema\n          const validatedCredentials = LoginSchema.parse({\n            email: credentials?.email || '',\n            password: credentials?.password || '',\n            twoFactorCode: credentials?.twoFactorCode,\n            rememberMe: credentials?.rememberMe === 'true',\n          });\n\n          const { email, password, twoFactorCode } = validatedCredentials;\n          \n          // Find user in database\n          const user = await UserDB.findByEmail(email);\n          if (!user) {\n            logSecurityEvent(SECURITY_EVENTS.LOGIN_FAILURE, {\n              email,\n              reason: 'user_not_found',\n              ip: req?.headers?.['x-forwarded-for'] || 'unknown',\n            });\n            return null;\n          }\n\n          // Check if account is locked\n          if (user.accountLocked) {\n            logSecurityEvent(SECURITY_EVENTS.LOGIN_BLOCKED, {\n              email,\n              reason: 'account_locked',\n              ip: req?.headers?.['x-forwarded-for'] || 'unknown',\n            });\n            return null;\n          }\n\n          // Verify password\n          const isValidPassword = await verifyPassword(password, (user as any).password);\n          if (!isValidPassword) {\n            await UserDB.incrementLoginAttempts(email);\n            \n            logSecurityEvent(SECURITY_EVENTS.LOGIN_FAILURE, {\n              email,\n              reason: 'invalid_password',\n              ip: req?.headers?.['x-forwarded-for'] || 'unknown',\n            });\n\n            // Lock account after max attempts\n            if ((user.loginAttempts || 0) >= SECURITY_CONFIG.rateLimiting.login.maxAttempts) {\n              await UserDB.lockAccount(email);\n              \n              logSecurityEvent(SECURITY_EVENTS.ACCOUNT_LOCKED, {\n                email,\n                reason: 'max_login_attempts',\n                attempts: user.loginAttempts,\n              });\n            }\n            \n            return null;\n          }\n\n          // Check 2FA if enabled\n          if (user.twoFactorEnabled) {\n            if (!twoFactorCode) {\n              // Return partial user info to indicate 2FA is required\n              return {\n                id: user.id,\n                email: user.email,\n                name: user.name,\n                role: user.role,\n                permissions: user.permissions,\n                twoFactorEnabled: true,\n                twoFactorVerified: false,\n              };\n            }\n\n            // Verify 2FA code\n            const isValid2FA = await verify2FACode(user.id, twoFactorCode);\n            if (!isValid2FA) {\n              logSecurityEvent(SECURITY_EVENTS.TWO_FACTOR_VERIFICATION_FAILURE, {\n                userId: user.id,\n                email,\n                ip: req?.headers?.['x-forwarded-for'] || 'unknown',\n              });\n              return null;\n            }\n\n            logSecurityEvent(SECURITY_EVENTS.TWO_FACTOR_VERIFICATION_SUCCESS, {\n              userId: user.id,\n              email,\n            });\n          }\n\n          // Reset login attempts on successful login\n          await UserDB.resetLoginAttempts(email);\n\n          // Update last login time\n          await UserDB.updateUser(user.id, {\n            lastLoginAt: new Date(),\n          });\n\n          logSecurityEvent(SECURITY_EVENTS.LOGIN_SUCCESS, {\n            userId: user.id,\n            email,\n            ip: req?.headers?.['x-forwarded-for'] || 'unknown',\n            userAgent: req?.headers?.['user-agent'],\n          });\n\n          // Return user object for successful authentication\n          return {\n            id: user.id,\n            email: user.email,\n            name: user.name,\n            role: user.role,\n            permissions: user.permissions,\n            twoFactorEnabled: user.twoFactorEnabled,\n            twoFactorVerified: !user.twoFactorEnabled || !!twoFactorCode,\n            passwordChangeRequired: user.passwordChangeRequired,\n          };\n\n        } catch (error) {\n          console.error('Authentication error:', error);\n          \n          logSecurityEvent('authentication_error', {\n            error: (error as Error).message,\n            email: credentials?.email,\n          });\n          \n          return null;\n        }\n      },\n    }),\n  ],\n\n  session: {\n    strategy: 'jwt',\n    maxAge: SECURITY_CONFIG.session.maxAge / 1000, // Convert to seconds\n    updateAge: 15 * 60, // Update session every 15 minutes\n  },\n\n  jwt: {\n    maxAge: SECURITY_CONFIG.session.maxAge / 1000,\n    encode: async ({ token, secret }) => {\n      // Custom JWT encoding with additional security\n      const { SignJWT } = await import('jose');\n      const encodedSecret = new TextEncoder().encode(secret);\n      \n      return await new SignJWT(token as any)\n        .setProtectedHeader({ alg: 'HS256' })\n        .setIssuedAt()\n        .setIssuer(SECURITY_CONFIG.jwt.issuer)\n        .setAudience(SECURITY_CONFIG.jwt.audience)\n        .setExpirationTime('24h')\n        .sign(encodedSecret);\n    },\n    \n    decode: async ({ token, secret }) => {\n      // Custom JWT decoding with validation\n      if (!token) return null;\n      \n      try {\n        const { jwtVerify } = await import('jose');\n        const encodedSecret = new TextEncoder().encode(secret);\n        \n        const { payload } = await jwtVerify(token, encodedSecret, {\n          issuer: SECURITY_CONFIG.jwt.issuer,\n          audience: SECURITY_CONFIG.jwt.audience,\n        });\n        \n        return payload as any;\n      } catch (error) {\n        console.error('JWT decode error:', error);\n        return null;\n      }\n    },\n  },\n\n  callbacks: {\n    async jwt({ token, user, account, trigger }) {\n      // Initial sign in\n      if (user) {\n        const secureUser = user as SecureUser;\n        const secureToken: SecureJWT = {\n          ...token,\n          id: secureUser.id,\n          role: secureUser.role,\n          permissions: secureUser.permissions,\n          sessionId: generateSecureRandom(32),\n          twoFactorEnabled: secureUser.twoFactorEnabled,\n          twoFactorVerified: secureUser.twoFactorVerified || false,\n          loginTime: Date.now(),\n          lastActivity: Date.now(),\n        };\n        \n        return secureToken;\n      }\n\n      // Subsequent requests - validate and update token\n      const secureToken = token as SecureJWT;\n      const now = Date.now();\n      \n      // Check token expiration\n      if (secureToken.loginTime && (now - secureToken.loginTime) > SECURITY_CONFIG.session.maxAge) {\n        logSecurityEvent(SECURITY_EVENTS.SESSION_EXPIRED, {\n          userId: secureToken.id,\n          sessionId: secureToken.sessionId,\n        });\n        return {}; // Return empty token to force re-authentication\n      }\n\n      // Update last activity\n      secureToken.lastActivity = now;\n      \n      return secureToken;\n    },\n\n    async session({ session, token }) {\n      const secureToken = token as SecureJWT;\n      const secureSession: SecureSession = {\n        ...session,\n        user: {\n          ...session.user,\n          id: secureToken.id,\n          email: secureToken.email || '',\n          role: secureToken.role,\n          permissions: secureToken.permissions,\n          twoFactorEnabled: secureToken.twoFactorEnabled,\n          twoFactorVerified: secureToken.twoFactorVerified,\n        },\n        sessionId: secureToken.sessionId,\n        loginTime: secureToken.loginTime,\n      };\n\n      return secureSession;\n    },\n\n    async signIn({ user, account, profile, credentials }) {\n      // Additional sign-in validation can be added here\n      return true;\n    },\n\n    async redirect({ url, baseUrl }) {\n      // Ensure redirects stay within the application\n      if (url.startsWith('/')) return `${baseUrl}${url}`;\n      if (new URL(url).origin === baseUrl) return url;\n      return baseUrl;\n    },\n  },\n\n  cookies: {\n    sessionToken: {\n      name: SECURITY_CONFIG.session.cookieName,\n      options: {\n        httpOnly: SECURITY_CONFIG.session.httpOnly,\n        sameSite: SECURITY_CONFIG.session.sameSite,\n        path: SECURITY_CONFIG.session.path,\n        secure: SECURITY_CONFIG.session.secure,\n        domain: SECURITY_CONFIG.session.domain,\n      },\n    },\n  },\n\n  pages: {\n    signIn: '/auth/login',\n    error: '/auth/error',\n  },\n\n  events: {\n    async signIn({ user, account, profile, isNewUser }) {\n      logSecurityEvent(SECURITY_EVENTS.SESSION_CREATED, {\n        userId: user.id,\n        method: account?.provider || 'credentials',\n        isNewUser,\n      });\n    },\n\n    async signOut({ session, token }) {\n      const secureToken = token as SecureJWT;\n      logSecurityEvent(SECURITY_EVENTS.SESSION_DESTROYED, {\n        userId: secureToken?.id,\n        sessionId: secureToken?.sessionId,\n      });\n    },\n\n    async session({ session, token }) {\n      // Update session activity tracking\n      const secureToken = token as SecureJWT;\n      if (secureToken?.id) {\n        // Could update database with last activity time\n      }\n    },\n  },\n};\n\n/**\n * Mock 2FA verification function\n * In a real application, this would verify against stored 2FA secrets\n */\nasync function verify2FACode(userId: string, code: string): Promise<boolean> {\n  // TODO: Implement actual 2FA verification with TOTP\n  // This is a mock implementation for demonstration\n  \n  // Simulate 2FA verification delay\n  await new Promise(resolve => setTimeout(resolve, 100));\n  \n  // Mock verification - in reality, use libraries like 'speakeasy' or 'otplib'\n  return code === '123456';\n}\n\n/**\n * Enhanced authentication handler with additional security measures\n */\nasync function authHandler(req: NextRequest) {\n  // Apply rate limiting for auth requests\n  try {\n    const result = await applyRateLimit(req, 'login');\n    if (!result.allowed) {\n      return new NextResponse(\n        JSON.stringify({\n          error: 'Too many authentication attempts',\n          resetTime: result.reset.toISOString(),\n        }),\n        {\n          status: 429,\n          headers: {\n            'Content-Type': 'application/json',\n            'X-RateLimit-Limit': result.total.toString(),\n            'X-RateLimit-Remaining': result.remaining.toString(),\n            'X-RateLimit-Reset': result.reset.toISOString(),\n          },\n        }\n      );\n    }\n  } catch (error) {\n    console.error('Rate limiting error:', error);\n  }\n\n  // Generate device fingerprint for additional security\n  const deviceFingerprint = generateDeviceFingerprint(req);\n  if (deviceFingerprint) {\n    // Store fingerprint for session validation\n    req.headers.set('x-device-fingerprint', deviceFingerprint);\n  }\n\n  // Continue with NextAuth handler\n  return NextAuth(req as any, authOptions);\n}\n\nexport { authHandler as GET, authHandler as POST };\n\nexport default authOptions;","/**\n * Zod Security Validation Schemas\n * Comprehensive input validation for all data models in the restaurant dashboard\n */\n\nimport { z } from 'zod';\nimport { SECURITY_PATTERNS } from '../../config/security.config';\n\n// Base validation utilities\nconst createSecureString = (minLength = 1, maxLength = 255) =>\n  z.string()\n    .min(minLength, `Must be at least ${minLength} characters`)\n    .max(maxLength, `Must be no more than ${maxLength} characters`)\n    .refine((val) => {\n      // Check for SQL injection patterns\n      return !SECURITY_PATTERNS.SQL_INJECTION_PATTERNS.some(pattern => pattern.test(val));\n    }, 'Contains potentially harmful content')\n    .refine((val) => {\n      // Check for XSS patterns\n      return !SECURITY_PATTERNS.XSS_PATTERNS.some(pattern => pattern.test(val));\n    }, 'Contains potentially harmful content');\n\nconst secureEmail = z.string()\n  .email('Invalid email format')\n  .max(254, 'Email too long')\n  .regex(SECURITY_PATTERNS.EMAIL_REGEX, 'Invalid email format')\n  .toLowerCase()\n  .trim();\n\nconst securePassword = z.string()\n  .min(12, 'Password must be at least 12 characters')\n  .max(128, 'Password too long')\n  .regex(SECURITY_PATTERNS.PASSWORD_STRENGTH_REGEX, \n    'Password must contain uppercase, lowercase, number, and special character');\n\nconst securePhone = z.string()\n  .regex(SECURITY_PATTERNS.PHONE_REGEX, 'Invalid phone number format')\n  .optional();\n\nconst secureId = z.string()\n  .uuid('Invalid ID format')\n  .or(z.string().regex(/^[a-zA-Z0-9_-]+$/, 'Invalid ID format'));\n\nconst secureUrl = z.string()\n  .url('Invalid URL format')\n  .refine((url) => {\n    const allowedProtocols = ['http:', 'https:'];\n    return allowedProtocols.includes(new URL(url).protocol);\n  }, 'Only HTTP and HTTPS URLs are allowed');\n\n// User Authentication Schemas\nexport const LoginSchema = z.object({\n  email: secureEmail,\n  password: z.string().min(1, 'Password is required').max(128),\n  rememberMe: z.boolean().default(false),\n  twoFactorCode: z.string().regex(/^\\d{6}$/, 'Invalid 2FA code').optional(),\n});\n\nexport const RegisterSchema = z.object({\n  email: secureEmail,\n  password: securePassword,\n  confirmPassword: z.string(),\n  firstName: createSecureString(1, 50),\n  lastName: createSecureString(1, 50),\n  phone: securePhone,\n  acceptTerms: z.boolean().refine(val => val === true, 'Must accept terms'),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\nexport const PasswordResetSchema = z.object({\n  email: secureEmail,\n});\n\nexport const PasswordChangeSchema = z.object({\n  currentPassword: z.string().min(1, 'Current password is required'),\n  newPassword: securePassword,\n  confirmPassword: z.string(),\n}).refine((data) => data.newPassword === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\nexport const TwoFactorSetupSchema = z.object({\n  secret: z.string().min(16, 'Invalid secret'),\n  token: z.string().regex(/^\\d{6}$/, 'Invalid verification code'),\n});\n\n// User Profile Schemas\nexport const UserProfileSchema = z.object({\n  id: secureId.optional(),\n  email: secureEmail,\n  firstName: createSecureString(1, 50),\n  lastName: createSecureString(1, 50),\n  phone: securePhone,\n  avatar: secureUrl.optional(),\n  timezone: z.string().max(50).optional(),\n  locale: z.string().max(10).optional(),\n  role: z.enum(['admin', 'manager', 'staff', 'viewer']),\n  permissions: z.array(z.string()).default([]),\n  isActive: z.boolean().default(true),\n  lastLoginAt: z.date().optional(),\n  createdAt: z.date().optional(),\n  updatedAt: z.date().optional(),\n});\n\n// Restaurant Profile Schemas\nexport const RestaurantProfileSchema = z.object({\n  id: secureId.optional(),\n  name: createSecureString(1, 100),\n  description: createSecureString(0, 500).optional(),\n  address: z.object({\n    street: createSecureString(1, 100),\n    city: createSecureString(1, 50),\n    state: createSecureString(1, 50),\n    zipCode: z.string().regex(/^\\d{5}(-\\d{4})?$/, 'Invalid ZIP code'),\n    country: z.string().length(2, 'Country code must be 2 characters'),\n  }),\n  phone: securePhone,\n  email: secureEmail,\n  website: secureUrl.optional(),\n  timezone: z.string().max(50),\n  currency: z.string().length(3, 'Currency code must be 3 characters'),\n  logo: secureUrl.optional(),\n});\n\n// Menu Item Schemas\nexport const MenuItemSchema = z.object({\n  id: secureId.optional(),\n  name: createSecureString(1, 100),\n  description: createSecureString(0, 500).optional(),\n  price: z.number().min(0, 'Price must be non-negative').max(9999.99, 'Price too high'),\n  category: createSecureString(1, 50),\n  subcategory: createSecureString(0, 50).optional(),\n  image: secureUrl.optional(),\n  allergens: z.array(z.string().max(50)).default([]),\n  nutritionalInfo: z.object({\n    calories: z.number().min(0).max(9999).optional(),\n    protein: z.number().min(0).max(999).optional(),\n    carbs: z.number().min(0).max(999).optional(),\n    fat: z.number().min(0).max(999).optional(),\n  }).optional(),\n  availability: z.object({\n    isAvailable: z.boolean().default(true),\n    availableFrom: z.string().regex(/^\\d{2}:\\d{2}$/, 'Invalid time format').optional(),\n    availableTo: z.string().regex(/^\\d{2}:\\d{2}$/, 'Invalid time format').optional(),\n    daysOfWeek: z.array(z.number().min(0).max(6)).default([0, 1, 2, 3, 4, 5, 6]),\n  }).default({ isAvailable: true, daysOfWeek: [0, 1, 2, 3, 4, 5, 6] }),\n  modifiers: z.array(z.string()).default([]),\n  isVisible: z.boolean().default(true),\n  sortOrder: z.number().min(0).default(0),\n});\n\n// Order Schemas\nexport const OrderItemSchema = z.object({\n  menuItemId: secureId,\n  quantity: z.number().min(1, 'Quantity must be at least 1').max(99, 'Quantity too high'),\n  price: z.number().min(0, 'Price must be non-negative'),\n  modifiers: z.array(z.object({\n    id: secureId,\n    name: createSecureString(1, 100),\n    price: z.number().min(0),\n  })).default([]),\n  specialInstructions: createSecureString(0, 200).optional(),\n});\n\nexport const OrderSchema = z.object({\n  id: secureId.optional(),\n  customerInfo: z.object({\n    name: createSecureString(1, 100).optional(),\n    email: secureEmail.optional(),\n    phone: securePhone.optional(),\n  }).optional(),\n  items: z.array(OrderItemSchema).min(1, 'Order must have at least one item'),\n  subtotal: z.number().min(0, 'Subtotal must be non-negative'),\n  tax: z.number().min(0, 'Tax must be non-negative'),\n  tip: z.number().min(0, 'Tip must be non-negative'),\n  total: z.number().min(0, 'Total must be non-negative'),\n  status: z.enum(['pending', 'confirmed', 'preparing', 'ready', 'completed', 'cancelled']),\n  orderType: z.enum(['dine-in', 'takeout', 'delivery']),\n  paymentMethod: z.enum(['cash', 'card', 'mobile']),\n  notes: createSecureString(0, 500).optional(),\n  createdAt: z.date().optional(),\n  updatedAt: z.date().optional(),\n});\n\n// Reservation Schemas\nexport const ReservationSchema = z.object({\n  id: secureId.optional(),\n  customerInfo: z.object({\n    firstName: createSecureString(1, 50),\n    lastName: createSecureString(1, 50),\n    email: secureEmail,\n    phone: securePhone,\n  }),\n  partySize: z.number().min(1, 'Party size must be at least 1').max(20, 'Party size too large'),\n  reservationDate: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Invalid date format'),\n  reservationTime: z.string().regex(/^\\d{2}:\\d{2}$/, 'Invalid time format'),\n  duration: z.number().min(30, 'Duration must be at least 30 minutes').max(300, 'Duration too long'),\n  tableId: secureId.optional(),\n  status: z.enum(['pending', 'confirmed', 'seated', 'completed', 'cancelled', 'no-show']),\n  specialRequests: createSecureString(0, 500).optional(),\n  createdAt: z.date().optional(),\n  updatedAt: z.date().optional(),\n});\n\n// Inventory Schemas\nexport const InventoryItemSchema = z.object({\n  id: secureId.optional(),\n  name: createSecureString(1, 100),\n  description: createSecureString(0, 500).optional(),\n  sku: createSecureString(1, 50),\n  category: createSecureString(1, 50),\n  unit: z.enum(['pieces', 'pounds', 'ounces', 'gallons', 'liters', 'grams', 'kilograms']),\n  currentStock: z.number().min(0, 'Stock cannot be negative'),\n  minStock: z.number().min(0, 'Minimum stock cannot be negative'),\n  maxStock: z.number().min(0, 'Maximum stock cannot be negative'),\n  costPerUnit: z.number().min(0, 'Cost must be non-negative'),\n  supplier: createSecureString(0, 100).optional(),\n  expirationDate: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Invalid date format').optional(),\n  location: createSecureString(0, 100).optional(),\n  barcode: z.string().max(50).optional(),\n});\n\n// Staff Management Schemas\nexport const StaffMemberSchema = z.object({\n  id: secureId.optional(),\n  employeeId: createSecureString(1, 20),\n  firstName: createSecureString(1, 50),\n  lastName: createSecureString(1, 50),\n  email: secureEmail,\n  phone: securePhone,\n  position: createSecureString(1, 50),\n  department: createSecureString(1, 50),\n  hireDate: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Invalid date format'),\n  hourlyRate: z.number().min(0, 'Hourly rate must be non-negative').optional(),\n  isActive: z.boolean().default(true),\n  permissions: z.array(z.string()).default([]),\n  schedule: z.array(z.object({\n    dayOfWeek: z.number().min(0).max(6),\n    startTime: z.string().regex(/^\\d{2}:\\d{2}$/, 'Invalid time format'),\n    endTime: z.string().regex(/^\\d{2}:\\d{2}$/, 'Invalid time format'),\n  })).default([]),\n});\n\n// Analytics and Reporting Schemas\nexport const DateRangeSchema = z.object({\n  startDate: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Invalid start date format'),\n  endDate: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Invalid end date format'),\n}).refine((data) => new Date(data.startDate) <= new Date(data.endDate), {\n  message: 'Start date must be before end date',\n  path: ['endDate'],\n});\n\nexport const ReportConfigSchema = z.object({\n  reportType: z.enum(['sales', 'inventory', 'staff', 'customer', 'financial']),\n  dateRange: DateRangeSchema,\n  filters: z.record(z.string(), z.any()).default({}),\n  format: z.enum(['json', 'csv', 'pdf']).default('json'),\n  includeCharts: z.boolean().default(false),\n});\n\n// Settings Schemas\nexport const SettingsSchema = z.object({\n  general: z.object({\n    restaurantName: createSecureString(1, 100),\n    timezone: z.string().max(50),\n    currency: z.string().length(3),\n    dateFormat: z.enum(['MM/DD/YYYY', 'DD/MM/YYYY', 'YYYY-MM-DD']),\n    timeFormat: z.enum(['12h', '24h']),\n  }),\n  notifications: z.object({\n    emailNotifications: z.boolean().default(true),\n    smsNotifications: z.boolean().default(false),\n    pushNotifications: z.boolean().default(true),\n    lowInventoryAlerts: z.boolean().default(true),\n    newOrderAlerts: z.boolean().default(true),\n    reservationAlerts: z.boolean().default(true),\n  }),\n  security: z.object({\n    twoFactorRequired: z.boolean().default(false),\n    sessionTimeout: z.number().min(15).max(1440).default(60), // minutes\n    passwordExpiryDays: z.number().min(30).max(365).default(90),\n    maxLoginAttempts: z.number().min(3).max(10).default(5),\n  }),\n  pos: z.object({\n    taxRate: z.number().min(0).max(0.5).default(0.08),\n    tipSuggestions: z.array(z.number().min(0).max(1)).default([0.15, 0.18, 0.20]),\n    autoAcceptOrders: z.boolean().default(false),\n    printReceipts: z.boolean().default(true),\n  }),\n});\n\n// File Upload Schemas\nexport const FileUploadSchema = z.object({\n  filename: createSecureString(1, 255)\n    .refine((name) => !name.includes('..'), 'Filename cannot contain relative paths')\n    .refine((name) => /^[a-zA-Z0-9._-]+$/.test(name), 'Filename contains invalid characters'),\n  size: z.number().min(1, 'File cannot be empty').max(10 * 1024 * 1024, 'File too large'), // 10MB\n  mimetype: z.string().refine((type) => [\n    'image/jpeg',\n    'image/png', \n    'image/gif',\n    'image/webp',\n    'application/pdf',\n    'text/csv',\n    'application/vnd.ms-excel',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n  ].includes(type), 'File type not allowed'),\n});\n\n// API Response Schemas\nexport const ApiResponseSchema = z.object({\n  success: z.boolean(),\n  data: z.any().optional(),\n  error: z.object({\n    message: z.string(),\n    code: z.string().optional(),\n    details: z.any().optional(),\n  }).optional(),\n  meta: z.object({\n    timestamp: z.string(),\n    requestId: z.string().optional(),\n    version: z.string().optional(),\n  }).optional(),\n});\n\n// Pagination Schema\nexport const PaginationSchema = z.object({\n  page: z.number().min(1, 'Page must be at least 1').default(1),\n  limit: z.number().min(1, 'Limit must be at least 1').max(100, 'Limit too high').default(10),\n  sortBy: z.string().max(50).optional(),\n  sortOrder: z.enum(['asc', 'desc']).default('asc'),\n});\n\n// Search Schema\nexport const SearchSchema = z.object({\n  query: createSecureString(0, 100),\n  filters: z.record(z.string(), z.any()).default({}),\n  ...PaginationSchema.shape,\n});\n\n// Export all schemas for easy access\nexport const ValidationSchemas = {\n  // Auth\n  LoginSchema,\n  RegisterSchema,\n  PasswordResetSchema,\n  PasswordChangeSchema,\n  TwoFactorSetupSchema,\n  \n  // Users\n  UserProfileSchema,\n  \n  // Restaurant\n  RestaurantProfileSchema,\n  \n  // Menu\n  MenuItemSchema,\n  \n  // Orders\n  OrderSchema,\n  OrderItemSchema,\n  \n  // Reservations\n  ReservationSchema,\n  \n  // Inventory\n  InventoryItemSchema,\n  \n  // Staff\n  StaffMemberSchema,\n  \n  // Analytics\n  DateRangeSchema,\n  ReportConfigSchema,\n  \n  // Settings\n  SettingsSchema,\n  \n  // File Upload\n  FileUploadSchema,\n  \n  // API\n  ApiResponseSchema,\n  PaginationSchema,\n  SearchSchema,\n};\n\n// Type exports for TypeScript\nexport type LoginInput = z.infer<typeof LoginSchema>;\nexport type RegisterInput = z.infer<typeof RegisterSchema>;\nexport type PasswordResetInput = z.infer<typeof PasswordResetSchema>;\nexport type PasswordChangeInput = z.infer<typeof PasswordChangeSchema>;\nexport type TwoFactorSetupInput = z.infer<typeof TwoFactorSetupSchema>;\nexport type UserProfile = z.infer<typeof UserProfileSchema>;\nexport type RestaurantProfile = z.infer<typeof RestaurantProfileSchema>;\nexport type MenuItem = z.infer<typeof MenuItemSchema>;\nexport type Order = z.infer<typeof OrderSchema>;\nexport type OrderItem = z.infer<typeof OrderItemSchema>;\nexport type Reservation = z.infer<typeof ReservationSchema>;\nexport type InventoryItem = z.infer<typeof InventoryItemSchema>;\nexport type StaffMember = z.infer<typeof StaffMemberSchema>;\nexport type DateRange = z.infer<typeof DateRangeSchema>;\nexport type ReportConfig = z.infer<typeof ReportConfigSchema>;\nexport type Settings = z.infer<typeof SettingsSchema>;\nexport type FileUpload = z.infer<typeof FileUploadSchema>;\nexport type ApiResponse = z.infer<typeof ApiResponseSchema>;\nexport type Pagination = z.infer<typeof PaginationSchema>;\nexport type Search = z.infer<typeof SearchSchema>;\n\nexport default ValidationSchemas;","/**\n * Central Security Configuration\n * Provides centralized security settings and constants for the restaurant dashboard\n */\n\n// Helper function to get environment variable with fallback\nconst getEnvVar = (key: string, fallback?: string): string => {\n  const value = process.env[key];\n  if (!value && !fallback) {\n    console.warn(`Missing environment variable: ${key}`);\n  }\n  return value || fallback || '';\n};\n\n// Helper function to parse boolean environment variables\nconst getEnvBool = (key: string, fallback: boolean): boolean => {\n  const value = process.env[key];\n  if (value === undefined) return fallback;\n  return value === 'true' || value === '1';\n};\n\n// Helper function to parse number environment variables\nconst getEnvNumber = (key: string, fallback: number): number => {\n  const value = process.env[key];\n  if (!value) return fallback;\n  const parsed = parseInt(value, 10);\n  return isNaN(parsed) ? fallback : parsed;\n};\n\nexport const SECURITY_CONFIG = {\n  // Authentication & Session\n  session: {\n    cookieName: getEnvVar('SESSION_COOKIE_NAME', 'restaurant-dashboard-session'),\n    maxAge: getEnvNumber('SESSION_MAX_AGE_MS', 24 * 60 * 60 * 1000), // 24 hours\n    sameSite: 'strict' as const,\n    secure: process.env.NODE_ENV === 'production',\n    httpOnly: true,\n    path: '/',\n    domain: getEnvVar('COOKIE_DOMAIN'),\n    secret: getEnvVar('SESSION_SECRET', ''),\n  },\n\n  // Password Requirements\n  password: {\n    minLength: getEnvNumber('PASSWORD_MIN_LENGTH', 12),\n    requireUppercase: getEnvBool('PASSWORD_REQUIRE_UPPERCASE', true),\n    requireLowercase: getEnvBool('PASSWORD_REQUIRE_LOWERCASE', true),\n    requireNumbers: getEnvBool('PASSWORD_REQUIRE_NUMBERS', true),\n    requireSpecialChars: getEnvBool('PASSWORD_REQUIRE_SPECIAL', true),\n    maxLength: getEnvNumber('PASSWORD_MAX_LENGTH', 128),\n    preventCommon: getEnvBool('PASSWORD_PREVENT_COMMON', true),\n  },\n\n  // Rate Limiting\n  rateLimiting: {\n    // General API rate limiting\n    api: {\n      windowMs: getEnvNumber('RATE_LIMIT_WINDOW_MS', 15 * 60 * 1000), // 15 minutes\n      maxRequests: getEnvNumber('RATE_LIMIT_MAX_REQUESTS', 1000),\n      skipSuccessfulRequests: getEnvBool('RATE_LIMIT_SKIP_SUCCESS', false),\n      skipFailedRequests: getEnvBool('RATE_LIMIT_SKIP_FAILED', false),\n      redisUrl: getEnvVar('RATE_LIMIT_REDIS_URL', 'redis://localhost:6379'),\n    },\n    // Login attempts\n    login: {\n      windowMs: getEnvNumber('LOGIN_WINDOW_MS', 15 * 60 * 1000), // 15 minutes\n      maxAttempts: getEnvNumber('LOGIN_MAX_ATTEMPTS', 5),\n      blockDuration: getEnvNumber('LOGIN_BLOCK_DURATION_MS', 30 * 60 * 1000), // 30 minutes\n    },\n    // Password reset\n    passwordReset: {\n      windowMs: getEnvNumber('PASSWORD_RESET_WINDOW_MS', 60 * 60 * 1000), // 1 hour\n      maxAttempts: getEnvNumber('PASSWORD_RESET_MAX_ATTEMPTS', 3),\n      blockDuration: getEnvNumber('PASSWORD_RESET_BLOCK_MS', 60 * 60 * 1000), // 1 hour\n    },\n    // Email verification\n    emailVerification: {\n      windowMs: getEnvNumber('EMAIL_VERIFY_WINDOW_MS', 60 * 60 * 1000), // 1 hour\n      maxAttempts: getEnvNumber('EMAIL_VERIFY_MAX_ATTEMPTS', 5),\n      blockDuration: getEnvNumber('EMAIL_VERIFY_BLOCK_MS', 60 * 60 * 1000), // 1 hour\n    },\n  },\n\n  // CSRF Protection\n  csrf: {\n    secret: getEnvVar('CSRF_SECRET', ''),\n    cookieName: '__Host-csrf-token',\n    headerName: 'x-csrf-token',\n    cookieOptions: {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      sameSite: 'strict' as const,\n      path: '/',\n      maxAge: getEnvNumber('CSRF_TOKEN_MAX_AGE_MS', 24 * 60 * 60 * 1000), // 24 hours\n    },\n  },\n\n  // Encryption\n  encryption: {\n    algorithm: 'aes-256-gcm',\n    keyLength: 32,\n    ivLength: 16,\n    tagLength: 16,\n    saltLength: 64,\n    iterations: getEnvNumber('ENCRYPTION_ITERATIONS', 100000),\n    key: getEnvVar('ENCRYPTION_KEY', ''),\n  },\n\n  // JWT Configuration\n  jwt: {\n    issuer: getEnvVar('JWT_ISSUER', 'restaurant-dashboard'),\n    audience: getEnvVar('JWT_AUDIENCE', 'restaurant-dashboard-users'),\n    algorithm: 'HS256' as const,\n    accessTokenExpiry: getEnvVar('JWT_ACCESS_TOKEN_EXPIRY', '15m'),\n    refreshTokenExpiry: getEnvVar('JWT_REFRESH_TOKEN_EXPIRY', '7d'),\n    secret: getEnvVar('JWT_SECRET', ''),\n  },\n\n  // Content Security Policy\n  csp: {\n    defaultSrc: [\"'self'\"],\n    scriptSrc: [\n      \"'self'\",\n      process.env.NODE_ENV === 'development' ? \"'unsafe-eval'\" : '',\n      \"'unsafe-inline'\", // Required for styled-components\n      'https://cdn.jsdelivr.net',\n      'https://unpkg.com',\n    ].filter(Boolean),\n    styleSrc: [\n      \"'self'\",\n      \"'unsafe-inline'\",\n      'https://fonts.googleapis.com',\n    ],\n    imgSrc: [\n      \"'self'\",\n      'data:',\n      'blob:',\n      'https:',\n    ],\n    fontSrc: [\n      \"'self'\",\n      'https://fonts.gstatic.com',\n    ],\n    connectSrc: [\n      \"'self'\",\n      getEnvVar('STRIPE_API_URL', 'https://api.stripe.com'),\n      getEnvVar('SQUARE_API_URL', 'https://api.square.com'),\n    ].filter(Boolean),\n    frameSrc: [\n      \"'self'\",\n      'https://js.stripe.com',\n    ],\n    objectSrc: [\"'none'\"],\n    baseUri: [\"'self'\"],\n    formAction: [\"'self'\"],\n    upgradeInsecureRequests: process.env.NODE_ENV === 'production',\n  },\n\n  // Security Headers\n  headers: {\n    'X-Frame-Options': 'DENY',\n    'X-Content-Type-Options': 'nosniff',\n    'X-XSS-Protection': '1; mode=block',\n    'Referrer-Policy': 'strict-origin-when-cross-origin',\n    'Permissions-Policy': 'geolocation=(), microphone=(), camera=()',\n    'Strict-Transport-Security': process.env.NODE_ENV === 'production' \n      ? 'max-age=31536000; includeSubDomains; preload'\n      : '',\n  },\n\n  // CORS Configuration\n  cors: {\n    origin: getEnvVar('CORS_ORIGINS', 'http://localhost:3000').split(','),\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n    allowedHeaders: ['Content-Type', 'Authorization', 'X-CSRF-Token'],\n    credentials: true,\n    maxAge: getEnvNumber('CORS_MAX_AGE', 86400), // 24 hours\n  },\n\n  // File Upload Security\n  fileUpload: {\n    maxFileSize: getEnvNumber('MAX_FILE_SIZE_BYTES', 10 * 1024 * 1024), // 10MB\n    allowedTypes: [\n      'image/jpeg',\n      'image/png',\n      'image/gif',\n      'image/webp',\n      'application/pdf',\n      'text/csv',\n      'application/vnd.ms-excel',\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    ],\n    scanForMalware: getEnvBool('SCAN_UPLOADS_FOR_MALWARE', process.env.NODE_ENV === 'production'),\n    quarantineDirectory: getEnvVar('QUARANTINE_DIR', './quarantine'),\n    uploadDirectory: getEnvVar('UPLOAD_DIR', './uploads'),\n  },\n\n  // Audit Logging\n  audit: {\n    enabled: getEnvBool('AUDIT_LOGGING_ENABLED', true),\n    logLevel: getEnvVar('LOG_LEVEL', 'info'),\n    destinations: getEnvVar('LOG_DESTINATIONS', 'console,file').split(','),\n    sensitiveFields: ['password', 'token', 'secret', 'key', 'creditCard', 'ssn'],\n    retentionDays: getEnvNumber('LOG_RETENTION_DAYS', 90),\n  },\n\n  // Two-Factor Authentication\n  twoFactor: {\n    issuer: getEnvVar('TWO_FACTOR_ISSUER', 'Restaurant Dashboard'),\n    window: getEnvNumber('TWO_FACTOR_WINDOW', 2), // Allow 2 steps tolerance\n    digits: 6,\n    period: 30, // 30 seconds\n    algorithm: 'sha1',\n  },\n\n  // IP Whitelisting (for admin functions)\n  ipWhitelist: {\n    enabled: getEnvBool('IP_WHITELIST_ENABLED', process.env.NODE_ENV === 'production'),\n    adminIPs: getEnvVar('ADMIN_IPS', '').split(',').filter(Boolean),\n    developmentBypass: getEnvBool('IP_WHITELIST_DEV_BYPASS', true),\n  },\n\n  // Database Security\n  database: {\n    connectionTimeout: getEnvNumber('DB_CONNECTION_TIMEOUT_MS', 30000),\n    maxConnections: getEnvNumber('DB_MAX_CONNECTIONS', 20),\n    enableSSL: getEnvBool('DB_ENABLE_SSL', process.env.NODE_ENV === 'production'),\n    certificateValidation: getEnvBool('DB_CERT_VALIDATION', true),\n    poolSize: getEnvNumber('DATABASE_POOL_SIZE', 10),\n  },\n\n  // API Security\n  api: {\n    maxRequestSize: getEnvVar('API_MAX_REQUEST_SIZE', '10mb'),\n    timeout: getEnvNumber('API_TIMEOUT_MS', 30000),\n    enableCompression: getEnvBool('API_ENABLE_COMPRESSION', true),\n    validateContentType: getEnvBool('API_VALIDATE_CONTENT_TYPE', true),\n  },\n\n  // Redis Configuration\n  redis: {\n    url: getEnvVar('REDIS_URL', 'redis://localhost:6379'),\n    ttl: getEnvNumber('REDIS_TTL_SECONDS', 3600),\n    maxRetries: getEnvNumber('REDIS_MAX_RETRIES', 3),\n    retryDelay: getEnvNumber('REDIS_RETRY_DELAY_MS', 1000),\n  },\n\n  // WebAuthn/Passkeys\n  webauthn: {\n    rpName: getEnvVar('WEBAUTHN_RP_NAME', 'Restaurant Dashboard'),\n    rpId: getEnvVar('WEBAUTHN_RP_ID', 'localhost'),\n    origin: getEnvVar('WEBAUTHN_ORIGIN', 'http://localhost:3000'),\n    userVerification: 'preferred' as const,\n  },\n\n  // Development & Testing\n  development: {\n    disableSecurityInDev: getEnvBool('DISABLE_SECURITY_IN_DEV', false),\n    logSecurityEvents: getEnvBool('LOG_SECURITY_EVENTS', true),\n    mockExternalServices: getEnvBool('MOCK_EXTERNAL_SERVICES', process.env.NODE_ENV === 'test'),\n    verboseLogging: getEnvBool('VERBOSE_LOGGING', false),\n  },\n} as const;\n\n// Validate critical environment variables on startup\nconst validateSecurityConfig = () => {\n  const criticalVars = [\n    { key: 'SESSION_SECRET', value: SECURITY_CONFIG.session.secret },\n    { key: 'CSRF_SECRET', value: SECURITY_CONFIG.csrf.secret },\n    { key: 'ENCRYPTION_KEY', value: SECURITY_CONFIG.encryption.key },\n    { key: 'JWT_SECRET', value: SECURITY_CONFIG.jwt.secret },\n  ];\n\n  const missingVars = criticalVars.filter(v => !v.value);\n  \n  if (missingVars.length > 0 && process.env.NODE_ENV === 'production') {\n    throw new Error(\n      `Missing critical environment variables: ${missingVars.map(v => v.key).join(', ')}`\n    );\n  } else if (missingVars.length > 0) {\n    console.warn(\n      `  Missing critical environment variables in development: ${missingVars.map(v => v.key).join(', ')}`\n    );\n  }\n};\n\n// Run validation\nif (typeof process !== 'undefined') {\n  validateSecurityConfig();\n}\n\nexport type SecurityConfig = typeof SECURITY_CONFIG;\n\n// Security event types for audit logging\nexport const SECURITY_EVENTS = {\n  LOGIN_SUCCESS: 'login_success',\n  LOGIN_FAILURE: 'login_failure',\n  LOGIN_BLOCKED: 'login_blocked',\n  PASSWORD_CHANGE: 'password_change',\n  PASSWORD_RESET_REQUEST: 'password_reset_request',\n  PASSWORD_RESET_SUCCESS: 'password_reset_success',\n  ACCOUNT_LOCKED: 'account_locked',\n  ACCOUNT_UNLOCKED: 'account_unlocked',\n  PERMISSION_DENIED: 'permission_denied',\n  CSRF_TOKEN_INVALID: 'csrf_token_invalid',\n  RATE_LIMIT_EXCEEDED: 'rate_limit_exceeded',\n  SUSPICIOUS_ACTIVITY: 'suspicious_activity',\n  FILE_UPLOAD_BLOCKED: 'file_upload_blocked',\n  IP_BLOCKED: 'ip_blocked',\n  SESSION_CREATED: 'session_created',\n  SESSION_DESTROYED: 'session_destroyed',\n  SESSION_EXPIRED: 'session_expired',\n  TWO_FACTOR_ENABLED: 'two_factor_enabled',\n  TWO_FACTOR_DISABLED: 'two_factor_disabled',\n  TWO_FACTOR_VERIFICATION_SUCCESS: 'two_factor_verification_success',\n  TWO_FACTOR_VERIFICATION_FAILURE: 'two_factor_verification_failure',\n  DATA_EXPORT: 'data_export',\n  DATA_IMPORT: 'data_import',\n  API_KEY_CREATED: 'api_key_created',\n  API_KEY_REVOKED: 'api_key_revoked',\n} as const;\n\nexport type SecurityEvent = typeof SECURITY_EVENTS[keyof typeof SECURITY_EVENTS];\n\n// Common security patterns\nexport const SECURITY_PATTERNS = {\n  EMAIL_REGEX: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n  PHONE_REGEX: /^\\+?[\\d\\s\\-\\(\\)]{10,}$/,\n  PASSWORD_STRENGTH_REGEX: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/,\n  SQL_INJECTION_PATTERNS: [\n    /(\\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|EXECUTE)\\b)/i,\n    /(\\b(UNION|OR|AND)\\b.*\\b(SELECT|INSERT|UPDATE|DELETE)\\b)/i,\n    /(\\'|\\\"|;|--|\\*|\\/\\*|\\*\\/)/,\n  ],\n  XSS_PATTERNS: [\n    /<script[^>]*>.*?<\\/script>/gi,\n    /javascript:/gi,\n    /on\\w+\\s*=/gi,\n    /<iframe[^>]*>.*?<\\/iframe>/gi,\n  ],\n  COMMON_PASSWORDS: [\n    'password', '123456', 'password123', 'admin', 'letmein',\n    'qwerty', 'abc123', 'monkey', '1234567890', 'password1',\n  ],\n} as const;\n\nexport default SECURITY_CONFIG;","/**\n * Data Encryption Utilities\n * Comprehensive encryption/decryption functions for sensitive data\n */\n\nimport { \n  createCipher, \n  createDecipher, \n  createHash, \n  randomBytes, \n  pbkdf2Sync, \n  createHmac,\n  scryptSync,\n  timingSafeEqual\n} from 'crypto';\nimport { SECURITY_CONFIG } from '../../config/security.config';\nimport bcrypt from 'bcryptjs';\n\n// Encryption Configuration\nconst ENCRYPTION_CONFIG = {\n  algorithm: SECURITY_CONFIG.encryption.algorithm,\n  keyLength: SECURITY_CONFIG.encryption.keyLength,\n  ivLength: SECURITY_CONFIG.encryption.ivLength,\n  tagLength: SECURITY_CONFIG.encryption.tagLength,\n  saltLength: SECURITY_CONFIG.encryption.saltLength,\n  iterations: SECURITY_CONFIG.encryption.iterations,\n  keyDerivationAlgorithm: 'scrypt' as const,\n  hmacAlgorithm: 'sha256' as const,\n};\n\n// Encrypted Data Interface\ninterface EncryptedData {\n  encrypted: string;\n  iv: string;\n  salt: string;\n  tag: string;\n  algorithm: string;\n  keyLength: number;\n  iterations: number;\n}\n\n/**\n * Generate a cryptographically secure key from password and salt\n */\nexport function deriveKey(password: string, salt: Buffer): Buffer {\n  return scryptSync(password, salt, ENCRYPTION_CONFIG.keyLength);\n}\n\n/**\n * Generate a random salt\n */\nexport function generateSalt(): Buffer {\n  return randomBytes(ENCRYPTION_CONFIG.saltLength);\n}\n\n/**\n * Generate a random initialization vector\n */\nexport function generateIV(): Buffer {\n  return randomBytes(ENCRYPTION_CONFIG.ivLength);\n}\n\n/**\n * Encrypt sensitive data using AES-256-GCM\n */\nexport function encrypt(\n  plaintext: string, \n  masterKey: string = process.env.ENCRYPTION_KEY || 'fallback-key'\n): EncryptedData {\n  try {\n    const salt = generateSalt();\n    const iv = generateIV();\n    const key = deriveKey(masterKey, salt);\n    \n    const cipher = createCipher(ENCRYPTION_CONFIG.algorithm, key);\n    cipher.setAAD(Buffer.from('restaurant-dashboard', 'utf8'));\n    \n    let encrypted = cipher.update(plaintext, 'utf8', 'hex');\n    encrypted += cipher.final('hex');\n    \n    const tag = cipher.getAuthTag();\n    \n    return {\n      encrypted,\n      iv: iv.toString('hex'),\n      salt: salt.toString('hex'),\n      tag: tag.toString('hex'),\n      algorithm: ENCRYPTION_CONFIG.algorithm,\n      keyLength: ENCRYPTION_CONFIG.keyLength,\n      iterations: ENCRYPTION_CONFIG.iterations,\n    };\n  } catch (error) {\n    throw new Error('Encryption failed: ' + (error as Error).message);\n  }\n}\n\n/**\n * Decrypt sensitive data using AES-256-GCM\n */\nexport function decrypt(\n  encryptedData: EncryptedData, \n  masterKey: string = process.env.ENCRYPTION_KEY || 'fallback-key'\n): string {\n  try {\n    const salt = Buffer.from(encryptedData.salt, 'hex');\n    const iv = Buffer.from(encryptedData.iv, 'hex');\n    const tag = Buffer.from(encryptedData.tag, 'hex');\n    const key = deriveKey(masterKey, salt);\n    \n    const decipher = createDecipher(encryptedData.algorithm, key);\n    decipher.setAuthTag(tag);\n    decipher.setAAD(Buffer.from('restaurant-dashboard', 'utf8'));\n    \n    let decrypted = decipher.update(encryptedData.encrypted, 'hex', 'utf8');\n    decrypted += decipher.final('utf8');\n    \n    return decrypted;\n  } catch (error) {\n    throw new Error('Decryption failed: ' + (error as Error).message);\n  }\n}\n\n/**\n * Hash password using bcrypt with salt\n */\nexport async function hashPassword(password: string, saltRounds: number = 12): Promise<string> {\n  try {\n    return await bcrypt.hash(password, saltRounds);\n  } catch (error) {\n    throw new Error('Password hashing failed: ' + (error as Error).message);\n  }\n}\n\n/**\n * Verify password against hash using bcrypt\n */\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\n  try {\n    return await bcrypt.compare(password, hash);\n  } catch (error) {\n    console.error('Password verification failed:', error);\n    return false;\n  }\n}\n\n/**\n * Generate secure hash of data using SHA-256\n */\nexport function generateHash(data: string, algorithm: string = 'sha256'): string {\n  return createHash(algorithm).update(data, 'utf8').digest('hex');\n}\n\n/**\n * Generate HMAC signature\n */\nexport function generateHMAC(\n  data: string, \n  secret: string, \n  algorithm: string = ENCRYPTION_CONFIG.hmacAlgorithm\n): string {\n  return createHmac(algorithm, secret).update(data, 'utf8').digest('hex');\n}\n\n/**\n * Verify HMAC signature with timing-safe comparison\n */\nexport function verifyHMAC(\n  data: string, \n  signature: string, \n  secret: string, \n  algorithm: string = ENCRYPTION_CONFIG.hmacAlgorithm\n): boolean {\n  const expectedSignature = generateHMAC(data, secret, algorithm);\n  const expectedBuffer = Buffer.from(expectedSignature, 'hex');\n  const providedBuffer = Buffer.from(signature, 'hex');\n  \n  // Use timing-safe comparison to prevent timing attacks\n  return expectedBuffer.length === providedBuffer.length &&\n         timingSafeEqual(expectedBuffer, providedBuffer);\n}\n\n/**\n * Encrypt JSON object\n */\nexport function encryptJSON<T>(\n  data: T, \n  masterKey?: string\n): EncryptedData {\n  const jsonString = JSON.stringify(data);\n  return encrypt(jsonString, masterKey);\n}\n\n/**\n * Decrypt JSON object\n */\nexport function decryptJSON<T>(\n  encryptedData: EncryptedData, \n  masterKey?: string\n): T {\n  const jsonString = decrypt(encryptedData, masterKey);\n  return JSON.parse(jsonString);\n}\n\n/**\n * Encrypt database field (for specific columns)\n */\nexport function encryptDatabaseField(value: string, fieldName: string): string {\n  const fieldKey = process.env[`${fieldName.toUpperCase()}_ENCRYPTION_KEY`] || \n                   process.env.DATABASE_ENCRYPTION_KEY || \n                   process.env.ENCRYPTION_KEY || \n                   'fallback-key';\n  \n  const encrypted = encrypt(value, fieldKey);\n  return Buffer.from(JSON.stringify(encrypted)).toString('base64');\n}\n\n/**\n * Decrypt database field\n */\nexport function decryptDatabaseField(encryptedValue: string, fieldName: string): string {\n  const fieldKey = process.env[`${fieldName.toUpperCase()}_ENCRYPTION_KEY`] || \n                   process.env.DATABASE_ENCRYPTION_KEY || \n                   process.env.ENCRYPTION_KEY || \n                   'fallback-key';\n  \n  const encryptedData: EncryptedData = JSON.parse(\n    Buffer.from(encryptedValue, 'base64').toString()\n  );\n  \n  return decrypt(encryptedData, fieldKey);\n}\n\n/**\n * Generate cryptographically secure random string\n */\nexport function generateSecureRandom(length: number = 32, encoding: BufferEncoding = 'hex'): string {\n  return randomBytes(Math.ceil(length / 2)).toString(encoding).slice(0, length);\n}\n\n/**\n * Generate API key\n */\nexport function generateAPIKey(prefix: string = 'rsk'): string {\n  const randomPart = generateSecureRandom(32);\n  const timestamp = Date.now().toString(36);\n  return `${prefix}_${timestamp}_${randomPart}`;\n}\n\n/**\n * Hash API key for storage\n */\nexport function hashAPIKey(apiKey: string): string {\n  return generateHash(apiKey + process.env.API_KEY_SECRET, 'sha256');\n}\n\n/**\n * Verify API key\n */\nexport function verifyAPIKey(apiKey: string, hashedKey: string): boolean {\n  const computedHash = hashAPIKey(apiKey);\n  const expectedBuffer = Buffer.from(hashedKey, 'hex');\n  const computedBuffer = Buffer.from(computedHash, 'hex');\n  \n  return expectedBuffer.length === computedBuffer.length &&\n         timingSafeEqual(expectedBuffer, computedBuffer);\n}\n\n/**\n * Encrypt file content\n */\nexport function encryptFile(fileBuffer: Buffer, masterKey?: string): EncryptedData {\n  const base64Content = fileBuffer.toString('base64');\n  return encrypt(base64Content, masterKey);\n}\n\n/**\n * Decrypt file content\n */\nexport function decryptFile(encryptedData: EncryptedData, masterKey?: string): Buffer {\n  const base64Content = decrypt(encryptedData, masterKey);\n  return Buffer.from(base64Content, 'base64');\n}\n\n/**\n * Generate one-time token (for password resets, email verification, etc.)\n */\nexport function generateOneTimeToken(\n  userId: string, \n  purpose: string, \n  expiresIn: number = 60 * 60 * 1000 // 1 hour default\n): { token: string; expires: number } {\n  const expires = Date.now() + expiresIn;\n  const tokenData = {\n    userId,\n    purpose,\n    expires,\n    nonce: generateSecureRandom(16),\n  };\n  \n  const token = Buffer.from(JSON.stringify(tokenData)).toString('base64url');\n  const signature = generateHMAC(token, process.env.TOKEN_SECRET || 'token-secret');\n  \n  return {\n    token: `${token}.${signature}`,\n    expires,\n  };\n}\n\n/**\n * Verify one-time token\n */\nexport function verifyOneTimeToken(\n  tokenWithSignature: string,\n  expectedUserId?: string,\n  expectedPurpose?: string\n): { valid: boolean; data?: any; reason?: string } {\n  try {\n    const [token, signature] = tokenWithSignature.split('.');\n    \n    if (!token || !signature) {\n      return { valid: false, reason: 'Malformed token' };\n    }\n    \n    // Verify signature\n    const expectedSignature = generateHMAC(token, process.env.TOKEN_SECRET || 'token-secret');\n    if (!verifyHMAC(token, signature, process.env.TOKEN_SECRET || 'token-secret')) {\n      return { valid: false, reason: 'Invalid token signature' };\n    }\n    \n    // Parse token data\n    const tokenData = JSON.parse(Buffer.from(token, 'base64url').toString());\n    \n    // Check expiration\n    if (Date.now() > tokenData.expires) {\n      return { valid: false, reason: 'Token expired' };\n    }\n    \n    // Check user ID if provided\n    if (expectedUserId && tokenData.userId !== expectedUserId) {\n      return { valid: false, reason: 'User mismatch' };\n    }\n    \n    // Check purpose if provided\n    if (expectedPurpose && tokenData.purpose !== expectedPurpose) {\n      return { valid: false, reason: 'Purpose mismatch' };\n    }\n    \n    return { valid: true, data: tokenData };\n  } catch (error) {\n    return { valid: false, reason: 'Token parsing failed' };\n  }\n}\n\n/**\n * Encrypt sensitive configuration values\n */\nexport class EncryptedConfig {\n  private static encryptValue(key: string, value: string): string {\n    const configKey = process.env.CONFIG_ENCRYPTION_KEY || process.env.ENCRYPTION_KEY || 'config-key';\n    const encrypted = encrypt(value, configKey + key);\n    return Buffer.from(JSON.stringify(encrypted)).toString('base64');\n  }\n  \n  private static decryptValue(key: string, encryptedValue: string): string {\n    const configKey = process.env.CONFIG_ENCRYPTION_KEY || process.env.ENCRYPTION_KEY || 'config-key';\n    const encryptedData = JSON.parse(Buffer.from(encryptedValue, 'base64').toString());\n    return decrypt(encryptedData, configKey + key);\n  }\n  \n  static set(key: string, value: string): string {\n    return this.encryptValue(key, value);\n  }\n  \n  static get(key: string, encryptedValue: string): string {\n    return this.decryptValue(key, encryptedValue);\n  }\n}\n\n/**\n * Utility for encrypting PII (Personally Identifiable Information)\n */\nexport class PIIEncryption {\n  private static readonly PII_KEY = process.env.PII_ENCRYPTION_KEY || \n                                   process.env.ENCRYPTION_KEY || \n                                   'pii-encryption-key';\n  \n  static encryptPII(data: Record<string, any>): Record<string, any> {\n    const piiFields = ['email', 'phone', 'address', 'ssn', 'creditCard', 'firstName', 'lastName'];\n    const encrypted = { ...data };\n    \n    for (const field of piiFields) {\n      if (encrypted[field]) {\n        encrypted[field] = encryptDatabaseField(encrypted[field], field);\n      }\n    }\n    \n    return encrypted;\n  }\n  \n  static decryptPII(data: Record<string, any>): Record<string, any> {\n    const piiFields = ['email', 'phone', 'address', 'ssn', 'creditCard', 'firstName', 'lastName'];\n    const decrypted = { ...data };\n    \n    for (const field of piiFields) {\n      if (decrypted[field] && typeof decrypted[field] === 'string') {\n        try {\n          decrypted[field] = decryptDatabaseField(decrypted[field], field);\n        } catch (error) {\n          console.error(`Failed to decrypt PII field ${field}:`, error);\n          // Don't throw error, just leave field encrypted\n        }\n      }\n    }\n    \n    return decrypted;\n  }\n}\n\n/**\n * Key rotation utilities\n */\nexport class KeyRotation {\n  static rotateEncryptionKey(oldKey: string, newKey: string, encryptedData: EncryptedData): EncryptedData {\n    // Decrypt with old key\n    const plaintext = decrypt(encryptedData, oldKey);\n    // Re-encrypt with new key\n    return encrypt(plaintext, newKey);\n  }\n  \n  static rotateMultipleKeys(\n    oldKey: string, \n    newKey: string, \n    encryptedItems: EncryptedData[]\n  ): EncryptedData[] {\n    return encryptedItems.map(item => this.rotateEncryptionKey(oldKey, newKey, item));\n  }\n}\n\nexport default {\n  encrypt,\n  decrypt,\n  hashPassword,\n  verifyPassword,\n  generateHash,\n  generateHMAC,\n  verifyHMAC,\n  encryptJSON,\n  decryptJSON,\n  encryptDatabaseField,\n  decryptDatabaseField,\n  generateSecureRandom,\n  generateAPIKey,\n  hashAPIKey,\n  verifyAPIKey,\n  encryptFile,\n  decryptFile,\n  generateOneTimeToken,\n  verifyOneTimeToken,\n  EncryptedConfig,\n  PIIEncryption,\n  KeyRotation,\n};","/**\n * Rate Limiting Implementation\n * Comprehensive rate limiting with sliding window algorithm and Redis support\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { RateLimiterMemory, RateLimiterRes } from 'rate-limiter-flexible';\nimport { SECURITY_CONFIG, SECURITY_EVENTS } from '../../config/security.config';\n// Note: Redis support removed for Edge runtime compatibility\n// import Redis from 'ioredis';\n\n// Rate Limiter Configuration\ninterface RateLimitConfig {\n  windowMs: number;\n  maxRequests: number;\n  blockDuration?: number;\n  skipSuccessfulRequests?: boolean;\n  skipFailedRequests?: boolean;\n  keyGenerator?: (req: NextRequest) => string;\n  onLimitReached?: (req: NextRequest, identifier: string) => void;\n  whitelist?: string[];\n  blacklist?: string[];\n}\n\n// Rate Limiter Instance\ninterface RateLimiterInstance {\n  limiter: RateLimiterMemory;\n  config: RateLimitConfig;\n}\n\n// Global rate limiters\nconst rateLimiters = new Map<string, RateLimiterInstance>();\n\n// Note: Redis connection removed for Edge runtime compatibility\n// In production, consider using Upstash Redis or KV storage for Edge-compatible persistence\n\n/**\n * Create a rate limiter instance\n */\nexport function createRateLimiter(\n  name: string,\n  config: RateLimitConfig\n): RateLimiterInstance {\n  const limiterOptions = {\n    keyPrefix: `rate_limit_${name}`,\n    points: config.maxRequests,\n    duration: Math.ceil(config.windowMs / 1000), // Convert to seconds\n    blockDuration: Math.ceil((config.blockDuration || config.windowMs) / 1000),\n    execEvenly: true, // Spread requests evenly across the duration\n  };\n  \n  // Using memory-only rate limiter for Edge runtime compatibility\n  const limiter = new RateLimiterMemory(limiterOptions);\n  \n  const instance = { limiter, config };\n  rateLimiters.set(name, instance);\n  \n  return instance;\n}\n\n/**\n * Get rate limiter instance\n */\nexport function getRateLimiter(name: string): RateLimiterInstance | null {\n  return rateLimiters.get(name) || null;\n}\n\n/**\n * Generate rate limit key from request\n */\nfunction generateKey(req: NextRequest, config: RateLimitConfig): string {\n  if (config.keyGenerator) {\n    return config.keyGenerator(req);\n  }\n  \n  // Default key generation: IP + User-Agent hash\n  const ip = req.ip || req.headers.get('x-forwarded-for') || req.headers.get('x-real-ip') || 'unknown';\n  const userAgent = req.headers.get('user-agent') || 'unknown';\n  \n  // For authenticated requests, include user ID\n  const userId = req.headers.get('x-user-id') || req.cookies.get('userId')?.value;\n  \n  return userId ? `${userId}:${ip}` : `${ip}:${Buffer.from(userAgent).toString('base64').slice(0, 20)}`;\n}\n\n/**\n * Check if IP is whitelisted\n */\nfunction isWhitelisted(ip: string, whitelist?: string[]): boolean {\n  if (!whitelist || whitelist.length === 0) return false;\n  \n  return whitelist.some(whitelistedIp => {\n    // Support CIDR notation and exact matches\n    if (whitelistedIp.includes('/')) {\n      // TODO: Implement CIDR matching\n      return false;\n    }\n    return ip === whitelistedIp;\n  });\n}\n\n/**\n * Check if IP is blacklisted\n */\nfunction isBlacklisted(ip: string, blacklist?: string[]): boolean {\n  if (!blacklist || blacklist.length === 0) return false;\n  \n  return blacklist.includes(ip);\n}\n\n/**\n * Apply rate limiting to request\n */\nexport async function applyRateLimit(\n  req: NextRequest,\n  limiterName: string\n): Promise<{ allowed: boolean; reset: Date; remaining: number; total: number }> {\n  const limiterInstance = getRateLimiter(limiterName);\n  \n  if (!limiterInstance) {\n    throw new Error(`Rate limiter '${limiterName}' not found`);\n  }\n  \n  const { limiter, config } = limiterInstance;\n  const key = generateKey(req, config);\n  const ip = req.ip || req.headers.get('x-forwarded-for') || 'unknown';\n  \n  // Check whitelist\n  if (isWhitelisted(ip, config.whitelist)) {\n    return {\n      allowed: true,\n      reset: new Date(Date.now() + config.windowMs),\n      remaining: config.maxRequests,\n      total: config.maxRequests,\n    };\n  }\n  \n  // Check blacklist\n  if (isBlacklisted(ip, config.blacklist)) {\n    logSecurityEvent(SECURITY_EVENTS.IP_BLOCKED, {\n      ip,\n      reason: 'blacklisted',\n      limiter: limiterName,\n    });\n    \n    return {\n      allowed: false,\n      reset: new Date(Date.now() + config.blockDuration || config.windowMs),\n      remaining: 0,\n      total: config.maxRequests,\n    };\n  }\n  \n  try {\n    const res = await limiter.consume(key);\n    \n    return {\n      allowed: true,\n      reset: new Date(Date.now() + res.msBeforeNext),\n      remaining: res.remainingPoints || 0,\n      total: config.maxRequests,\n    };\n  } catch (rejRes: any) {\n    const result = rejRes as RateLimiterRes;\n    \n    // Log rate limit exceeded\n    logSecurityEvent(SECURITY_EVENTS.RATE_LIMIT_EXCEEDED, {\n      ip,\n      key,\n      limiter: limiterName,\n      totalHits: result.totalHits,\n      remainingPoints: result.remainingPoints,\n      msBeforeNext: result.msBeforeNext,\n    });\n    \n    if (config.onLimitReached) {\n      config.onLimitReached(req, key);\n    }\n    \n    return {\n      allowed: false,\n      reset: new Date(Date.now() + result.msBeforeNext),\n      remaining: result.remainingPoints || 0,\n      total: config.maxRequests,\n    };\n  }\n}\n\n/**\n * Create rate limiting middleware\n */\nexport function createRateLimitMiddleware(limiterName: string) {\n  return async (req: NextRequest): Promise<NextResponse | null> => {\n    try {\n      const result = await applyRateLimit(req, limiterName);\n      \n      if (!result.allowed) {\n        const response = NextResponse.json(\n          {\n            error: 'Too many requests',\n            message: 'Rate limit exceeded. Please try again later.',\n            resetTime: result.reset.toISOString(),\n          },\n          { status: 429 }\n        );\n        \n        // Add rate limit headers\n        response.headers.set('X-RateLimit-Limit', result.total.toString());\n        response.headers.set('X-RateLimit-Remaining', result.remaining.toString());\n        response.headers.set('X-RateLimit-Reset', result.reset.toISOString());\n        response.headers.set('Retry-After', Math.ceil((result.reset.getTime() - Date.now()) / 1000).toString());\n        \n        return response;\n      }\n      \n      return null; // Continue to next middleware\n    } catch (error) {\n      console.error('Rate limiting error:', error);\n      return null; // Continue to next middleware on error\n    }\n  };\n}\n\n/**\n * Initialize default rate limiters\n */\nexport function initializeDefaultRateLimiters(): void {\n  // General API rate limiting\n  createRateLimiter('api', {\n    windowMs: SECURITY_CONFIG.rateLimiting.api.windowMs,\n    maxRequests: SECURITY_CONFIG.rateLimiting.api.maxRequests,\n    skipSuccessfulRequests: SECURITY_CONFIG.rateLimiting.api.skipSuccessfulRequests,\n    skipFailedRequests: SECURITY_CONFIG.rateLimiting.api.skipFailedRequests,\n  });\n  \n  // Login attempts rate limiting\n  createRateLimiter('login', {\n    windowMs: SECURITY_CONFIG.rateLimiting.login.windowMs,\n    maxRequests: SECURITY_CONFIG.rateLimiting.login.maxAttempts,\n    blockDuration: SECURITY_CONFIG.rateLimiting.login.blockDuration,\n    keyGenerator: (req) => {\n      // Rate limit by IP + email combination\n      const ip = req.ip || 'unknown';\n      const email = req.headers.get('x-login-email') || 'unknown';\n      return `${ip}:${email}`;\n    },\n  });\n  \n  // Password reset rate limiting\n  createRateLimiter('password-reset', {\n    windowMs: SECURITY_CONFIG.rateLimiting.passwordReset.windowMs,\n    maxRequests: SECURITY_CONFIG.rateLimiting.passwordReset.maxAttempts,\n    blockDuration: SECURITY_CONFIG.rateLimiting.passwordReset.blockDuration,\n    keyGenerator: (req) => {\n      // Rate limit by email\n      const email = req.headers.get('x-reset-email') || req.ip || 'unknown';\n      return `password-reset:${email}`;\n    },\n  });\n  \n  // Email verification rate limiting\n  createRateLimiter('email-verification', {\n    windowMs: SECURITY_CONFIG.rateLimiting.emailVerification.windowMs,\n    maxRequests: SECURITY_CONFIG.rateLimiting.emailVerification.maxAttempts,\n    blockDuration: SECURITY_CONFIG.rateLimiting.emailVerification.blockDuration,\n    keyGenerator: (req) => {\n      const email = req.headers.get('x-verification-email') || req.ip || 'unknown';\n      return `email-verification:${email}`;\n    },\n  });\n  \n  // File upload rate limiting\n  createRateLimiter('file-upload', {\n    windowMs: 60 * 60 * 1000, // 1 hour\n    maxRequests: 50, // 50 uploads per hour\n    blockDuration: 60 * 60 * 1000, // 1 hour block\n    keyGenerator: (req) => {\n      const userId = req.headers.get('x-user-id') || req.ip || 'unknown';\n      return `file-upload:${userId}`;\n    },\n  });\n  \n  // Search/Query rate limiting\n  createRateLimiter('search', {\n    windowMs: 60 * 1000, // 1 minute\n    maxRequests: 30, // 30 searches per minute\n    blockDuration: 5 * 60 * 1000, // 5 minutes block\n  });\n  \n  // Report generation rate limiting\n  createRateLimiter('reports', {\n    windowMs: 60 * 60 * 1000, // 1 hour\n    maxRequests: 10, // 10 reports per hour\n    blockDuration: 60 * 60 * 1000, // 1 hour block\n    keyGenerator: (req) => {\n      const userId = req.headers.get('x-user-id') || req.ip || 'unknown';\n      return `reports:${userId}`;\n    },\n  });\n  \n  // Two-factor authentication rate limiting\n  createRateLimiter('2fa', {\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    maxRequests: 5, // 5 attempts per 15 minutes\n    blockDuration: 30 * 60 * 1000, // 30 minutes block\n    keyGenerator: (req) => {\n      const userId = req.headers.get('x-user-id') || req.ip || 'unknown';\n      return `2fa:${userId}`;\n    },\n  });\n  \n  // Admin actions rate limiting\n  createRateLimiter('admin', {\n    windowMs: 60 * 60 * 1000, // 1 hour\n    maxRequests: 100, // 100 admin actions per hour\n    blockDuration: 60 * 60 * 1000, // 1 hour block\n    keyGenerator: (req) => {\n      const userId = req.headers.get('x-user-id') || req.ip || 'unknown';\n      return `admin:${userId}`;\n    },\n  });\n}\n\n/**\n * Dynamic rate limiter for specific endpoints\n */\nexport function createDynamicRateLimit(\n  endpoint: string,\n  config: Partial<RateLimitConfig> = {}\n) {\n  const defaultConfig: RateLimitConfig = {\n    windowMs: 60 * 1000, // 1 minute\n    maxRequests: 60, // 60 requests per minute\n    ...config,\n  };\n  \n  const limiterName = `dynamic_${endpoint}`;\n  return createRateLimiter(limiterName, defaultConfig);\n}\n\n/**\n * Get rate limit status for a request\n */\nexport async function getRateLimitStatus(\n  req: NextRequest,\n  limiterName: string\n): Promise<{ remaining: number; reset: Date; total: number }> {\n  const limiterInstance = getRateLimiter(limiterName);\n  \n  if (!limiterInstance) {\n    throw new Error(`Rate limiter '${limiterName}' not found`);\n  }\n  \n  const { limiter, config } = limiterInstance;\n  const key = generateKey(req, config);\n  \n  try {\n    const res = await limiter.get(key);\n    \n    return {\n      remaining: res?.remainingPoints || config.maxRequests,\n      reset: new Date(Date.now() + (res?.msBeforeNext || config.windowMs)),\n      total: config.maxRequests,\n    };\n  } catch (error) {\n    return {\n      remaining: config.maxRequests,\n      reset: new Date(Date.now() + config.windowMs),\n      total: config.maxRequests,\n    };\n  }\n}\n\n/**\n * Reset rate limit for a specific key\n */\nexport async function resetRateLimit(\n  req: NextRequest,\n  limiterName: string\n): Promise<void> {\n  const limiterInstance = getRateLimiter(limiterName);\n  \n  if (!limiterInstance) {\n    throw new Error(`Rate limiter '${limiterName}' not found`);\n  }\n  \n  const { limiter, config } = limiterInstance;\n  const key = generateKey(req, config);\n  \n  await limiter.delete(key);\n}\n\n/**\n * Higher-order function for API route protection\n */\nexport function withRateLimit<T extends any[]>(\n  limiterName: string,\n  handler: (...args: T) => Promise<NextResponse> | NextResponse\n) {\n  return async (req: NextRequest, ...args: any[]): Promise<NextResponse> => {\n    try {\n      const result = await applyRateLimit(req, limiterName);\n      \n      if (!result.allowed) {\n        const response = NextResponse.json(\n          {\n            error: 'Too many requests',\n            message: 'Rate limit exceeded. Please try again later.',\n          },\n          { status: 429 }\n        );\n        \n        response.headers.set('X-RateLimit-Limit', result.total.toString());\n        response.headers.set('X-RateLimit-Remaining', result.remaining.toString());\n        response.headers.set('X-RateLimit-Reset', result.reset.toISOString());\n        \n        return response;\n      }\n      \n      // Continue with original handler\n      const response = await handler(req, ...args);\n      \n      // Add rate limit headers to successful responses\n      response.headers.set('X-RateLimit-Limit', result.total.toString());\n      response.headers.set('X-RateLimit-Remaining', result.remaining.toString());\n      response.headers.set('X-RateLimit-Reset', result.reset.toISOString());\n      \n      return response;\n    } catch (error) {\n      console.error('Rate limiting error:', error);\n      // Continue with original handler on rate limiting error\n      return handler(req, ...args);\n    }\n  };\n}\n\n/**\n * Security event logging\n */\nfunction logSecurityEvent(event: string, details: any): void {\n  const logData = {\n    event,\n    timestamp: new Date().toISOString(),\n    ...details,\n  };\n  \n  if (process.env.NODE_ENV === 'development') {\n    console.log('Rate Limit Event:', logData);\n  }\n  \n  // TODO: Integrate with audit logging system\n}\n\n/**\n * Cleanup function for graceful shutdown\n */\nexport async function cleanup(): Promise<void> {\n  // Cleanup not needed for memory-only rate limiter\n  // In production with persistent storage, implement cleanup here\n}\n\n// Initialize default rate limiters on module load\nif (process.env.NODE_ENV !== 'test') {\n  initializeDefaultRateLimiters();\n}\n\nexport default {\n  createRateLimiter,\n  getRateLimiter,\n  applyRateLimit,\n  createRateLimitMiddleware,\n  initializeDefaultRateLimiters,\n  createDynamicRateLimit,\n  getRateLimitStatus,\n  resetRateLimit,\n  withRateLimit,\n  cleanup,\n};"],"names":["slice","options","vnodeId","isValidElement","rerenderQueue","prevDebounce","defer","depthSort","CAPTURE_REGEX","eventClock","eventProxy","eventProxyCapture","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","isArray","Array","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","length","call","defaultProps","undefined","createVNode","original","vnode","__k","__","__b","__e","__c","constructor","__v","__i","__u","Fragment","BaseComponent","context","this","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","__d","push","process","__r","debounceRendering","component","newVNode","oldVNode","oldDom","commitQueue","refQueue","l","sort","shift","__P","diff","__n","namespaceURI","commitRoot","diffChildren","parentDom","renderResult","newParentVNode","oldParentVNode","globalContext","namespace","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","result","shouldPlace","oldChildren","newChildrenLength","constructNewChildrenArray","applyRef","insert","nextSibling","skewedIndex","matchingIndex","oldChildrenLength","remainingOldChildren","skew","String","findMatchingIndex","unmount","parentVNode","insertBefore","nodeType","x","y","matched","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","lowerCaseName","o","cssText","replace","toLowerCase","_attached","addEventListener","removeEventListener","e","removeAttribute","setAttribute","createEventProxy","eventHandler","_dispatched","event","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","isClassComponent","provider","componentContext","renderHook","count","newType","outer","prototype","render","contextType","__E","doRender","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","some","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","cloneNode","then","MODE_HYDRATE","indexOf","markAsForce","diffElementNodes","diffed","forEach","root","cb","map","newHtml","oldHtml","newChildren","inputValue","checked","localName","document","createTextNode","createElementNS","is","__m","data","childNodes","attributes","__html","innerHTML","content","hasRefUnmount","current","skipRemove","r","componentWillUnmount","replaceNode","documentElement","firstChild","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","bind","resolve","setTimeout","a","b","defaultValue","Context","subs","ctx","Set","_props","add","old","delete","Provider","__l","Consumer","contextValue","hydrate","toChildArray","out","VOID_ELEMENTS","UNSAFE_NAME","XLINK","ENCODED_ENTITIES","encodeEntities","str","last","ch","charCodeAt","indent","char","isLargeString","ignoreLines","JS_TO_CSS","CSS_REGEX","styleObjToCss","prop","val","getChildren","accumulator","reduce","markAsDirty","createComponent","getContext","nodeName","cxType","UNNAMED","_renderToStringPretty","opts","inner","isSvgMode","selectValue","pretty","indentChar","rendered","isComponent","shallow","renderRootComponent","shallowHighOrder","cctx","_dirty","_nextState","Object","displayName","Function","toString","match","index","getFallbackComponentName","propChildren","html","attrs","keys","sortAttributes","v","allAttributes","hooked","attributeHook","xml","selected","Error","isVoid","voidElements","pieces","hasLarge","lastWasText","ret","isText","join","substring","SHALLOW","renderToString","shallowRender","previousSkipEffects","res","parent","h","_renderToString","normalizeVNode","normalizePropName","normalizePropValue","renderClassComponent","renderFunctionComponent","startElement","hasChildren","MutableRequestCookiesAdapter","ReadonlyRequestCookiesError","RequestCookiesAdapter","appendMutableCookies","areCookiesMutableInCurrentPhase","createCookiesWithMutableAccessCheck","getModifiedCookieValues","responseCookiesToRequestCookies","callable","seal","cookies","Proxy","get","target","receiver","ReflectAdapter","SYMBOL_MODIFY_COOKIE_VALUES","Symbol","for","modified","headers","mutableCookies","modifiedCookieValues","resCookies","ResponseCookies","returnedCookies","getAll","cookie","set","wrap","onUpdateCookies","responseCookies","Headers","modifiedValues","modifiedCookies","updateResponseCookies","workStore","workAsyncStorage","getStore","pathWasRevalidated","allCookies","filter","has","serializedCookies","tempCookies","wrappedCookies","args","requestStore","ensureCookiesAreStillMutable","phase","_callingExpression","requestCookies","RequestCookies","createDedupedByCallsiteServerErrorLoggerDev","errorRef","cache","React","fn","logErrorOrWarn","env","__NEXT_CACHE_COMPONENTS","console","warn","flushCurrentErrorIfNew","getMessage","logDedupedError","message","NODE_ENV","callStackFrames","stack","split","callingExpression","workUnitStore","workUnitAsyncStorage","isRequestAPICallableInsideAfter","route","forceStatic","underlyingCookies","createEmptyCookies","makeUntrackedExoticCookies","dynamicShouldError","StaticGenBailoutError","captureStackTrace","invalidDynamicUsageError","makeHangingCookies","exportName","InvariantError","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","delayUntilRuntimeStage","makeUntrackedCookies","trackDynamicDataInDynamicRender","userspaceMutableCookies","makeUntrackedCookiesWithDevWarnings","makeUntrackedExoticCookiesWithDevWarnings","throwForMissingRequestStore","CachedCookies","WeakMap","prerenderStore","cachedPromise","promise","makeHangingPromise","renderSignal","cachedCookies","defineProperties","iterator","polyfilledResponseCookiesIterator","size","clear","polyfilledResponseCookiesClear","makeDevtoolsIOAwarePromise","expression","syncIODev","apply","writable","describeNameArg","arg","proxiedPromise","warnForSyncAccess","prerenderPhase","trackSynchronousRequestDataAccessInDev","createCookiesAccessError","prefix","values","returnable","HeadersAdapter","ReadonlyHeadersError","lowercased","find","deleteProperty","merge","from","append","existing","callbackfn","thisArg","entries","underlyingHeaders","makeUntrackedExoticHeaders","makeHangingHeaders","makeUntrackedHeadersWithDevWarnings","makeUntrackedExoticHeadersWithDevWarnings","makeUntrackedHeaders","CachedHeaders","cachedHeaders","getSetCookie","_delete","createHeadersAccessError","draftMode","createOrGetCachedDraftMode","draftModeProvider","getDraftModeProviderForCacheScope","cacheKey","NullDraftMode","cachedDraftMode","CachedDraftModes","isPrefetchRequest","createDraftModeWithDevWarnings","createExoticDraftModeWithDevWarnings","DraftMode","createExoticDraftMode","underlyingProvider","instance","defineProperty","isEnabled","enumerable","configurable","enable","disable","_provider","trackDynamicDraftMode","createDraftModeAccessError","constructorOpt","abortAndThrowOnSynchronousRequestDataAccess","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack"],"mappings":"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,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,QAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,UAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,SAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,UAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,UAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,UAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,UAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,UAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,UAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,UAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,QAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,UAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,UAAY,UAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,UAAY,WAChD,WAAY,WAAY,W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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340]}