(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},42310,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},12329,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},72459,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3908,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23750,e=>{"use strict";e.s(["Input",()=>n]);var t=e.i(43476),r=e.i(71645),a=e.i(11023),s=e.i(61653),i=e.i(78745);let n=r.forwardRef((e,n)=>{let{className:l,type:d,error:o,success:c,label:u,helperText:m,leftIcon:h,rightIcon:f,id:p,...x}=e,g=r.useId(),v=p||g,y=!!o,N=c&&!y,b=(0,a.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm","ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground",a.focusRing,"disabled:cursor-not-allowed disabled:opacity-50",{"border-input":!y&&!N,"border-destructive text-destructive focus-visible:ring-destructive":y,"border-green-500 text-green-700 focus-visible:ring-green-500":N,"pl-10":h,"pr-10":f||y||N},l);return(0,t.jsxs)("div",{className:"w-full",children:[u&&(0,t.jsx)("label",{htmlFor:v,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",y?"text-destructive":"text-foreground"),children:u}),(0,t.jsxs)("div",{className:"relative",children:[h&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:h}),(0,t.jsx)("input",{type:d,className:b,ref:n,id:v,"aria-invalid":y?"true":"false","aria-describedby":o?"".concat(v,"-error"):m?"".concat(v,"-helper"):void 0,...x}),(f||y||N)&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:y?(0,t.jsx)(s.default,{className:"h-4 w-4 text-destructive"}):N?(0,t.jsx)(i.default,{className:"h-4 w-4 text-green-500"}):f})]}),o&&(0,t.jsx)("p",{id:"".concat(v,"-error"),className:"mt-1 text-sm text-destructive",role:"alert",children:o}),m&&!o&&(0,t.jsx)("p",{id:"".concat(v,"-helper"),className:"mt-1 text-sm text-muted-foreground",children:m})]})});n.displayName="Input"},78745,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},94179,e=>{"use strict";e.s(["Badge",()=>s]);var t=e.i(43476),r=e.i(11023);let a={variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600",error:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background text-foreground hover:bg-accent",ghost:"text-foreground hover:bg-accent"},size:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"}};function s(e){let{className:s,variant:i="default",size:n="md",pulse:l=!1,children:d,...o}=e;return(0,t.jsx)("div",{className:(0,r.cn)("inline-flex items-center rounded-full font-semibold transition-colors","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",a.variant[i],a.size[n],l&&"animate-pulse",s),...o,children:d})}},11023,e=>{"use strict";e.s(["cn",()=>a,"disabledStyles",()=>i,"focusRing",()=>s]);var t=e.i(7670),r=e.i(19056);function a(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.twMerge)((0,t.clsx)(a))}let s="focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i="disabled:pointer-events-none disabled:opacity-50"},75254,e=>{"use strict";e.s(["default",()=>n],75254);var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...s,width:n,height:n,stroke:i,strokeWidth:d?24*Number(l)/Number(n):l,className:a("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,a]=e;return(0,t.createElement)(r,a)}),...Array.isArray(c)?c:[c]])}),n=(e,s)=>{let n=(0,t.forwardRef)((n,l)=>{let{className:d,...o}=n;return(0,t.createElement)(i,{ref:l,iconNode:s,className:a("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return n.displayName=r(e),n}},17521,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},67881,20783,91918,e=>{"use strict";e.s(["Button",()=>h],67881);var t=e.i(43476),r=e.i(71645);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1,s=t.map(t=>{let s=a(t,e);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let e=0;e<s.length;e++){let r=s[e];"function"==typeof r?r():a(t[e],null)}}}}function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.useCallback(s(...t),t)}function n(e){let a=function(e){let t=r.forwardRef((e,t)=>{let{children:a,...i}=e;if(r.isValidElement(a)){var n,l,d;let e,o,c=(o=(e=null==(l=Object.getOwnPropertyDescriptor((n=a).props,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=null==(d=Object.getOwnPropertyDescriptor(n,"ref"))?void 0:d.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref,u=function(e,t){let r={...t};for(let a in t){let s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=i(...t);return s(...t),a}:s&&(r[a]=s):"style"===a?r[a]={...s,...i}:"className"===a&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==r.Fragment&&(u.ref=t?s(t,c):c),r.cloneElement(a,u)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),i=r.forwardRef((e,s)=>{let{children:i,...n}=e,l=r.Children.toArray(i),d=l.find(o);if(d){let e=d.props.children,i=l.map(t=>t!==d?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...n,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,t.jsx)(a,{...n,ref:s,children:i})});return i.displayName="".concat(e,".Slot"),i}e.s(["Slot",()=>l,"createSlot",()=>n],91918),e.s(["composeRefs",()=>s,"useComposedRefs",()=>i],20783);var l=n("Slot"),d=Symbol("radix.slottable");function o(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var c=e.i(11023),u=e.i(17521);let m={variant:{primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",danger:"bg-destructive text-destructive-foreground hover:bg-destructive/90",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{sm:"h-9 rounded-md px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 rounded-md px-8 text-base",icon:"h-10 w-10"}},h=r.forwardRef((e,r)=>{let{className:a,variant:s="primary",size:i="md",asChild:n=!1,loading:d=!1,loadingText:o,disabled:h,children:f,...p}=e,x=(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium","ring-offset-background transition-colors",c.focusRing,c.disabledStyles,m.variant[s],m.size[i],a),g=h||d;return(0,t.jsxs)(n?l:"button",{className:x,ref:r,disabled:g,...p,children:[d&&(0,t.jsx)(u.default,{className:"mr-2 h-4 w-4 animate-spin"}),d&&o?o:f]})});h.displayName="Button"},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},61653,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},70065,e=>{"use strict";e.s(["Card",()=>s,"CardContent",()=>l,"CardHeader",()=>i,"CardTitle",()=>n]);var t=e.i(43476),r=e.i(71645),a=e.i(11023);let s=r.forwardRef((e,r)=>{let{className:s,variant:i="default",padding:n="md",...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg bg-card text-card-foreground",{"border border-border":"default"===i||"outlined"===i,"shadow-sm":"default"===i,"shadow-md":"elevated"===i,"p-0":"none"===n,"p-4":"sm"===n,"p-6":"md"===n,"p-8":"lg"===n},s),...l})});s.displayName="Card";let i=r.forwardRef((e,r)=>{let{className:s,divider:i=!1,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",i&&"border-b border-border",s),...n})});i.displayName="CardHeader";let n=r.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});n.displayName="CardTitle",r.forwardRef((e,r)=>{let{className:s,...i}=e;return(0,t.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",s),...i})}).displayName="CardDescription";let l=r.forwardRef((e,r)=>{let{className:s,padding:i="md",...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)({"p-0":"none"===i,"p-4":"sm"===i,"p-6":"md"===i,"p-8":"lg"===i},s),...n})});l.displayName="CardContent",r.forwardRef((e,r)=>{let{className:s,divider:i=!1,justify:n="start",...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",{"border-t border-border pt-6":i,"justify-start":"start"===n,"justify-center":"center"===n,"justify-end":"end"===n,"justify-between":"between"===n},s),...l})}).displayName="CardFooter"},49550,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},55607,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},46753,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63620,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},47978,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},913,37441,e=>{"use strict";e.s(["cancelOrder",()=>m,"getOrderListItems",()=>o,"getOrderStats",()=>c,"getOrderSummary",()=>f,"processRefund",()=>h,"updateOrder",()=>u],913),e.s(["OrderStatus",()=>t,"OrderType",()=>r,"PaymentMethod",()=>s,"PaymentStatus",()=>a],37441);var t=function(e){return e.PENDING="pending",e.CONFIRMED="confirmed",e.PREPARING="preparing",e.READY="ready",e.COMPLETED="completed",e.DELIVERED="delivered",e.CANCELLED="cancelled",e.REFUNDED="refunded",e}({}),r=function(e){return e.DINE_IN="dine_in",e.TAKEOUT="takeout",e.DELIVERY="delivery",e.PICKUP="pickup",e.CATERING="catering",e}({}),a=function(e){return e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.REFUNDED="refunded",e.PARTIALLY_REFUNDED="partially_refunded",e}({}),s=function(e){return e.CASH="cash",e.CREDIT_CARD="credit_card",e.DEBIT_CARD="debit_card",e.DIGITAL_WALLET="digital_wallet",e.GIFT_CARD="gift_card",e.LOYALTY_POINTS="loyalty_points",e.CHECK="check",e.OTHER="other",e}({});let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=[],n=new Date,l=["John Smith","Emma Johnson","Michael Brown","Sarah Davis","Robert Wilson","Lisa Anderson","David Martinez","Jennifer Taylor","Chris Lee","Amanda White","James Harris","Maria Garcia"],d=[{id:"item-1",name:"Classic Burger",price:12.99,station:"grill"},{id:"item-2",name:"Caesar Salad",price:9.99,station:"cold"},{id:"item-3",name:"Margherita Pizza",price:14.99,station:"oven"},{id:"item-4",name:"Grilled Salmon",price:22.99,station:"grill"},{id:"item-5",name:"Chicken Alfredo",price:16.99,station:"saute"},{id:"item-6",name:"Ribeye Steak",price:32.99,station:"grill"},{id:"item-7",name:"Fish Tacos",price:13.99,station:"fryer"},{id:"item-8",name:"Veggie Wrap",price:10.99,station:"cold"}],o=Object.values(t),c=Object.values(r),u=Object.values(s);for(let s=0;s<e;s++){let e=new Date(n.getTime()-7*Math.random()*864e5),m=o[Math.floor(Math.random()*o.length)],h=c[Math.floor(Math.random()*c.length)],f=l[Math.floor(Math.random()*l.length)],p=Math.floor(4*Math.random())+1,x=[],g=0;for(let e=0;e<p;e++){let r=d[Math.floor(Math.random()*d.length)],a=Math.floor(3*Math.random())+1,i=r.price*a;g+=i,x.push({id:"order-item-".concat(s,"-").concat(e),menuItemId:r.id,menuItemName:r.name,quantity:a,unitPrice:r.price,totalPrice:i,modifiers:[],status:m===t.COMPLETED?"served":m===t.READY?"ready":m===t.PREPARING?"preparing":"pending",prepTime:Math.floor(20*Math.random())+10,station:r.station})}let v=.08*g,y=h===r.DINE_IN?g*(.1*Math.random()+.15):0,N=Math.random()>.8?.1*g:0,b=g+v+y-N,j=[{id:"timeline-".concat(s,"-1"),timestamp:e.toISOString(),event:"Order Created",description:"Order #".concat(1e3+s," created"),user:"System"}];m!==t.PENDING&&j.push({id:"timeline-".concat(s,"-2"),timestamp:new Date(e.getTime()+6e4).toISOString(),event:"Order Confirmed",description:"Order confirmed by kitchen",user:"Kitchen Staff"}),[t.PREPARING,t.READY,t.COMPLETED,t.DELIVERED].includes(m)&&j.push({id:"timeline-".concat(s,"-3"),timestamp:new Date(e.getTime()+12e4).toISOString(),event:"Preparation Started",description:"Kitchen started preparing order",user:"Chef Mike"}),[t.READY,t.COMPLETED,t.DELIVERED].includes(m)&&j.push({id:"timeline-".concat(s,"-4"),timestamp:new Date(e.getTime()+9e5).toISOString(),event:"Order Ready",description:"Order ready for pickup/delivery",user:"Chef Mike"}),i.push({id:"order-".concat(s),orderNumber:"#".concat(1e3+s),status:m,type:h,customerId:"customer-".concat(Math.floor(50*Math.random())),customerName:f,customerPhone:"555-".concat(String(Math.floor(1e4*Math.random())).padStart(4,"0")),customerEmail:"".concat(f.toLowerCase().replace(" ","."),"@email.com"),tableNumber:h===r.DINE_IN?"T".concat(Math.floor(20*Math.random())+1):void 0,items:x,subtotal:g,tax:v,tip:y,discount:N,total:b,paymentStatus:m===t.COMPLETED||m===t.DELIVERED?a.COMPLETED:m===t.CANCELLED?a.FAILED:m===t.REFUNDED?a.REFUNDED:a.PENDING,paymentMethod:u[Math.floor(Math.random()*u.length)],paymentDetails:m===t.COMPLETED||m===t.DELIVERED?{transactionId:"txn-".concat(Date.now(),"-").concat(s),lastFourDigits:String(Math.floor(1e4*Math.random())).padStart(4,"0"),cardBrand:"Visa",authorizationCode:"AUTH".concat(Math.floor(1e6*Math.random())),amount:b,tip:y}:void 0,notes:Math.random()>.7?"No onions please":void 0,createdAt:e.toISOString(),updatedAt:new Date(e.getTime()+36e5*Math.random()).toISOString(),confirmedAt:m!==t.PENDING?new Date(e.getTime()+6e4).toISOString():void 0,prepStartedAt:[t.PREPARING,t.READY,t.COMPLETED,t.DELIVERED].includes(m)?new Date(e.getTime()+12e4).toISOString():void 0,readyAt:[t.READY,t.COMPLETED,t.DELIVERED].includes(m)?new Date(e.getTime()+9e5).toISOString():void 0,completedAt:[t.COMPLETED,t.DELIVERED].includes(m)?new Date(e.getTime()+12e5).toISOString():void 0,deliveredAt:m===t.DELIVERED?new Date(e.getTime()+24e5).toISOString():void 0,cancelledAt:m===t.CANCELLED?new Date(e.getTime()+3e5).toISOString():void 0,refundedAt:m===t.REFUNDED?new Date(e.getTime()+864e5).toISOString():void 0,estimatedReadyTime:m===t.PREPARING?new Date(Date.now()+9e5).toISOString():void 0,assignedStaff:h===r.DINE_IN?[{id:"staff-".concat(Math.floor(10*Math.random())),name:["Alice","Bob","Carol","Dave"][Math.floor(4*Math.random())],role:"server",assignedAt:e.toISOString()}]:void 0,deliveryInfo:h===r.DELIVERY?{address:"".concat(Math.floor(9999*Math.random())+1," Main St"),city:"San Francisco",state:"CA",zipCode:"94101",instructions:"Leave at door",driverId:"driver-".concat(Math.floor(5*Math.random())),driverName:["Tom","Jerry","Mike"][Math.floor(3*Math.random())],estimatedDeliveryTime:new Date(e.getTime()+24e5).toISOString(),actualDeliveryTime:m===t.DELIVERED?new Date(e.getTime()+24e5).toISOString():void 0,deliveryFee:4.99,distance:5*Math.random()+1}:void 0,timeline:j,posOrderId:"pos-".concat(Date.now(),"-").concat(s),source:["pos","online","phone","kiosk"][Math.floor(4*Math.random())],thirdPartyProvider:Math.random()>.7?"DoorDash":void 0})}return i},n=null;async function l(e){await new Promise(e=>setTimeout(e,500)),n||(n=i(100));let t=[...n];if(e){var r,a,s;if((null==(r=e.status)?void 0:r.length)&&(t=t.filter(t=>e.status.includes(t.status))),(null==(a=e.type)?void 0:a.length)&&(t=t.filter(t=>e.type.includes(t.type))),(null==(s=e.paymentStatus)?void 0:s.length)&&(t=t.filter(t=>e.paymentStatus.includes(t.paymentStatus))),e.dateRange){let r=new Date(e.dateRange.start),a=new Date(e.dateRange.end);t=t.filter(e=>{let t=new Date(e.createdAt);return t>=r&&t<=a})}if(e.customerId&&(t=t.filter(t=>t.customerId===e.customerId)),e.tableNumber&&(t=t.filter(t=>t.tableNumber===e.tableNumber)),e.searchTerm){let r=e.searchTerm.toLowerCase();t=t.filter(e=>{var t,a,s;return e.orderNumber.toLowerCase().includes(r)||(null==(t=e.customerName)?void 0:t.toLowerCase().includes(r))||(null==(a=e.customerEmail)?void 0:a.toLowerCase().includes(r))||(null==(s=e.customerPhone)?void 0:s.includes(r))})}void 0!==e.minAmount&&(t=t.filter(t=>t.total>=e.minAmount)),void 0!==e.maxAmount&&(t=t.filter(t=>t.total<=e.maxAmount))}return t.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),t}async function d(e){return await new Promise(e=>setTimeout(e,300)),n||(n=i(100)),n.find(t=>t.id===e)||null}async function o(e){return(await l(e)).map(e=>({id:e.id,orderNumber:e.orderNumber,status:e.status,type:e.type,customerName:e.customerName,tableNumber:e.tableNumber,total:e.total,itemCount:e.items.reduce((e,t)=>e+t.quantity,0),createdAt:e.createdAt,estimatedReadyTime:e.estimatedReadyTime,paymentStatus:e.paymentStatus,source:e.source}))}async function c(e){let a=await l(e?{dateRange:e}:void 0),s=new Date,i=new Date(s.getFullYear(),s.getMonth(),s.getDate()),n=a.filter(e=>new Date(e.createdAt)>=i),d={};a.forEach(e=>{let t=new Date(e.createdAt).getHours();d[t]=(d[t]||0)+1});let o=Object.entries(d).map(e=>{let[t,r]=e;return{hour:parseInt(t),orders:r}}).sort((e,t)=>t.orders-e.orders).slice(0,5),c={};Object.values(t).forEach(e=>{c[e]=a.filter(t=>t.status===e).length});let u={};Object.values(r).forEach(e=>{u[e]=a.filter(t=>t.type===e).length});let m=a.reduce((e,t)=>e+t.total,0),h=n.reduce((e,t)=>e+t.total,0),f=a.filter(e=>e.status===t.REFUNDED).reduce((e,t)=>e+t.total,0),p=a.filter(e=>[t.COMPLETED,t.DELIVERED].includes(e.status)),x=p.length>0?p.reduce((e,t)=>t.prepStartedAt&&t.readyAt?e+(new Date(t.readyAt).getTime()-new Date(t.prepStartedAt).getTime()):e,0)/p.length/6e4:0;return{totalOrders:a.length,totalRevenue:m,averageOrderValue:a.length>0?m/a.length:0,ordersByStatus:c,ordersByType:u,todayOrders:n.length,todayRevenue:h,pendingOrders:c[t.PENDING]||0,preparingOrders:c[t.PREPARING]||0,readyOrders:c[t.READY]||0,completedOrders:c[t.COMPLETED]||0,cancelledOrders:c[t.CANCELLED]||0,refundedAmount:f,averagePrepTime:x,peakHours:o}}async function u(e,t){await new Promise(e=>setTimeout(e,300)),n||(n=i(100));let r=n.findIndex(t=>t.id===e);if(-1===r)return null;let a={...n[r]};return t.status&&(a.status=t.status,a.timeline.push({id:"timeline-".concat(Date.now()),timestamp:new Date().toISOString(),event:"Status Updated",description:"Order status changed to ".concat(t.status),user:"Staff"})),t.paymentStatus&&(a.paymentStatus=t.paymentStatus),void 0!==t.notes&&(a.notes=t.notes),t.estimatedReadyTime&&(a.estimatedReadyTime=t.estimatedReadyTime),a.updatedAt=new Date().toISOString(),n[r]=a,a}async function m(e,r){return u(e,{status:t.CANCELLED,notes:r})}async function h(e,r){return(await new Promise(e=>setTimeout(e,500)),await d(e))?u(e,{status:t.REFUNDED,paymentStatus:a.REFUNDED,notes:"Refund processed: ".concat(r.reason)}):null}async function f(e){let t=new Date(e);t.setHours(0,0,0,0);let r=new Date(e);r.setHours(23,59,59,999);let a=await l({dateRange:{start:t.toISOString(),end:r.toISOString()}}),s={};a.forEach(e=>{e.items.forEach(e=>{s[e.menuItemId]||(s[e.menuItemId]={name:e.menuItemName,quantity:0,revenue:0}),s[e.menuItemId].quantity+=e.quantity,s[e.menuItemId].revenue+=e.totalPrice})});let i=Object.entries(s).map(e=>{let[t,r]=e;return{itemId:t,itemName:r.name,quantity:r.quantity,revenue:r.revenue}}).sort((e,t)=>t.revenue-e.revenue).slice(0,10),n={};for(let e=0;e<24;e++)n[e]={orders:0,revenue:0};a.forEach(e=>{let t=new Date(e.createdAt).getHours();n[t].orders++,n[t].revenue+=e.total});let d=Object.entries(n).map(e=>{let[t,r]=e;return{hour:parseInt(t),orders:r.orders,revenue:r.revenue}}),o=a.reduce((e,t)=>e+t.total,0);return{date:e,orderCount:a.length,revenue:o,averageOrderValue:a.length>0?o/a.length:0,topItems:i,hourlyDistribution:d}}},51854,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},68214,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},24895,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},80186,e=>{"use strict";e.s(["OrderEditForm",()=>E]);var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(37441),i=e.i(913),n=e.i(70065),l=e.i(67881),d=e.i(23750),o=e.i(94179),c=e.i(51854),u=e.i(41947),m=e.i(3908),h=e.i(42310),f=e.i(12329),p=e.i(46753),x=e.i(63620),g=e.i(68214),v=e.i(55607),y=e.i(47978),N=e.i(72459),b=e.i(49550),j=e.i(24895);function E(e){let{order:E}=e,D=(0,a.useRouter)(),[w,I]=(0,r.useState)(E),[C,S]=(0,r.useState)(!1),[M,O]=(0,r.useState)({}),R=(e,t)=>{I(r=>({...r,[e]:t}))},A=(e,t)=>{I(r=>({...r,items:r.items.map(r=>{if(r.id===e){let e=Math.max(1,r.quantity+t);return{...r,quantity:e,totalPrice:r.unitPrice*e}}return r})}))},T=()=>{let e=w.items.reduce((e,t)=>e+t.totalPrice,0),t=.08*e,r=e+t+w.tip-w.discount;I(a=>({...a,subtotal:e,tax:t,total:r}))},k=async()=>{let e={};if(w.customerName||w.type===s.OrderType.TAKEOUT||(e.customerName="Customer name is required"),0===w.items.length&&(e.items="Order must have at least one item"),Object.keys(e).length>0)return void O(e);S(!0);try{T(),await (0,i.updateOrder)(w.id,{items:w.items.map(e=>({id:e.id,quantity:e.quantity,specialInstructions:e.specialInstructions})),notes:w.notes}),D.push("/orders/".concat(w.id))}catch(e){console.error("Failed to save order:",e),O({save:"Failed to save changes"})}finally{S(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(o.Badge,{variant:"outline",className:"text-lg px-3 py-1",children:w.status.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Order Type: ",w.type.replace("_"," ")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",onClick:()=>{confirm("Discard unsaved changes?")&&D.push("/orders/".concat(w.id))},disabled:C,children:[(0,t.jsx)(u.default,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,t.jsxs)(l.Button,{onClick:k,disabled:C,children:[(0,t.jsx)(c.default,{className:"h-4 w-4 mr-2"}),C?"Saving...":"Save Changes"]})]})]})}),M.save&&(0,t.jsx)(n.Card,{className:"p-4 border-red-200 bg-red-50",children:(0,t.jsx)("p",{className:"text-red-600",children:M.save})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Customer Information"})}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,t.jsx)(p.default,{className:"h-4 w-4"}),"Customer Name"]}),(0,t.jsx)(d.Input,{value:w.customerName||"",onChange:e=>R("customerName",e.target.value),placeholder:"Enter customer name",className:M.customerName?"border-red-500":""}),M.customerName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.customerName})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,t.jsx)(x.default,{className:"h-4 w-4"}),"Phone Number"]}),(0,t.jsx)(d.Input,{value:w.customerPhone||"",onChange:e=>R("customerPhone",e.target.value),placeholder:"555-0000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,t.jsx)(g.default,{className:"h-4 w-4"}),"Email Address"]}),(0,t.jsx)(d.Input,{type:"email",value:w.customerEmail||"",onChange:e=>R("customerEmail",e.target.value),placeholder:"customer@email.com"})]})]}),w.type===s.OrderType.DINE_IN&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,t.jsx)(v.default,{className:"h-4 w-4"}),"Table Number"]}),(0,t.jsx)(d.Input,{value:w.tableNumber||"",onChange:e=>R("tableNumber",e.target.value),placeholder:"T1"})]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Order Items"}),(0,t.jsxs)(l.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(m.default,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,t.jsxs)("div",{className:"divide-y",children:[0===w.items.length?(0,t.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[(0,t.jsx)(N.default,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"No items in this order"}),(0,t.jsxs)(l.Button,{className:"mt-4",size:"sm",children:[(0,t.jsx)(m.default,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]}):w.items.map(e=>(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.menuItemName}),(0,t.jsx)(o.Badge,{variant:"outline",className:"text-xs",children:e.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>A(e.id,-1),disabled:e.quantity<=1,children:(0,t.jsx)(h.default,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"w-12 text-center font-medium",children:e.quantity}),(0,t.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>A(e.id,1),children:(0,t.jsx)(m.default,{className:"h-3 w-3"})}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["@ $",e.unitPrice.toFixed(2)," each"]})]}),e.modifiers.length>0&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:e.modifiers.map(e=>(0,t.jsxs)("div",{children:["â€¢ ",e.name," (+$",e.price.toFixed(2),")"]},e.id))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-muted-foreground",children:"Special Instructions"}),(0,t.jsx)(d.Input,{className:"mt-1",value:e.specialInstructions||"",onChange:t=>{var r,a;return r=e.id,a=t.target.value,void I(e=>({...e,items:e.items.map(e=>e.id===r?{...e,specialInstructions:a}:e)}))},placeholder:"Add notes for the kitchen..."})]})]}),(0,t.jsxs)("div",{className:"text-right ml-4",children:[(0,t.jsxs)("div",{className:"font-medium mb-2",children:["$",e.totalPrice.toFixed(2)]}),(0,t.jsx)(l.Button,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>{var t;return t=e.id,void I(e=>({...e,items:e.items.filter(e=>e.id!==t)}))},children:(0,t.jsx)(f.default,{className:"h-4 w-4"})})]})]})},e.id)),M.items&&(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("p",{className:"text-red-500 text-sm",children:M.items})})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Order Notes"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("textarea",{className:"w-full p-3 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",rows:4,value:w.notes||"",onChange:e=>I(t=>({...t,notes:e.target.value})),placeholder:"Add any special instructions or notes for this order..."})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Pricing & Totals"})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",w.subtotal.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Tax (8%)"}),(0,t.jsxs)("span",{children:["$",w.tax.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm mb-1",children:[(0,t.jsx)(b.default,{className:"h-3 w-3"}),"Tip"]}),(0,t.jsx)(d.Input,{type:"number",step:"0.01",value:w.tip,onChange:e=>I(t=>({...t,tip:parseFloat(e.target.value)||0}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm mb-1",children:[(0,t.jsx)(j.default,{className:"h-3 w-3"}),"Discount"]}),(0,t.jsx)(d.Input,{type:"number",step:"0.01",value:w.discount,onChange:e=>I(t=>({...t,discount:parseFloat(e.target.value)||0}))})]}),(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{className:"text-lg",children:["$",w.total.toFixed(2)]})]})}),(0,t.jsx)(l.Button,{variant:"outline",className:"w-full",onClick:T,children:"Recalculate Totals"})]})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Payment Information"})}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status"}),(0,t.jsx)(o.Badge,{variant:"outline",children:w.paymentStatus.replace("_"," ")})]}),w.paymentMethod&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Method"}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.default,{className:"h-4 w-4"}),w.paymentMethod.replace("_"," ")]})]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Quick Actions"})}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsx)(l.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>D.push("/orders/".concat(w.id)),children:"View Order Details"}),(0,t.jsx)(l.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>window.print(),children:"Print Order"}),(0,t.jsx)(l.Button,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700",onClick:()=>{confirm("Cancel this order?")},children:"Cancel Order"})]})]})]})]})]})}}]);