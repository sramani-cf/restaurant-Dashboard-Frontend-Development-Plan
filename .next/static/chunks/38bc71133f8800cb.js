(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76675,e=>{"use strict";e.s(["default",()=>en],76675);var t=e.i(43476),a=e.i(71645),s=function(e){return e.DINE_IN="dine_in",e.TAKEOUT="takeout",e.DELIVERY="delivery",e.PICKUP="pickup",e}({});!function(e){e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.REFUNDED="refunded",e.PARTIALLY_REFUNDED="partially_refunded",e.VOIDED="voided"}({});let r=[{id:"cat-1",name:"Appetizers",description:"Start your meal right",displayOrder:1,isActive:!0,items:[{id:"item-1",name:"Mozzarella Sticks",category:"Appetizers",price:8.99,description:"Golden fried mozzarella with marinara sauce",available:!0,tags:["vegetarian"],calories:450,preparationTime:8,modifiers:[{id:"mod-1",name:"Extra Sauce",price:.5,type:"optional",options:[{id:"opt-1",name:"Marinara",price:0,available:!0},{id:"opt-2",name:"Ranch",price:0,available:!0},{id:"opt-3",name:"Blue Cheese",price:.5,available:!0}]}]},{id:"item-2",name:"Chicken Wings",category:"Appetizers",price:12.99,description:"Choice of buffalo, BBQ, or garlic parmesan",available:!0,tags:["gluten-free"],calories:680,preparationTime:15,modifiers:[{id:"mod-2",name:"Sauce Choice",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-4",name:"Buffalo",price:0,available:!0},{id:"opt-5",name:"BBQ",price:0,available:!0},{id:"opt-6",name:"Garlic Parmesan",price:0,available:!0},{id:"opt-7",name:"Honey Sriracha",price:0,available:!0}]}]},{id:"item-3",name:"Spinach Artichoke Dip",category:"Appetizers",price:10.99,description:"Creamy blend with tortilla chips",available:!0,tags:["vegetarian"],calories:520,preparationTime:10}]},{id:"cat-2",name:"Entrees",description:"Main course selections",displayOrder:2,isActive:!0,items:[{id:"item-4",name:"Classic Burger",category:"Entrees",price:14.99,description:"Angus beef patty with lettuce, tomato, onion",available:!0,calories:850,preparationTime:12,modifiers:[{id:"mod-3",name:"Temperature",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-8",name:"Rare",price:0,available:!0},{id:"opt-9",name:"Medium Rare",price:0,available:!0},{id:"opt-10",name:"Medium",price:0,available:!0},{id:"opt-11",name:"Medium Well",price:0,available:!0},{id:"opt-12",name:"Well Done",price:0,available:!0}]},{id:"mod-4",name:"Add-ons",price:0,type:"optional",maxSelections:5,options:[{id:"opt-13",name:"Bacon",price:2,available:!0},{id:"opt-14",name:"Extra Cheese",price:1.5,available:!0},{id:"opt-15",name:"Avocado",price:2.5,available:!0},{id:"opt-16",name:"Fried Egg",price:2,available:!0},{id:"opt-17",name:"Mushrooms",price:1,available:!0}]}]},{id:"item-5",name:"Grilled Salmon",category:"Entrees",price:22.99,description:"Atlantic salmon with lemon butter sauce",available:!0,tags:["gluten-free"],calories:580,preparationTime:18,modifiers:[{id:"mod-5",name:"Side Choice",price:0,type:"required",minSelections:2,maxSelections:2,options:[{id:"opt-18",name:"Rice Pilaf",price:0,available:!0},{id:"opt-19",name:"Mashed Potatoes",price:0,available:!0},{id:"opt-20",name:"Steamed Vegetables",price:0,available:!0},{id:"opt-21",name:"French Fries",price:0,available:!0},{id:"opt-22",name:"Side Salad",price:2,available:!0}]}]},{id:"item-6",name:"Chicken Alfredo",category:"Entrees",price:18.99,description:"Fettuccine pasta in creamy alfredo sauce",available:!0,calories:1120,preparationTime:15}]},{id:"cat-3",name:"Beverages",description:"Drinks and refreshments",displayOrder:3,isActive:!0,items:[{id:"item-7",name:"Soft Drink",category:"Beverages",price:3.99,description:"Coca-Cola products",available:!0,modifiers:[{id:"mod-6",name:"Size",price:0,type:"required",minSelections:1,maxSelections:1,options:[{id:"opt-23",name:"Small",price:0,available:!0},{id:"opt-24",name:"Medium",price:.5,available:!0},{id:"opt-25",name:"Large",price:1,available:!0}]}]},{id:"item-8",name:"Fresh Juice",category:"Beverages",price:5.99,description:"Orange, Apple, or Cranberry",available:!0,calories:180},{id:"item-9",name:"Coffee",category:"Beverages",price:2.99,description:"Freshly brewed",available:!0,calories:5}]},{id:"cat-4",name:"Desserts",description:"Sweet endings",displayOrder:4,isActive:!0,items:[{id:"item-10",name:"Chocolate Lava Cake",category:"Desserts",price:7.99,description:"Warm chocolate cake with molten center",available:!0,tags:["vegetarian"],calories:480,preparationTime:8},{id:"item-11",name:"New York Cheesecake",category:"Desserts",price:6.99,description:"Classic creamy cheesecake with berry sauce",available:!0,tags:["vegetarian"],calories:420,preparationTime:2}]}],i=[{id:"cust-1",firstName:"John",lastName:"Doe",email:"john.doe@email.com",phone:"555-0101",loyaltyPoints:1250,totalOrders:45,totalSpent:1875.5,createdAt:new Date("2023-01-15")},{id:"cust-2",firstName:"Jane",lastName:"Smith",email:"jane.smith@email.com",phone:"555-0102",loyaltyPoints:800,totalOrders:28,totalSpent:1120.75,createdAt:new Date("2023-03-22")},{id:"cust-3",firstName:"Robert",lastName:"Johnson",phone:"555-0103",loyaltyPoints:350,totalOrders:12,totalSpent:480.25,createdAt:new Date("2023-06-10")}],l=[{id:"pay-1",type:"cash",name:"Cash"},{id:"pay-2",type:"card",name:"Credit Card",processingFee:.029},{id:"pay-3",type:"card",name:"Debit Card",processingFee:.025},{id:"pay-4",type:"mobile",name:"Apple Pay",processingFee:.03},{id:"pay-5",type:"mobile",name:"Google Pay",processingFee:.03},{id:"pay-6",type:"gift_card",name:"Gift Card"},{id:"pay-7",type:"loyalty",name:"Loyalty Points"}],n={terminalId:"pos-001",terminalName:"Front Counter",defaultOrderType:s.DINE_IN,requireCustomerInfo:!1,printReceipt:!0,emailReceipt:!1,tipSuggestions:[15,18,20,25],taxRate:.08875,quickKeys:[{id:"qk-1",label:"Burger",menuItemId:"item-4",color:"#ef4444",position:1},{id:"qk-2",label:"Wings",menuItemId:"item-2",color:"#f97316",position:2},{id:"qk-3",label:"Salmon",menuItemId:"item-5",color:"#06b6d4",position:3},{id:"qk-4",label:"Soft Drink",menuItemId:"item-7",color:"#8b5cf6",position:4},{id:"qk-5",label:"10% Off",action:"apply_discount",color:"#10b981",position:5},{id:"qk-6",label:"Appetizers",action:"open_category",color:"#6366f1",position:6}],paymentMethods:l,offlineMode:!1,syncInterval:3e4,printerSettings:{printerName:"Star TSP100",printerType:"thermal",paperWidth:80,autoCut:!0,copies:1}};function c(){return{id:"cart-".concat(Date.now()),items:[],subtotal:0,tax:0,discount:null,tip:null,total:0,orderType:s.DINE_IN,createdAt:new Date,updatedAt:new Date}}function o(e,t){let a=e.items.reduce((e,t)=>e+t.subtotal,0),s=e.discount?"percentage"===e.discount.type?a*(e.discount.value/100):e.discount.value:0,r=(a-s)*t,i=e.tip?"percentage"===e.tip.type?(a-s)*(e.tip.value/100):e.tip.value:0;return{...e,subtotal:a,tax:r,total:a-s+r+i,discount:e.discount?{...e.discount,appliedAmount:s}:null,tip:e.tip?{...e.tip,amount:i}:null,updatedAt:new Date}}async function d(e){await new Promise(e=>setTimeout(e,300));let t=e.toLowerCase();return i.filter(e=>e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.phone.includes(t)||e.email&&e.email.toLowerCase().includes(t))}async function m(e,t,a){return await new Promise(e=>setTimeout(e,1500)),{success:!0,transactionId:"txn-".concat(Date.now()),referenceNumber:Math.random().toString(36).substring(7).toUpperCase(),processedAmount:a,timestamp:new Date}}var x=e.i(3908);function u(e){let{items:a,onAddItem:s}=e;return(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:a.map(e=>(0,t.jsxs)("button",{onClick:()=>s(e),disabled:!e.available,className:"relative bg-gray-800 hover:bg-gray-700 rounded-lg p-4 transition-all transform hover:scale-105 ".concat(e.available?"":"opacity-50 cursor-not-allowed"),children:[!e.available&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-900/50 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-red-400 font-semibold",children:"Unavailable"})}),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("h3",{className:"font-medium text-sm mb-1 text-left line-clamp-2",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2 text-left line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-green-400",children:["$",e.price.toFixed(2)]}),(0,t.jsx)("div",{className:"p-1 bg-primary/20 rounded-lg",children:(0,t.jsx)(x.default,{className:"h-4 w-4 text-primary"})})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex gap-1 mt-2",children:e.tags.map(e=>(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-gray-700 rounded",children:e},e))})]})]},e.id))})}var p=e.i(80108),g=e.i(12329),h=e.i(42310),y=e.i(41947),b=e.i(72459),f=e.i(98740),j=e.i(75254);let v=(0,j.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var N=e.i(3014);function w(e){var a,r;let{cart:i,onUpdateQuantity:l,onRemoveItem:n,onClearCart:c,onCheckout:o,onSetOrderType:d}=e,m=[{value:s.DINE_IN,label:"Dine In",icon:f.default},{value:s.TAKEOUT,label:"Takeout",icon:b.default},{value:s.DELIVERY,label:"Delivery",icon:v},{value:s.PICKUP,label:"Pickup",icon:N.default}];return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.default,{className:"h-5 w-5"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Current Order"}),i.items.length>0&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-primary/20 text-primary rounded-full text-sm",children:[i.items.reduce((e,t)=>e+t.quantity,0)," items"]})]}),i.items.length>0&&(0,t.jsx)("button",{onClick:c,className:"p-1.5 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.default,{className:"h-4 w-4 text-red-400"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 bg-gray-700 rounded-lg p-1",children:m.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>d(e.value),className:"flex flex-col items-center gap-1 py-2 rounded transition-colors ".concat(i.orderType===e.value?"bg-primary text-white":"hover:bg-gray-600"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs",children:e.label})]},e.value)})}),i.customerId&&(0,t.jsx)("div",{className:"mt-2 px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded",children:(0,t.jsxs)("p",{className:"text-sm text-blue-400",children:["Customer: #",i.customerId]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===i.items.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,t.jsx)(p.default,{className:"h-12 w-12 mb-3"}),(0,t.jsx)("p",{children:"Cart is empty"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Add items to get started"})]}):(0,t.jsx)("div",{className:"p-4 space-y-3",children:i.items.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium",children:e.menuItem.name}),e.modifiers.length>0&&(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.modifiers.map(e=>(0,t.jsxs)("div",{children:[e.modifierName,": ",e.selectedOptions.map(e=>e.name).join(", ")]},e.modifierId))}),e.specialInstructions&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1 italic",children:e.specialInstructions})]}),(0,t.jsx)("button",{onClick:()=>n(e.id),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,t.jsx)(y.default,{className:"h-4 w-4 text-red-400"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>l(e.id,e.quantity-1),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,t.jsx)(h.default,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>l(e.id,e.quantity+1),className:"p-1 hover:bg-gray-600 rounded transition-colors",children:(0,t.jsx)(x.default,{className:"h-4 w-4"})})]}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.subtotal.toFixed(2)]})]})]},e.id))})}),i.items.length>0&&(0,t.jsxs)("div",{className:"border-t border-gray-700 p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",i.subtotal.toFixed(2)]})]}),i.discount&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-green-400",children:"Discount"}),(0,t.jsxs)("span",{className:"text-green-400",children:["-$",null==(a=i.discount.appliedAmount)?void 0:a.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Tax"}),(0,t.jsxs)("span",{children:["$",i.tax.toFixed(2)]})]}),i.tip&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Tip"}),(0,t.jsxs)("span",{children:["$",null==(r=i.tip.amount)?void 0:r.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-600",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{className:"text-green-400",children:["$",i.total.toFixed(2)]})]}),(0,t.jsxs)("button",{onClick:o,className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-3 rounded-lg transition-colors mt-4",children:["Checkout $",i.total.toFixed(2)]})]})]})}function C(e){let{categories:a,selectedCategory:s,onSelectCategory:r}=e;return(0,t.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:a.map(e=>(0,t.jsxs)("button",{onClick:()=>r(e),className:"px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ".concat(s.id===e.id?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:[e.name,(0,t.jsxs)("span",{className:"ml-2 text-xs opacity-75",children:["(",e.items.length,")"]})]},e.id))})})}function S(e){let{quickKeys:a,onQuickKey:s}=e;return(0,t.jsx)("div",{className:"grid grid-cols-6 gap-2",children:a.map(e=>(0,t.jsx)("button",{onClick:()=>s(e),className:"px-3 py-2 rounded-lg font-medium text-sm transition-all hover:scale-105",style:{backgroundColor:e.color||"#374151",color:"#ffffff"},children:e.label},e.id))})}var k=e.i(80127),I=e.i(47978);let D=(0,j.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),P=(0,j.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),A=(0,j.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var T=e.i(76886),F=e.i(49550),E=e.i(78745),O=e.i(17521);function M(e){var s;let{cart:r,onBack:i,onComplete:c,onSetTip:o}=e,[d,x]=(0,a.useState)(null),[u,p]=(0,a.useState)(0),[g,h]=(0,a.useState)(""),[y,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),w=n.tipSuggestions,C=async()=>{if(d){j(!0);try{let e=await m(r,d,r.total);e.success&&c(e)}catch(e){console.error("Payment failed:",e)}finally{j(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(k.default,{className:"h-5 w-5"})}),(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Payment"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["Total: $",r.total.toFixed(2)]})]})}),(0,t.jsxs)("div",{className:"flex-1 p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add Tip"}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[(0,t.jsx)("button",{onClick:()=>{p(0),h(""),o({type:"fixed",value:0,amount:0})},className:"py-3 rounded-lg font-medium transition-colors ".concat(0!==u||g?"bg-gray-800 hover:bg-gray-700":"bg-primary text-white"),children:"No Tip"}),w.map(e=>{var a;return(0,t.jsxs)("button",{onClick:()=>(e=>{var t;let a=(r.subtotal-((null==(t=r.discount)?void 0:t.appliedAmount)||0))*(e/100);p(a),h(""),o({type:"percentage",value:e,amount:a})})(e),className:"py-3 rounded-lg font-medium transition-colors ".concat(g||u!==(r.subtotal-((null==(a=r.discount)?void 0:a.appliedAmount)||0))*(e/100)?"bg-gray-800 hover:bg-gray-700":"bg-primary text-white"),children:[e,"%"]},e)}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(F.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"Custom",value:g,onChange:e=>(e=>{let t=parseFloat(e)||0;h(e),p(t),o({type:"fixed",value:t,amount:t})})(e.target.value),className:"w-full h-full bg-gray-800 text-white pl-10 pr-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),u>0&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-gray-400",children:["Tip amount: $",u.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Payment Method"}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>{let a=(e=>{switch(e){case"cash":return D;case"card":return I.default;case"mobile":return P;case"gift_card":return A;case"loyalty":return T.default;default:return F.default}})(e.type);return(0,t.jsxs)("button",{onClick:()=>x(e),className:"p-6 rounded-lg border-2 transition-all ".concat((null==d?void 0:d.id)===e.id?"border-primary bg-primary/10":"border-gray-700 hover:border-gray-600 bg-gray-800"),children:[(0,t.jsx)(a,{className:"h-8 w-8 mx-auto mb-3"}),(0,t.jsx)("p",{className:"font-medium",children:e.name}),e.processingFee&&(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Fee: ",(100*e.processingFee).toFixed(1),"%"]})]},e.id)})})]}),(null==d?void 0:d.type)==="cash"&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Cash Tendered"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[20,50,100,Math.ceil(r.total)].map(e=>(0,t.jsxs)("button",{onClick:()=>{b(e.toString())},className:"py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:["$",e]},e))}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(F.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"Enter cash amount",value:y,onChange:e=>b(e.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-4 rounded-lg text-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),parseFloat(y)>0&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,t.jsx)("span",{children:"Change Due:"}),(0,t.jsxs)("span",{className:"font-bold text-yellow-400",children:["$",Math.max(0,(parseFloat(y)||0)-r.total).toFixed(2)]})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"split-payment",checked:v,onChange:e=>N(e.target.checked),className:"w-5 h-5 rounded text-primary focus:ring-primary"}),(0,t.jsx)("label",{htmlFor:"split-payment",className:"text-gray-300",children:"Split Payment"})]})]}),(0,t.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 p-6",children:(0,t.jsx)("button",{onClick:C,disabled:!d||f||"cash"===d.type&&parseFloat(y)<r.total,className:"w-full bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-semibold py-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.default,{className:"h-5 w-5 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.default,{className:"h-5 w-5"}),"Complete Payment $",r.total.toFixed(2)]})})})]}),(0,t.jsxs)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),(0,t.jsx)("div",{className:"space-y-3 mb-6",children:r.items.map(e=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-gray-400",children:[e.quantity,"x"]})," ",e.menuItem.name]}),(0,t.jsxs)("span",{children:["$",e.subtotal.toFixed(2)]})]},e.id))}),(0,t.jsxs)("div",{className:"border-t border-gray-700 pt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",r.subtotal.toFixed(2)]})]}),r.discount&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-green-400",children:"Discount"}),(0,t.jsxs)("span",{className:"text-green-400",children:["-$",null==(s=r.discount.appliedAmount)?void 0:s.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Tax"}),(0,t.jsxs)("span",{children:["$",r.tax.toFixed(2)]})]}),u>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Tip"}),(0,t.jsxs)("span",{children:["$",u.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xl font-bold pt-4 border-t border-gray-600",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{className:"text-green-400",children:["$",r.total.toFixed(2)]})]})]})]})]})}var L=e.i(54943),q=e.i(46753),R=e.i(63620),$=e.i(68214),B=e.i(26277);function _(e){let{onClose:s,onSelectCustomer:r}=e,[i,l]=(0,a.useState)(""),[n,c]=(0,a.useState)([]),[o,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[g,h]=(0,a.useState)({firstName:"",lastName:"",phone:"",email:""});(0,a.useEffect)(()=>{i.length>=2?b():c([])},[i]);let b=async()=>{m(!0);try{let e=await d(i);c(e)}catch(e){console.error("Search failed:",e)}finally{m(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Customer Lookup"}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(y.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(L.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Search by name, phone, or email...",className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),o&&(0,t.jsx)(O.default,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 animate-spin"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:u?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"New Customer"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),(0,t.jsx)("input",{type:"text",value:g.firstName,onChange:e=>h({...g,firstName:e.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name"}),(0,t.jsx)("input",{type:"text",value:g.lastName,onChange:e=>h({...g,lastName:e.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:g.phone,onChange:e=>h({...g,phone:e.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",value:g.email,onChange:e=>h({...g,email:e.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!g.firstName||!g.phone)return void alert("Please enter at least first name and phone number");r({id:"cust-".concat(Date.now()),firstName:g.firstName,lastName:g.lastName,phone:g.phone,email:g.email||void 0,loyaltyPoints:0,totalOrders:0,totalSpent:0,createdAt:new Date})},className:"flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-lg transition-colors",children:"Create Customer"})]})]}):(0,t.jsx)(t.Fragment,{children:n.length>0?(0,t.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:"w-full bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(q.default,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:[e.firstName," ",e.lastName]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(R.default,{className:"h-3 w-3"}),e.phone]}),e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)($.default,{className:"h-3 w-3"}),e.email]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[void 0!==e.loyaltyPoints&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400 mb-1",children:[(0,t.jsx)(T.default,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"text-sm",children:[e.loyaltyPoints," pts"]})]}),void 0!==e.totalOrders&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,t.jsx)(B.default,{className:"h-3 w-3"}),(0,t.jsxs)("span",{className:"text-xs",children:[e.totalOrders," orders"]})]})]})]})},e.id))}):i.length>=2&&!o?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(q.default,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No customers found"}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,t.jsx)(x.default,{className:"h-4 w-4"}),"Add New Customer"]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(L.default,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Start typing to search for customers"})]})})}),!u&&(0,t.jsx)("div",{className:"p-6 border-t border-gray-700",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>r({id:"guest",firstName:"Guest",lastName:"Customer",phone:"",createdAt:new Date}),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Continue as Guest"}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(x.default,{className:"h-4 w-4"}),"New Customer"]})]})})]})})}var U=e.i(24895),z=e.i(55087);function K(e){let{onClose:s,onApplyDiscount:r,currentSubtotal:i}=e,[l,n]=(0,a.useState)("percentage"),[c,o]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[x,u]=(0,a.useState)(null),p=[{code:"WELCOME10",type:"percentage",value:10,description:"New customer discount"},{code:"LUNCH15",type:"percentage",value:15,description:"Lunch special"},{code:"BIRTHDAY",type:"fixed",value:20,description:"Birthday celebration"}],g=()=>{let e=parseFloat(c)||0;return"percentage"===l?Math.min(i,e/100*i):Math.min(i,e)};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Apply Discount"}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(y.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Quick Discounts"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{label:"5%",type:"percentage",value:5},{label:"10%",type:"percentage",value:10},{label:"15%",type:"percentage",value:15},{label:"20%",type:"percentage",value:20},{label:"$5 Off",type:"fixed",value:5},{label:"$10 Off",type:"fixed",value:10}].map((e,a)=>(0,t.jsx)("button",{onClick:()=>{n(e.type),o(e.value.toString()),u(e.value),m("")},className:"py-2 px-3 rounded-lg font-medium transition-colors ".concat(x===e.value&&l===e.type?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:e.label},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Promo Code"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(z.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Enter promo code",className:"w-full bg-gray-700 text-white pl-10 pr-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary uppercase"})]}),(0,t.jsx)("button",{onClick:()=>{let e=p.find(e=>e.code===d.toUpperCase());e?(n(e.type),o(e.value.toString()),u(null)):alert("Invalid promo code")},className:"px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Apply"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Try: WELCOME10, LUNCH15, BIRTHDAY"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Custom Discount"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsxs)("button",{onClick:()=>n("percentage"),className:"flex-1 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ".concat("percentage"===l?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:[(0,t.jsx)(U.default,{className:"h-4 w-4"}),"Percentage"]}),(0,t.jsxs)("button",{onClick:()=>n("fixed"),className:"flex-1 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ".concat("fixed"===l?"bg-primary text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:[(0,t.jsx)(F.default,{className:"h-4 w-4"}),"Fixed Amount"]})]}),(0,t.jsxs)("div",{className:"relative",children:["percentage"===l?(0,t.jsx)(U.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}):(0,t.jsx)(F.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),(0,t.jsx)("input",{type:"number",step:"percentage"===l?"1":"0.01",value:c,onChange:e=>{o(e.target.value),u(null),m("")},placeholder:"percentage"===l?"Enter percentage":"Enter amount",className:"w-full bg-gray-700 text-white pl-10 pr-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),c&&(0,t.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Current Subtotal"}),(0,t.jsxs)("span",{className:"text-white",children:["$",i.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-green-400",children:"Discount Amount"}),(0,t.jsxs)("span",{className:"text-green-400",children:["-$",g().toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-600",children:[(0,t.jsx)("span",{className:"font-medium text-white",children:"After Discount"}),(0,t.jsxs)("span",{className:"font-medium text-white",children:["$",(i-g()).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:s,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{var e;let t=parseFloat(c);if(!t||t<=0)return void alert("Please enter a valid discount amount");r({id:"disc-".concat(Date.now()),type:l,value:t,code:d||void 0,description:d?null==(e=p.find(e=>e.code===d))?void 0:e.description:"".concat("percentage"===l?"".concat(t,"%"):"$".concat(t)," discount"),appliedAmount:g()})},disabled:!c||0>=parseFloat(c),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(A,{className:"h-4 w-4"}),"Apply Discount"]})]})]})]})})}var H=e.i(61653);function J(e){var s;let{menuItem:r,onClose:i,onConfirm:l}=e,[n,c]=(0,a.useState)(new Map),[o,d]=(0,a.useState)(""),m=(e,t)=>(n.get(e)||[]).some(e=>e.id===t),x=()=>{if(!r.modifiers)return!0;for(let e of r.modifiers)if("required"===e.type){let t=n.get(e.id)||[],a=e.minSelections||1;if(t.length<a)return!1}return!0},u=()=>{let e=r.price;return n.forEach((t,a)=>{t.forEach(t=>{e+=t.price})}),e};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:r.name}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:r.description})]}),(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(y.default,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[null==(s=r.modifiers)?void 0:s.map(e=>{var a,s;let r=n.get(e.id)||[],i=e.minSelections||0,l=e.maxSelections||(null==(a=e.options)?void 0:a.length)||999;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"font-medium text-white",children:[e.name,"required"===e.type&&(0,t.jsx)("span",{className:"ml-2 text-xs text-red-400",children:"Required"})]}),(i>0||l<999)&&(0,t.jsx)("span",{className:"text-sm text-gray-400",children:i>0&&1===l?"Select 1":i>0&&l>1?"Select ".concat(i,"-").concat(l):1===l?"Select up to 1":"Select up to ".concat(l)})]}),(0,t.jsx)("div",{className:"space-y-2",children:null==(s=e.options)?void 0:s.map(a=>(0,t.jsxs)("button",{onClick:()=>((e,t,a,s,r)=>{let i,l=n.get(e)||[];if(l.find(e=>e.id===t.id))i=l.filter(e=>e.id!==t.id);else if(1===r)i=[t];else{if(r&&l.length>=r)return;i=[...l,t]}let o=new Map(n);0===i.length?o.delete(e):o.set(e,i),c(o)})(e.id,a,e.type,0,l),disabled:!a.available,className:"w-full flex items-center justify-between p-3 rounded-lg transition-all ".concat(m(e.id,a.id)?"bg-primary/20 border-2 border-primary":"bg-gray-700 hover:bg-gray-600 border-2 border-transparent"," ").concat(a.available?"":"opacity-50 cursor-not-allowed"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(m(e.id,a.id)?"border-primary bg-primary":"border-gray-400"),children:m(e.id,a.id)&&(0,t.jsx)(E.default,{className:"h-3 w-3 text-white"})}),(0,t.jsx)("span",{className:"text-white",children:a.name}),!a.available&&(0,t.jsx)("span",{className:"text-xs text-red-400",children:"Unavailable"})]}),a.price>0&&(0,t.jsxs)("span",{className:"text-green-400",children:["+$",a.price.toFixed(2)]})]},a.id))}),"required"===e.type&&r.length<i&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[(0,t.jsx)(H.default,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Please make a selection"})]})]},e.id)}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-medium text-white",children:"Special Instructions"}),(0,t.jsx)("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Add any special requests or dietary needs...",className:"w-full bg-gray-700 text-white p-3 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary",rows:3})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-700 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Item Total"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-green-400",children:["$",u().toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:i,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!x())return void alert("Please make all required selections");let e=[];n.forEach((t,a)=>{var s;let i=null==(s=r.modifiers)?void 0:s.find(e=>e.id===a);i&&e.push({modifierId:a,modifierName:i.name,selectedOptions:t,totalPrice:t.reduce((e,t)=>e+t.price,0)})}),l(e)},disabled:!x(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white py-3 rounded-lg transition-colors font-semibold",children:["Add to Cart - $",u().toFixed(2)]})]})]})]})})}let G=(0,j.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var W=e.i(49411),V=e.i(23123),Y=e.i(11598);let Q=(0,j.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Z=(0,j.default)("cloud-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);function X(){let[e,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(0),[l,n]=(0,a.useState)(new Date);return((0,a.useEffect)(()=>{let e=()=>{s(navigator.onLine)};e(),window.addEventListener("online",e),window.addEventListener("offline",e);let t=setInterval(()=>{navigator.onLine?r>0&&(i(0),n(new Date)):i(e=>e+1)},5e3);return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e),clearInterval(t)}},[r]),e&&0===r)?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 rounded-lg",children:[(0,t.jsx)(Q,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-sm text-green-500",children:"Online"})]}):e?r>0?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500/10 rounded-lg",children:[(0,t.jsx)(Z,{className:"h-4 w-4 text-blue-500 animate-spin"}),(0,t.jsxs)("span",{className:"text-sm text-blue-500",children:["Syncing... (",r,")"]})]}):null:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-500/10 rounded-lg animate-pulse",children:[(0,t.jsx)(Y.default,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm text-yellow-500 font-medium",children:"Offline Mode"}),r>0&&(0,t.jsxs)("span",{className:"text-xs text-yellow-400",children:[r," pending transactions"]})]})]})}var ee=e.i(99749);let et=new class{async init(){return new Promise((e,t)=>{let a=indexedDB.open("POSOfflineDB",1);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,e()},a.onupgradeneeded=e=>{let t=e.target.result;if(!t.objectStoreNames.contains("transactions")){let e=t.createObjectStore("transactions",{keyPath:"id"});e.createIndex("synced","synced",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1})}if(t.objectStoreNames.contains("carts")||t.createObjectStore("carts",{keyPath:"id"}),!t.objectStoreNames.contains("customers")){let e=t.createObjectStore("customers",{keyPath:"id"});e.createIndex("phone","phone",{unique:!1}),e.createIndex("email","email",{unique:!1})}t.objectStoreNames.contains("sessions")||t.createObjectStore("sessions",{keyPath:"id"}),t.objectStoreNames.contains("menu_cache")||t.createObjectStore("menu_cache",{keyPath:"id"})}})}async saveTransaction(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["transactions"],"readwrite").objectStore("transactions").add(e);s.onsuccess=()=>t(),s.onerror=()=>a(s.error)})}async getUnsyncedTransactions(){return this.db||await this.init(),new Promise((e,t)=>{let a=this.db.transaction(["transactions"],"readonly").objectStore("transactions").index("synced").getAll(!1);a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)})}async markTransactionSynced(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["transactions"],"readwrite").objectStore("transactions"),r=s.get(e);r.onsuccess=()=>{let e=r.result;if(e){e.synced=!0;let r=s.put(e);r.onsuccess=()=>t(),r.onerror=()=>a(r.error)}else a(Error("Transaction not found"))},r.onerror=()=>a(r.error)})}async saveCart(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["carts"],"readwrite").objectStore("carts").put(e);s.onsuccess=()=>t(),s.onerror=()=>a(s.error)})}async getCart(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["carts"],"readonly").objectStore("carts").get(e);s.onsuccess=()=>t(s.result||null),s.onerror=()=>a(s.error)})}async saveCustomer(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["customers"],"readwrite").objectStore("customers").put(e);s.onsuccess=()=>t(),s.onerror=()=>a(s.error)})}async searchCustomersOffline(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["customers"],"readonly").objectStore("customers").getAll();s.onsuccess=()=>{t(s.result.filter(t=>{let a=e.toLowerCase();return t.firstName.toLowerCase().includes(a)||t.lastName.toLowerCase().includes(a)||t.phone.includes(a)||t.email&&t.email.toLowerCase().includes(a)}))},s.onerror=()=>a(s.error)})}async cacheMenuData(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction(["menu_cache"],"readwrite").objectStore("menu_cache").put({id:"current_menu",data:e,timestamp:new Date});s.onsuccess=()=>t(),s.onerror=()=>a(s.error)})}async getCachedMenuData(){return this.db||await this.init(),new Promise((e,t)=>{let a=this.db.transaction(["menu_cache"],"readonly").objectStore("menu_cache").get("current_menu");a.onsuccess=()=>{let t=a.result;t&&Date.now()-new Date(t.timestamp).getTime()<864e5?e(t.data):e(null)},a.onerror=()=>t(a.error)})}async clearOldData(){this.db||await this.init();let e=new Date;return e.setDate(e.getDate()-30),new Promise((t,a)=>{let s=this.db.transaction(["transactions"],"readwrite").objectStore("transactions").index("timestamp"),r=IDBKeyRange.upperBound(e),i=s.openCursor(r);i.onsuccess=()=>{let e=i.result;e?(e.value.synced&&e.delete(),e.continue()):t()},i.onerror=()=>a(i.error)})}constructor(){(0,ee._)(this,"db",null)}},ea=new class{start(){this.sync(),this.syncInterval=setInterval(()=>{navigator.onLine&&this.sync()},3e4),window.addEventListener("online",()=>{this.sync()})}stop(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async sync(){if(navigator.onLine)try{for(let e of(await et.getUnsyncedTransactions()))try{await this.sendTransactionToServer(e),await et.markTransactionSynced(e.id)}catch(t){console.error("Failed to sync transaction:",e.id,t)}await et.clearOldData()}catch(e){console.error("Sync failed:",e)}}async sendTransactionToServer(e){await new Promise(e=>setTimeout(e,1e3))}constructor(){(0,ee._)(this,"syncInterval",null)}};function es(e){let{session:s,onLogout:i}=e,[l,d]=(0,a.useState)(c()),[m]=(0,a.useState)(r),[x,p]=(0,a.useState)(m[0]),[g,h]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,I]=(0,a.useState)(null),[D,P]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{let e=setInterval(()=>P(new Date),1e3);return et.init().then(()=>{ea.start()}),()=>{clearInterval(e),ea.stop()}},[]);let A=e=>{var t;if(null==(t=e.modifiers)?void 0:t.some(e=>"required"===e.type))return void I(e);T(e,[])},T=(e,t)=>{let a=l.items.findIndex(a=>a.menuItem.id===e.id&&JSON.stringify(a.modifiers)===JSON.stringify(t));if(a>=0){let e=[...l.items];e[a].quantity+=1;let t=e[a].menuItem.price*e[a].quantity;e[a].subtotal=t,e[a].total=t*(1+n.taxRate),d(o({...l,items:e},n.taxRate))}else{let a=e.price+t.reduce((e,t)=>e+t.totalPrice,0),s={id:"cart-item-".concat(Date.now()),menuItem:e,quantity:1,modifiers:t,subtotal:a,tax:a*n.taxRate,total:a*(1+n.taxRate)};d(o({...l,items:[...l.items,s]},n.taxRate))}},F=e=>{let t=l.items.filter(t=>t.id!==e);d(o({...l,items:t},n.taxRate))};return g?(0,t.jsx)(M,{cart:l,onBack:()=>h(!1),onComplete:e=>{d(c()),h(!1)},onSetTip:e=>{d(o({...l,tip:e},n.taxRate))}}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"POS Terminal"}),(0,t.jsx)("span",{className:"text-gray-400",children:"|"}),(0,t.jsx)("span",{className:"text-gray-400",children:s.employeeName}),(0,t.jsx)("span",{className:"text-gray-400",children:"|"}),(0,t.jsx)("span",{className:"text-gray-400",children:s.terminalId})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(X,{}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.default,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-400",children:D.toLocaleTimeString()})]}),(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(G,{className:"h-5 w-5 text-red-400"})})]})]})}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-800/50",children:(0,t.jsx)(S,{quickKeys:n.quickKeys,onQuickKey:e=>{if(e.menuItemId){let t=m.flatMap(e=>e.items).find(t=>t.id===e.menuItemId);t&&A(t)}else if("apply_discount"===e.action)N(!0);else if("open_category"===e.action){let t=m.find(t=>t.name===e.label);t&&p(t)}}})}),(0,t.jsx)(C,{categories:m,selectedCategory:x,onSelectCategory:p}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,t.jsx)(u,{items:x.items,onAddItem:A})}),(0,t.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 px-4 py-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,t.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,t.jsx)(f.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Customer"})]}),(0,t.jsxs)("button",{onClick:()=>N(!0),disabled:0===l.items.length,className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 py-3 rounded-lg transition-colors",children:[(0,t.jsx)(U.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Discount"})]}),(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,t.jsx)(b.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Orders"})]}),(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 py-3 rounded-lg transition-colors",children:[(0,t.jsx)(V.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Reports"})]})]})})]}),(0,t.jsx)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 flex flex-col",children:(0,t.jsx)(w,{cart:l,onUpdateQuantity:(e,t)=>{if(t<=0)return void F(e);let a=l.items.map(a=>{if(a.id===e){let e=(a.menuItem.price+a.modifiers.reduce((e,t)=>e+t.totalPrice,0))*t;return{...a,quantity:t,subtotal:e,tax:e*n.taxRate,total:e*(1+n.taxRate)}}return a});d(o({...l,items:a},n.taxRate))},onRemoveItem:F,onClearCart:()=>{d(c())},onCheckout:()=>h(!0),onSetOrderType:e=>{d({...l,orderType:e})}})}),y&&(0,t.jsx)(_,{onClose:()=>j(!1),onSelectCustomer:e=>{d({...l,customerId:e.id}),j(!1)}}),v&&(0,t.jsx)(K,{onClose:()=>N(!1),onApplyDiscount:e=>{d(o({...l,discount:e},n.taxRate)),N(!1)},currentSubtotal:l.subtotal}),k&&(0,t.jsx)(J,{menuItem:k,onClose:()=>I(null),onConfirm:e=>{T(k,e),I(null)}})]})}let er=(0,j.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var ei=e.i(97140);function el(e){let{onLogin:s}=e,[r,i]=(0,a.useState)(""),[l,n]=(0,a.useState)(""),[c,o]=(0,a.useState)(""),d=e=>{l.length<4&&n(l+e)};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary/20 rounded-full mb-4",children:(0,t.jsx)(er,{className:"h-10 w-10 text-primary"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"POS Terminal"}),(0,t.jsx)("p",{className:"text-gray-400 mt-2",children:"Sign in to continue"})]}),c&&(0,t.jsx)("div",{className:"mb-6 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-400 text-sm text-center",children:c})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"Employee ID"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(q.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter your ID"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-400 text-sm mb-2",children:"PIN Code"}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(ei.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"password",value:l,readOnly:!0,className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-center text-2xl tracking-widest",placeholder:""})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(e=>(0,t.jsx)("button",{onClick:()=>d(e.toString()),className:"bg-gray-700 hover:bg-gray-600 text-white text-xl font-semibold py-4 rounded-lg transition-colors",children:e},e)),(0,t.jsx)("button",{onClick:()=>{n(""),o("")},className:"bg-gray-700 hover:bg-gray-600 text-gray-400 py-4 rounded-lg transition-colors text-sm",children:"Clear"}),(0,t.jsx)("button",{onClick:()=>d("0"),className:"bg-gray-700 hover:bg-gray-600 text-white text-xl font-semibold py-4 rounded-lg transition-colors",children:"0"}),(0,t.jsx)("button",{onClick:()=>{n(l.slice(0,-1))},className:"bg-gray-700 hover:bg-gray-600 text-gray-400 py-4 rounded-lg transition-colors",children:""})]})]}),(0,t.jsx)("button",{onClick:()=>r?4!==l.length?void o("PIN must be 4 digits"):void("1234"===l?s(r,"001"===r?"John Manager":"002"===r?"Jane Server":"Employee"):(o("Invalid PIN"),n(""))):void o("Please enter Employee ID"),disabled:!r||4!==l.length,className:"w-full bg-primary hover:bg-primary/90 disabled:bg-gray-700 disabled:text-gray-500 text-white font-semibold py-4 rounded-lg transition-colors",children:"Sign In"})]}),(0,t.jsxs)("div",{className:"mt-6 text-center text-gray-500 text-sm",children:[(0,t.jsx)("p",{children:"Demo PIN: 1234"}),(0,t.jsx)("p",{children:"Employee IDs: 001 (Manager), 002 (Server)"})]})]})})})}function en(){let[e,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=localStorage.getItem("pos_session");e&&s(JSON.parse(e)),i(!1)},[]),r)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Loading POS Terminal..."})}):e?(0,t.jsx)(es,{session:e,onLogout:()=>{s(null),localStorage.removeItem("pos_session")}}):(0,t.jsx)(el,{onLogin:(e,t)=>{let a={id:"session-".concat(Date.now()),terminalId:"pos-001",employeeId:e,employeeName:t,startTime:new Date,status:"active",openingBalance:200,currentBalance:200,expectedBalance:200,salesCount:0,refundsCount:0,voidCount:0};s(a),localStorage.setItem("pos_session",JSON.stringify(a))}})}}]);