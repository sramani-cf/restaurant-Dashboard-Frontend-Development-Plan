(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21002,e=>{"use strict";e.s(["OrderAnalyticsDashboard",()=>tb],21002);var t=e.i(43476),r=e.i(71645),a=e.i(913),n=e.i(70065),i=e.i(13592),l=e.i(27341),s=e.i(67881),o=e.i(29228),c=e.i(55706),d=e.i(9694),u=e.i(75225),m=e.i(25949),p=e.i(70778),h=e.i(98596),f=e.i(22273),g=e.i(62327),y=e.i(27241),x=e.i(73310);function v(e){var t=(0,y.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,x.updatePolarOptions)(e))},[t,e]),null}var b=e.i(48973),j=e.i(51883),N=e.i(22075),O=["width","height","layout"];function A(){return(A=Object.assign.bind()).apply(null,arguments)}var P={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},w=(0,r.forwardRef)(function(e,t){var a,n=(0,j.resolveDefaultProps)(e.categoricalChartProps,P),{width:i,height:l,layout:s}=n,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(n,O);if(!(0,N.isPositiveNumber)(i)||!(0,N.isPositiveNumber)(l))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m}=e;return r.createElement(p.RechartsStoreProvider,{preloadedState:{options:{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0}},reduxStoreName:null!=(a=n.id)?a:c},r.createElement(h.ChartDataContextProvider,{chartData:n.data}),r.createElement(f.ReportMainChartProps,{width:i,height:l,layout:s,margin:n.margin}),r.createElement(g.ReportChartProps,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),r.createElement(v,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),r.createElement(b.CategoricalChart,A({width:i,height:l},o,{ref:t})))}),E=["item"],S={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},C=(0,r.forwardRef)((e,t)=>{var a=(0,j.resolveDefaultProps)(e,S);return r.createElement(w,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:E,tooltipPayloadSearcher:m.arrayTooltipSearcher,categoricalChartProps:a,ref:t})}),D=e.i(92068),T=e.i(7670),k=e.i(61849),R=e.i(92860),I=e.i(41088),B=e.i(79812),K=e.i(61764),M=e.i(46710),L=e.i(73962),V=e.i(91561),F=e.i(77320),z=e=>e.graphicalItems.polarItems,G=(0,k.createSelector)([L.pickAxisType,V.pickAxisId],K.itemAxisPredicate),W=(0,k.createSelector)([z,K.selectBaseAxis,G],K.combineGraphicalItemsSettings),_=(0,k.createSelector)([W],K.combineGraphicalItemsData),q=(0,k.createSelector)([_,R.selectChartDataAndAlwaysIgnoreIndexes],K.combineDisplayedData),H=(0,k.createSelector)([q,K.selectBaseAxis,W],K.combineAppliedValues),U=(0,k.createSelector)([q,K.selectBaseAxis,W],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:(0,B.getValueByDataKey)(e,null!=(a=t.dataKey)?a:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,B.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),Y=()=>void 0,X=(0,k.createSelector)([K.selectBaseAxis,K.selectDomainDefinition,Y,U,Y,M.selectChartLayout,L.pickAxisType],K.combineNumericalDomain),$=(0,k.createSelector)([K.selectBaseAxis,M.selectChartLayout,q,H,F.selectStackOffsetType,L.pickAxisType,X],K.combineAxisDomain),J=(0,k.createSelector)([$,K.selectBaseAxis,K.selectRealScaleType],K.combineNiceTicks);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,k.createSelector)([K.selectBaseAxis,$,J,L.pickAxisType],K.combineAxisDomainWithNiceTicks);var ee=(0,k.createSelector)([z,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),et=[],er=(e,t,r)=>(null==r?void 0:r.length)===0?et:r,ea=(0,k.createSelector)([R.selectChartDataAndAlwaysIgnoreIndexes,ee,er],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>Z(Z({},t.presentationProps),e.props))),null!=a))return a}),en=(0,k.createSelector)([ea,ee,er],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,i,l=(0,B.getValueByDataKey)(e,t.nameKey,t.name);return i=null!=r&&null!=(n=r[a])&&null!=(n=n.props)&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,B.getTooltipNameProp)(l,t.dataKey),color:i,payload:e,type:t.legendType}})}),ei=(0,k.createSelector)([ea,ee,er,I.selectChartOffsetInternal],(e,t,r,a)=>{if(null!=t&&null!=e)return function(e){var t,r,a,{pieSettings:n,displayedData:i,cells:l,offset:s}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:p}=n,h=Math.abs(n.minAngle),f=(0,ep.mathSign)(d-c)*Math.min(Math.abs(d-c),360),g=Math.abs(f),y=i.length<=1?0:null!=(t=n.paddingAngle)?t:0,x=i.filter(e=>0!==(0,B.getValueByDataKey)(e,u,0)).length,v=g-x*h-(g>=360?x:x-1)*y,b=i.reduce((e,t)=>{var r=(0,B.getValueByDataKey)(t,u,0);return e+((0,ep.isNumber)(r)?r:0)},0);return b>0&&(r=i.map((e,t)=>{var r,i=(0,B.getValueByDataKey)(e,u,0),d=(0,B.getValueByDataKey)(e,m,t),g=((e,t,r)=>{let a,n,i;var{top:l,left:s,width:o,height:c}=t,d=(0,em.getMaxRadius)(o,c),u=s+(0,ep.getPercentValue)(e.cx,o,o/2),m=l+(0,ep.getPercentValue)(e.cy,c,c/2),p=(0,ep.getPercentValue)(e.innerRadius,d,0);return{cx:u,cy:m,innerRadius:p,outerRadius:(a=r,n=e.outerRadius,i=d,"function"==typeof n?n(a):(0,ep.getPercentValue)(n,i,.8*i)),maxRadius:e.maxRadius||Math.sqrt(o*o+c*c)/2}})(n,s,e),x=((0,ep.isNumber)(i)?i:0)/b,j=eT(eT({},e),l&&l[t]&&l[t].props),N=(r=t?a.endAngle+(0,ep.mathSign)(f)*y*(0!==i):c)+(0,ep.mathSign)(f)*((0!==i?h:0)+x*v),O=(r+N)/2,A=(g.innerRadius+g.outerRadius)/2,P=[{name:d,value:i,payload:j,dataKey:u,type:p}],w=(0,em.polarToCartesian)(g.cx,g.cy,A,O);return a=eT(eT(eT(eT({},n.presentationProps),{},{percent:x,cornerRadius:o,name:d,tooltipPayload:P,midAngle:O,middleRadius:A,tooltipPosition:w},j),g),{},{value:(0,B.getValueByDataKey)(e,u),startAngle:r,endAngle:N,payload:j,paddingAngle:(0,ep.mathSign)(f)*y})})),r}({offset:a,pieSettings:t,displayedData:e,cells:r})}),el=e.i(27066),es=e.i(72733),eo=e.i(9516),ec=e.i(22787),ed=e.i(81977),eu=e.i(62728),em=e.i(68970),ep=e.i(94395),eh=e.i(73393),ef=e.i(18519),eg=e.i(94585),ey=e.i(844),ex=e.i(76735),ev=e.i(95146),eb=e.i(94810),ej=e.i(40657),eN=e.i(15549),eO=e.i(91187),eA=e.i(57999),eP=e.i(66576),ew=["onMouseEnter","onClick","onMouseLeave"],eE=["id"],eS=["id"];function eC(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ek(){return(ek=Object.assign.bind()).apply(null,arguments)}function eR(e){var t=(0,r.useMemo)(()=>(0,ed.findAllByType)(e.children,ec.Cell),[e.children]),a=(0,y.useAppSelector)(r=>en(r,e.id,t));return null==a?null:r.createElement(ev.SetPolarLegendPayload,{legendPayload:a})}function eI(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:l,name:s,hide:o,tooltipType:c}=e;return{dataDefinedOnItem:null==a?void 0:a.map(e=>e.tooltipPayload),positions:null==a?void 0:a.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:(0,B.getTooltipNameProp)(s,t),hide:o,type:c,color:l,unit:""}}}function eB(e){var{sectors:t,props:a,showLabels:n}=e,{label:i,labelLine:l,dataKey:s}=a;if(!n||!i||!t)return null;var o=(0,eA.svgPropertiesNoEvents)(a),c=(0,ed.filterProps)(i,!1),d=(0,ed.filterProps)(l,!1),u="object"==typeof i&&"offsetRadius"in i&&i.offsetRadius||20,m=t.map((e,t)=>{var a,n,m=(e.startAngle+e.endAngle)/2,p=(0,em.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,m),h=eT(eT(eT(eT({},o),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(a=p.x)>(n=e.cx)?"start":a<n?"end":"middle"},p),f=eT(eT(eT(eT({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,em.polarToCartesian)(e.cx,e.cy,e.outerRadius,m),p],key:"line"});return r.createElement(el.Layer,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},l&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,T.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return r.createElement(es.Curve,ek({},t,{type:"linear",className:a}))})(l,f),((e,t,a)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var n=a;if("function"==typeof e&&(n=e(t),r.isValidElement(n)))return n;var i=(0,T.clsx)("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return r.createElement(eo.Text,ek({},t,{alignmentBaseline:"middle",className:i}),n)})(i,h,(0,B.getValueByDataKey)(e,s)))});return r.createElement(el.Layer,{className:"recharts-pie-labels"},m)}function eK(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:i,showLabels:l}=e,s=(0,y.useAppSelector)(ex.selectActiveTooltipIndex),{onMouseEnter:o,onClick:c,onMouseLeave:d}=i,u=eC(i,ew),m=(0,eg.useMouseEnterItemDispatch)(o,i.dataKey),p=(0,eg.useMouseLeaveItemDispatch)(d),h=(0,eg.useMouseClickItemDispatch)(c,i.dataKey);return null==t?null:r.createElement(r.Fragment,null,t.map((e,l)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var o=a&&String(l)===s,c=o?a:s?n:null,d=eT(eT({},e),{},{stroke:e.stroke,tabIndex:-1,[eb.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:l,[eb.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:i.dataKey});return r.createElement(el.Layer,ek({tabIndex:-1,className:"recharts-pie-sector"},(0,eh.adaptEventsOfChild)(u,e,l),{onMouseEnter:m(e,l),onMouseLeave:p(e,l),onClick:h(e,l),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(l)}),r.createElement(ef.Shape,ek({option:c,isActive:o,shapeType:"sector"},d)))}),r.createElement(eB,{sectors:t,props:i,showLabels:l}))}function eM(e){var{props:t,previousSectorsRef:a}=e,{sectors:n,isAnimationActive:i,animationBegin:l,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,p=(0,ej.useAnimationId)(t,"recharts-pie-"),h=a.current,[f,g]=(0,r.useState)(!0),y=(0,r.useCallback)(()=>{"function"==typeof m&&m(),g(!1)},[m]),x=(0,r.useCallback)(()=>{"function"==typeof u&&u(),g(!0)},[u]);return r.createElement(eP.JavascriptAnimate,{begin:l,duration:s,isActive:i,easing:o,onAnimationStart:x,onAnimationEnd:y,key:p},e=>{var i=[],l=(n&&n[0]).startAngle;return n.forEach((t,r)=>{var a=h&&h[r],n=r>0?(0,D.default)(t,"paddingAngle",0):0;if(a){var s=(0,ep.interpolateNumber)(a.endAngle-a.startAngle,t.endAngle-t.startAngle),o=eT(eT({},t),{},{startAngle:l+n,endAngle:l+s(e)+n});i.push(o),l=o.endAngle}else{var{endAngle:c,startAngle:d}=t,u=(0,ep.interpolateNumber)(0,c-d)(e),m=eT(eT({},t),{},{startAngle:l+n,endAngle:l+u+n});i.push(m),l=m.endAngle}}),a.current=i,r.createElement(el.Layer,null,r.createElement(eK,{sectors:i,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!f}))})}function eL(e){var{sectors:t,isAnimationActive:a,activeShape:n,inactiveShape:i}=e,l=(0,r.useRef)(null),s=l.current;return a&&t&&t.length&&(!s||s!==t)?r.createElement(eM,{props:e,previousSectorsRef:l}):r.createElement(eK,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function eV(e){var{hide:t,className:a,rootTabIndex:n}=e,i=(0,T.clsx)("recharts-pie",a);return t?null:r.createElement(el.Layer,{tabIndex:n,className:i},r.createElement(eL,e))}var eF={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!eu.Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ez(e){var{id:t}=e,a=eC(e,eE),n=(0,r.useMemo)(()=>(0,ed.findAllByType)(e.children,ec.Cell),[e.children]),i=(0,y.useAppSelector)(e=>ei(e,t,n));return r.createElement(r.Fragment,null,r.createElement(ey.SetTooltipEntrySettings,{fn:eI,args:eT(eT({},e),{},{sectors:i})}),r.createElement(eV,ek({},a,{sectors:i})))}function eG(e){var t=(0,j.resolveDefaultProps)(e,eF),{id:a}=t,n=eC(t,eS),i=(0,eA.svgPropertiesNoEvents)(n);return r.createElement(eN.RegisterGraphicalItemId,{id:a,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(eO.SetPolarGraphicalItem,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),r.createElement(eR,ek({},n,{id:e})),r.createElement(ez,ek({},n,{id:e})),n.children))}eG.displayName="Pie";var eW=e.i(85183),e_=e.i(93230),eq=e.i(72526),eH=e.i(34239),eU=r,eY=e.i(74080),eX=e.i(88860),e$=r,eJ=e.i(48337),eQ=e.i(13659);function eZ(){return(eZ=Object.assign.bind()).apply(null,arguments)}function e0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function e1(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class e2 extends e$.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,a=32/6,n=32/3,i=e.inactive?r:e.color,l=null!=t?t:e.type;if("none"===l)return null;if("plainline"===l)return e$.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===l)return e$.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*n,",").concat(16,"\n            H").concat(32,"M").concat(2*n,",").concat(16,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(n,",").concat(16),className:"recharts-legend-icon"});if("rect"===l)return e$.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(e$.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(r),!0).forEach(function(t){e1(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete s.legendIcon,e$.cloneElement(e.legendIcon,s)}return e$.createElement(eQ.Symbols,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:a,inactiveColor:n,iconType:i}=this.props,l={x:0,y:0,width:32,height:32},s={display:"horizontal"===r?"inline-block":"block",marginRight:10},o={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||a,d=(0,T.clsx)({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var u=e.inactive?n:e.color,m=c?c(e.value,e,r):e.value;return e$.createElement("li",eZ({className:d,style:s,key:"legend-item-".concat(r)},(0,eh.adaptEventsOfChild)(this.props,e,r)),e$.createElement(eJ.Surface,{width:t,height:t,viewBox:l,style:o,"aria-label":"".concat(m," legend icon")},this.renderIcon(e,i)),e$.createElement("span",{className:"recharts-legend-item-text",style:{color:u}},m))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?e$.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}e1(e2,"displayName","Legend"),e1(e2,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var e3=e.i(51587),e4=e.i(21307),e6=e.i(35709),e5=e.i(93882),e8=["contextPayload"];function e9(){return(e9=Object.assign.bind()).apply(null,arguments)}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(t){tt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tt(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e){return e.value}function ta(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,e8),a=(0,e3.getUniqPayload)(t,e.payloadUniqBy,tr),n=te(te({},r),{},{payload:a});return eU.isValidElement(e.content)?eU.cloneElement(e.content,n):"function"==typeof e.content?eU.createElement(e.content,n):eU.createElement(e2,n)}function tn(e){var t=(0,y.useAppDispatch)();return(0,eU.useEffect)(()=>{t((0,e5.setLegendSettings)(e))},[t,e]),null}function ti(e){var t=(0,y.useAppDispatch)();return(0,eU.useEffect)(()=>(t((0,e5.setLegendSize)(e)),()=>{t((0,e5.setLegendSize)({width:0,height:0}))}),[t,e]),null}function tl(e){var t=(0,y.useAppSelector)(e4.selectLegendPayload),r=(0,eX.useLegendPortal)(),a=(0,M.useMargin)(),{width:n,height:i,wrapperStyle:l,portal:s}=e,[o,c]=(0,e6.useElementOffset)([t]),d=(0,M.useChartWidth)(),u=(0,M.useChartHeight)(),m=d-(a.left||0)-(a.right||0),p=ts.getWidthOrHeight(e.layout,i,n,m),h=s?l:te(te({position:"absolute",width:(null==p?void 0:p.width)||n||"auto",height:(null==p?void 0:p.height)||i||"auto"},function(e,t,r,a,n,i){var l,s,{layout:o,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===o?{left:((a||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===d?{top:((n||0)-i.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),te(te({},l),s)}(l,e,a,d,u,o)),l),f=null!=s?s:r;if(null==f)return null;var g=eU.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:c},eU.createElement(tn,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),eU.createElement(ti,{width:o.width,height:o.height}),eU.createElement(ta,e9({},e,p,{margin:a,chartWidth:d,chartHeight:u,contextPayload:t})));return(0,eY.createPortal)(g,f)}class ts extends eU.PureComponent{static getWidthOrHeight(e,t,r,a){return"vertical"===e&&(0,ep.isNumber)(t)?{height:t}:"horizontal"===e?{width:r||a}:null}render(){return eU.createElement(tl,this.props)}}tt(ts,"displayName","Legend"),tt(ts,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var to=e.i(31195),tc=e.i(237),td=e.i(1725),tu=e.i(23123),tm=e.i(91393),tp=e.i(49550),th=e.i(80108),tf=e.i(49411),tg=e.i(72459),ty=e.i(84023),tx=e.i(13692),tv=e.i(47978);function tb(e){let{searchParams:m}=e,[p,h]=(0,r.useState)(null),[f,g]=(0,r.useState)([]),[y,x]=(0,r.useState)(!0),[v,b]=(0,r.useState)({start:new Date(Date.now()-6048e5),end:new Date});if((0,r.useEffect)(()=>{(async()=>{x(!0);try{let e=await (0,a.getOrderStats)({start:v.start.toISOString(),end:v.end.toISOString()});h(e);let t=[],r=new Date(v.start);for(;r<=v.end;){let e=await (0,a.getOrderSummary)(r.toISOString().split("T")[0]);t.push(e),r.setDate(r.getDate()+1)}g(t)}catch(e){console.error("Failed to load analytics:",e)}finally{x(!1)}})()},[v]),y||!p)return(0,t.jsx)("div",{children:"Loading analytics..."});let j=f.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:e.revenue,orders:e.orderCount,avgOrderValue:e.averageOrderValue})),N=Object.entries(p.ordersByStatus).map(e=>{let[t,r]=e;return{name:t.replace("_"," "),value:r,percentage:(r/p.totalOrders*100).toFixed(1)}}),O=Object.entries(p.ordersByType).map(e=>{let[t,r]=e;return{name:t.replace("_"," "),value:r,percentage:(r/p.totalOrders*100).toFixed(1)}}),A=p.peakHours.map(e=>({hour:"".concat(e.hour,":00"),orders:e.orders})),P=Object.entries(f.flatMap(e=>e.topItems).reduce((e,t)=>(e[t.itemName]||(e[t.itemName]={quantity:0,revenue:0}),e[t.itemName].quantity+=t.quantity,e[t.itemName].revenue+=t.revenue,e),{})).map(e=>{let[t,r]=e;return{name:t,...r}}).sort((e,t)=>t.revenue-e.revenue).slice(0,10),w=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.DateRangePicker,{value:v,onChange:e=>e&&b(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(tx.default,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(ty.default,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:["$",p.totalRevenue.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,t.jsx)(tu.default,{className:"h-3 w-3 mr-1"}),"+12.5% vs last period"]})]}),(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,t.jsx)(tp.default,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:p.totalOrders}),(0,t.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,t.jsx)(tu.default,{className:"h-3 w-3 mr-1"}),"+8.3% vs last period"]})]}),(0,t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,t.jsx)(th.default,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:["$",p.averageOrderValue.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[(0,t.jsx)(tm.default,{className:"h-3 w-3 mr-1"}),"-2.1% vs last period"]})]}),(0,t.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,t.jsx)(tg.default,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})}),(0,t.jsx)(n.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Prep Time"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[p.averagePrepTime.toFixed(0),"m"]}),(0,t.jsxs)("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[(0,t.jsx)(tm.default,{className:"h-3 w-3 mr-1"}),"-5m vs last period"]})]}),(0,t.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:(0,t.jsx)(tf.default,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})]}),(0,t.jsxs)(l.Tabs,{defaultValue:"overview",tabs:[{id:"overview",label:"Overview"},{id:"revenue",label:"Revenue"},{id:"orders",label:"Orders"},{id:"items",label:"Items"},{id:"patterns",label:"Patterns"}],children:[(0,t.jsxs)("div",{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Revenue Trend"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(td.AreaChart,{data:j,children:[(0,t.jsx)(eq.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eW.XAxis,{dataKey:"date"}),(0,t.jsx)(e_.YAxis,{}),(0,t.jsx)(eH.Tooltip,{}),(0,t.jsx)(tc.Area,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Order Volume"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(o.LineChart,{data:j,children:[(0,t.jsx)(eq.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eW.XAxis,{dataKey:"date"}),(0,t.jsx)(e_.YAxis,{}),(0,t.jsx)(eH.Tooltip,{}),(0,t.jsx)(c.Line,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Order Status"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:250,children:(0,t.jsxs)(C,{children:[(0,t.jsx)(eG,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{percentage:t}=e;return"".concat(t,"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((e,r)=>(0,t.jsx)(ec.Cell,{fill:w[r%w.length]},"cell-".concat(r)))}),(0,t.jsx)(eH.Tooltip,{})]})}),(0,t.jsx)("div",{className:"mt-4 space-y-2",children:N.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w[r%w.length]}}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsx)("span",{className:"font-medium",children:e.value})]},e.name))})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Order Types"})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:250,children:(0,t.jsxs)(C,{children:[(0,t.jsx)(eG,{data:O,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{percentage:t}=e;return"".concat(t,"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:O.map((e,r)=>(0,t.jsx)(ec.Cell,{fill:w[r%w.length]},"cell-".concat(r)))}),(0,t.jsx)(eH.Tooltip,{})]})}),(0,t.jsx)("div",{className:"mt-4 space-y-2",children:O.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w[r%w.length]}}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsx)("span",{className:"font-medium",children:e.value})]},e.name))})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Peak Hours"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:250,children:(0,t.jsxs)(d.BarChart,{data:A,children:[(0,t.jsx)(eq.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eW.XAxis,{dataKey:"hour"}),(0,t.jsx)(e_.YAxis,{}),(0,t.jsx)(eH.Tooltip,{}),(0,t.jsx)(u.Bar,{dataKey:"orders",fill:"#F59E0B"})]})})})]})]})]}),(0,t.jsxs)("div",{value:"revenue",className:"space-y-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Revenue Analysis"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:400,children:(0,t.jsxs)(o.LineChart,{data:j,children:[(0,t.jsx)(eq.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eW.XAxis,{dataKey:"date"}),(0,t.jsx)(e_.YAxis,{yAxisId:"left"}),(0,t.jsx)(e_.YAxis,{yAxisId:"right",orientation:"right"}),(0,t.jsx)(eH.Tooltip,{}),(0,t.jsx)(ts,{}),(0,t.jsx)(c.Line,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2,name:"Revenue ($)"}),(0,t.jsx)(c.Line,{yAxisId:"right",type:"monotone",dataKey:"avgOrderValue",stroke:"#10B981",strokeWidth:2,name:"Avg Order Value ($)"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Revenue by Day of Week"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:"".concat(60+40*Math.random(),"%")}})}),(0,t.jsxs)("span",{className:"text-sm font-medium w-20 text-right",children:["$",(1e3+2e3*Math.random()).toFixed(0)]})]})]},e))})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Payment Methods"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:[{method:"Credit Card",amount:65,icon:tv.default},{method:"Cash",amount:20,icon:tp.default},{method:"Digital Wallet",amount:10,icon:tv.default},{method:"Gift Card",amount:5,icon:tv.default}].map(e=>{let r=e.icon;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:e.method})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-primary h-2 rounded-full",style:{width:"".concat(e.amount,"%")}})}),(0,t.jsxs)("span",{className:"text-sm font-medium w-12 text-right",children:[e.amount,"%"]})]})]},e.method)})})})]})]})]}),(0,t.jsx)("div",{value:"items",className:"space-y-6",children:(0,t.jsxs)(n.Card,{children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Top Performing Items"})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(to.ResponsiveContainer,{width:"100%",height:400,children:(0,t.jsxs)(d.BarChart,{data:P,layout:"horizontal",children:[(0,t.jsx)(eq.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(eW.XAxis,{type:"number"}),(0,t.jsx)(e_.YAxis,{dataKey:"name",type:"category",width:150}),(0,t.jsx)(eH.Tooltip,{}),(0,t.jsx)(ts,{}),(0,t.jsx)(u.Bar,{dataKey:"revenue",fill:"#3B82F6",name:"Revenue ($)"}),(0,t.jsx)(u.Bar,{dataKey:"quantity",fill:"#10B981",name:"Quantity Sold"})]})})})]})})]})]})}}]);