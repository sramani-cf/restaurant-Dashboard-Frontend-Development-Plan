{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/utils/index.ts"],"sourcesContent":["// utils/index.ts\n// Centralized utility functions\n\nimport { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Class name utility for combining Tailwind classes\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n// Format currency\nexport function formatCurrency(amount: number, currency = 'USD'): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency,\n  }).format(amount);\n}\n\n// Format date\nexport function formatDate(date: Date | string, format = 'MM/dd/yyyy'): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('en-US').format(d);\n}\n\n// Format time\nexport function formatTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('en-US', {\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: true,\n  }).format(d);\n}\n\n// Format phone number\nexport function formatPhoneNumber(phone: string): string {\n  const cleaned = phone.replace(/\\D/g, '');\n  const match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match) {\n    return `(${match[1]}) ${match[2]}-${match[3]}`;\n  }\n  return phone;\n}\n\n// Capitalize first letter\nexport function capitalize(str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n}\n\n// Truncate text\nexport function truncate(str: string, length = 50): string {\n  if (str.length <= length) return str;\n  return `${str.slice(0, length)}...`;\n}\n\n// Generate random ID\nexport function generateId(): string {\n  return Math.random().toString(36).substr(2, 9);\n}\n\n// Deep clone object\nexport function deepClone<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj));\n}\n\n// Debounce function\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout;\n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// Throttle function\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean;\n  return function executedFunction(...args: Parameters<T>) {\n    if (!inThrottle) {\n      func.apply(this, args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n\n// Check if object is empty\nexport function isEmpty(obj: any): boolean {\n  if (obj == null) return true;\n  if (typeof obj === 'object') {\n    return Object.keys(obj).length === 0;\n  }\n  if (Array.isArray(obj)) {\n    return obj.length === 0;\n  }\n  return false;\n}\n\n// Get initials from name\nexport function getInitials(name: string): string {\n  return name\n    .split(' ')\n    .map((n) => n[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2);\n}\n\n// Calculate percentage\nexport function calculatePercentage(value: number, total: number): number {\n  if (total === 0) return 0;\n  return Math.round((value / total) * 100);\n}\n\n// Format file size\nexport function formatFileSize(bytes: number): string {\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  if (bytes === 0) return '0 Bytes';\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];\n}\n\n// Parse query string\nexport function parseQueryString(queryString: string): Record<string, string> {\n  const params = new URLSearchParams(queryString);\n  const result: Record<string, string> = {};\n  params.forEach((value, key) => {\n    result[key] = value;\n  });\n  return result;\n}\n\n// Build query string\nexport function buildQueryString(params: Record<string, any>): string {\n  const searchParams = new URLSearchParams();\n  Object.entries(params).forEach(([key, value]) => {\n    if (value !== null && value !== undefined) {\n      searchParams.append(key, String(value));\n    }\n  });\n  return searchParams.toString();\n}\n\n// Group array by key\nexport function groupBy<T>(array: T[], key: keyof T): Record<string, T[]> {\n  return array.reduce((result, item) => {\n    const group = String(item[key]);\n    if (!result[group]) result[group] = [];\n    result[group].push(item);\n    return result;\n  }, {} as Record<string, T[]>);\n}\n\n// Sort array by key\nexport function sortBy<T>(array: T[], key: keyof T, order: 'asc' | 'desc' = 'asc'): T[] {\n  return [...array].sort((a, b) => {\n    const aVal = a[key];\n    const bVal = b[key];\n    if (aVal < bVal) return order === 'asc' ? -1 : 1;\n    if (aVal > bVal) return order === 'asc' ? 1 : -1;\n    return 0;\n  });\n}\n\n// Pick properties from object\nexport function pick<T, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {\n  const result = {} as Pick<T, K>;\n  keys.forEach((key) => {\n    if (key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n\n// Omit properties from object\nexport function omit<T, K extends keyof T>(obj: T, keys: K[]): Omit<T, K> {\n  const result = { ...obj };\n  keys.forEach((key) => {\n    delete result[key];\n  });\n  return result as Omit<T, K>;\n}\n\n// Sleep/delay function\nexport function sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// Retry function\nexport async function retry<T>(\n  fn: () => Promise<T>,\n  maxAttempts = 3,\n  delay = 1000\n): Promise<T> {\n  let lastError: Error;\n  for (let i = 0; i < maxAttempts; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      lastError = error as Error;\n      if (i < maxAttempts - 1) {\n        await sleep(delay * Math.pow(2, i)); // Exponential backoff\n      }\n    }\n  }\n  throw lastError!;\n}\n\n// Validate email\nexport function isValidEmail(email: string): boolean {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\n// Validate phone\nexport function isValidPhone(phone: string): boolean {\n  const re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/;\n  return re.test(phone);\n}\n\n// Generate order number\nexport function generateOrderNumber(): string {\n  const timestamp = Date.now().toString(36).toUpperCase();\n  const random = Math.random().toString(36).substr(2, 4).toUpperCase();\n  return `ORD-${timestamp}-${random}`;\n}\n\n// Calculate order total\nexport function calculateOrderTotal(\n  subtotal: number,\n  taxRate: number,\n  gratuityRate: number,\n  discount = 0\n): {\n  tax: number;\n  gratuity: number;\n  total: number;\n} {\n  const discountedSubtotal = subtotal - discount;\n  const tax = discountedSubtotal * (taxRate / 100);\n  const gratuity = discountedSubtotal * (gratuityRate / 100);\n  const total = discountedSubtotal + tax + gratuity;\n  \n  return {\n    tax: Math.round(tax * 100) / 100,\n    gratuity: Math.round(gratuity * 100) / 100,\n    total: Math.round(total * 100) / 100,\n  };\n}\n\n// Get time ago\nexport function getTimeAgo(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const now = new Date();\n  const seconds = Math.floor((now.getTime() - d.getTime()) / 1000);\n  \n  if (seconds < 60) return `${seconds} seconds ago`;\n  if (seconds < 3600) return `${Math.floor(seconds / 60)} minutes ago`;\n  if (seconds < 86400) return `${Math.floor(seconds / 3600)} hours ago`;\n  if (seconds < 604800) return `${Math.floor(seconds / 86400)} days ago`;\n  \n  return formatDate(d);\n}\n\n// Check if browser\nexport const isBrowser = typeof window !== 'undefined';\n\n// Check if mobile\nexport function isMobile(): boolean {\n  if (!isBrowser) return false;\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  );\n}\n\n// Get cookie\nexport function getCookie(name: string): string | null {\n  if (!isBrowser) return null;\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) {\n    return parts.pop()?.split(';').shift() || null;\n  }\n  return null;\n}\n\n// Set cookie\nexport function setCookie(name: string, value: string, days = 7): void {\n  if (!isBrowser) return;\n  const expires = new Date();\n  expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\n  document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;\n}\n\n// Remove cookie\nexport function removeCookie(name: string): void {\n  if (!isBrowser) return;\n  document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`;\n}\n\n// Local storage wrapper\nexport const storage = {\n  get: (key: string): any => {\n    if (!isBrowser) return null;\n    try {\n      const item = localStorage.getItem(key);\n      return item ? JSON.parse(item) : null;\n    } catch {\n      return null;\n    }\n  },\n  set: (key: string, value: any): void => {\n    if (!isBrowser) return;\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n    } catch {\n      console.error('Failed to save to localStorage');\n    }\n  },\n  remove: (key: string): void => {\n    if (!isBrowser) return;\n    localStorage.removeItem(key);\n  },\n  clear: (): void => {\n    if (!isBrowser) return;\n    localStorage.clear();\n  },\n};\n\n// Environment variable utilities\nexport function getLoginBypassEnabled(): boolean {\n  return process.env.NEXT_PUBLIC_LOGIN_BUTTON_BYPASS_AUTH === 'on' ||\n         process.env.LOGIN_BUTTON_BYPASS_AUTH === 'on';\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/components/accessibility/announcer.tsx"],"sourcesContent":["/**\n * Live Region Announcer Component\n * \n * Provides live region announcements for screen readers to communicate\n * dynamic content changes and important updates.\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/utils';\n\n/**\n * Announcement priority levels\n */\nexport type AnnouncementPriority = 'polite' | 'assertive' | 'off';\n\n/**\n * Announcement configuration\n */\nexport interface Announcement {\n  id: string;\n  message: string;\n  priority: AnnouncementPriority;\n  timestamp: number;\n  duration?: number;\n  persistent?: boolean;\n}\n\n/**\n * Announcer component props\n */\nexport interface AnnouncerProps {\n  /** Live region politeness level */\n  priority?: AnnouncementPriority;\n  /** Whether to show announcements visually (for debugging) */\n  visible?: boolean;\n  /** Maximum number of announcements to keep in history */\n  maxHistory?: number;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Announcement context for managing global announcements\n */\nexport interface AnnouncerContextValue {\n  announce: (message: string, priority?: AnnouncementPriority, duration?: number) => string;\n  announceImmediate: (message: string, priority?: AnnouncementPriority) => void;\n  clearAnnouncements: () => void;\n  getHistory: () => Announcement[];\n  isActive: boolean;\n}\n\nconst AnnouncerContext = React.createContext<AnnouncerContextValue | null>(null);\n\n/**\n * Hook to use the announcer context\n */\nexport const useAnnouncer = (): AnnouncerContextValue => {\n  const context = React.useContext(AnnouncerContext);\n  if (!context) {\n    throw new Error('useAnnouncer must be used within an AnnouncerProvider');\n  }\n  return context;\n};\n\n/**\n * Individual Live Region Component\n */\nconst LiveRegion: React.FC<{\n  priority: AnnouncementPriority;\n  visible?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n}> = ({ priority, visible, className, children }) => {\n  if (priority === 'off') {\n    return null;\n  }\n\n  return (\n    <div\n      role={priority === 'assertive' ? 'alert' : 'status'}\n      aria-live={priority}\n      aria-atomic=\"true\"\n      aria-relevant=\"additions text\"\n      className={cn(\n        // Screen reader only by default\n        !visible && 'sr-only',\n        // Visible styles for debugging\n        visible && [\n          'fixed bottom-4 right-4 z-50',\n          'bg-background border rounded-lg p-4 shadow-lg',\n          'max-w-sm text-sm',\n          priority === 'assertive' && 'border-red-200 bg-red-50 text-red-900',\n          priority === 'polite' && 'border-blue-200 bg-blue-50 text-blue-900',\n        ],\n        className\n      )}\n    >\n      {children}\n    </div>\n  );\n};\n\n/**\n * Core Announcer Component\n */\nexport const Announcer: React.FC<AnnouncerProps> = ({\n  priority = 'polite',\n  visible = false,\n  maxHistory = 50,\n  className,\n}) => {\n  const [politeContent, setPoliteContent] = React.useState<string>('');\n  const [assertiveContent, setAssertiveContent] = React.useState<string>('');\n  const [history, setHistory] = React.useState<Announcement[]>([]);\n  const timeoutRefs = React.useRef<Map<string, NodeJS.Timeout>>(new Map());\n  const idCounter = React.useRef(0);\n\n  /**\n   * Generate unique announcement ID\n   */\n  const generateId = React.useCallback(() => {\n    return `announcement-${++idCounter.current}-${Date.now()}`;\n  }, []);\n\n  /**\n   * Add announcement to history\n   */\n  const addToHistory = React.useCallback((announcement: Announcement) => {\n    setHistory(prev => {\n      const updated = [announcement, ...prev];\n      return updated.slice(0, maxHistory);\n    });\n  }, [maxHistory]);\n\n  /**\n   * Clear announcement after duration\n   */\n  const clearAnnouncementAfterDelay = React.useCallback((\n    id: string,\n    priority: AnnouncementPriority,\n    duration: number\n  ) => {\n    const timeoutId = setTimeout(() => {\n      if (priority === 'assertive') {\n        setAssertiveContent('');\n      } else if (priority === 'polite') {\n        setPoliteContent('');\n      }\n      timeoutRefs.current.delete(id);\n    }, duration);\n\n    timeoutRefs.current.set(id, timeoutId);\n  }, []);\n\n  /**\n   * Make an announcement\n   */\n  const announce = React.useCallback((\n    message: string,\n    announcementPriority: AnnouncementPriority = priority,\n    duration = 3000\n  ): string => {\n    if (!message.trim() || announcementPriority === 'off') {\n      return '';\n    }\n\n    const id = generateId();\n    const announcement: Announcement = {\n      id,\n      message: message.trim(),\n      priority: announcementPriority,\n      timestamp: Date.now(),\n      duration,\n      persistent: duration === 0,\n    };\n\n    // Add to history\n    addToHistory(announcement);\n\n    // Clear previous content first (for better screen reader support)\n    if (announcementPriority === 'assertive') {\n      setAssertiveContent('');\n      setTimeout(() => setAssertiveContent(message), 50);\n    } else if (announcementPriority === 'polite') {\n      setPoliteContent('');\n      setTimeout(() => setPoliteContent(message), 50);\n    }\n\n    // Clear announcement after duration (if not persistent)\n    if (duration > 0) {\n      clearAnnouncementAfterDelay(id, announcementPriority, duration);\n    }\n\n    return id;\n  }, [priority, generateId, addToHistory, clearAnnouncementAfterDelay]);\n\n  /**\n   * Make an immediate announcement (no delay)\n   */\n  const announceImmediate = React.useCallback((\n    message: string,\n    announcementPriority: AnnouncementPriority = priority\n  ) => {\n    if (!message.trim() || announcementPriority === 'off') {\n      return;\n    }\n\n    if (announcementPriority === 'assertive') {\n      setAssertiveContent(message);\n    } else if (announcementPriority === 'polite') {\n      setPoliteContent(message);\n    }\n\n    const announcement: Announcement = {\n      id: generateId(),\n      message: message.trim(),\n      priority: announcementPriority,\n      timestamp: Date.now(),\n      duration: 0,\n      persistent: true,\n    };\n\n    addToHistory(announcement);\n  }, [priority, generateId, addToHistory]);\n\n  /**\n   * Clear all announcements\n   */\n  const clearAnnouncements = React.useCallback(() => {\n    setPoliteContent('');\n    setAssertiveContent('');\n    \n    // Clear all timeouts\n    timeoutRefs.current.forEach(timeout => clearTimeout(timeout));\n    timeoutRefs.current.clear();\n  }, []);\n\n  /**\n   * Get announcement history\n   */\n  const getHistory = React.useCallback(() => {\n    return [...history];\n  }, [history]);\n\n  // Cleanup timeouts on unmount\n  React.useEffect(() => {\n    return () => {\n      timeoutRefs.current.forEach(timeout => clearTimeout(timeout));\n    };\n  }, []);\n\n  return (\n    <div className={cn('announcer-container', className)}>\n      {/* Polite live region */}\n      <LiveRegion\n        priority=\"polite\"\n        visible={visible}\n        className=\"polite-announcer\"\n      >\n        {politeContent}\n      </LiveRegion>\n\n      {/* Assertive live region */}\n      <LiveRegion\n        priority=\"assertive\"\n        visible={visible}\n        className=\"assertive-announcer\"\n      >\n        {assertiveContent}\n      </LiveRegion>\n\n      {/* Status region for form feedback */}\n      <div\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        className=\"sr-only\"\n        id=\"form-status-announcer\"\n      />\n\n      {/* Log region for activity updates */}\n      <div\n        role=\"log\"\n        aria-live=\"polite\"\n        aria-atomic=\"false\"\n        className=\"sr-only\"\n        id=\"activity-log-announcer\"\n      />\n    </div>\n  );\n};\n\n/**\n * Announcer Provider Component\n */\nexport const AnnouncerProvider: React.FC<{\n  maxHistory?: number;\n  debugMode?: boolean;\n  children: React.ReactNode;\n}> = ({ maxHistory = 50, debugMode = false, children }) => {\n  const announcerRef = React.useRef<{\n    announce: (message: string, priority?: AnnouncementPriority, duration?: number) => string;\n    announceImmediate: (message: string, priority?: AnnouncementPriority) => void;\n    clearAnnouncements: () => void;\n    getHistory: () => Announcement[];\n  } | null>(null);\n\n  const [history, setHistory] = React.useState<Announcement[]>([]);\n  const [isActive, setIsActive] = React.useState(true);\n\n  const contextValue: AnnouncerContextValue = React.useMemo(() => ({\n    announce: (message: string, priority?: AnnouncementPriority, duration?: number) => {\n      if (!isActive || !announcerRef.current) return '';\n      return announcerRef.current.announce(message, priority, duration);\n    },\n    announceImmediate: (message: string, priority?: AnnouncementPriority) => {\n      if (!isActive || !announcerRef.current) return;\n      announcerRef.current.announceImmediate(message, priority);\n    },\n    clearAnnouncements: () => {\n      if (!announcerRef.current) return;\n      announcerRef.current.clearAnnouncements();\n    },\n    getHistory: () => {\n      if (!announcerRef.current) return [];\n      return announcerRef.current.getHistory();\n    },\n    isActive,\n  }), [isActive]);\n\n  return (\n    <AnnouncerContext.Provider value={contextValue}>\n      {children}\n      <AnnouncerImpl\n        ref={announcerRef}\n        maxHistory={maxHistory}\n        visible={debugMode}\n        onHistoryChange={setHistory}\n      />\n    </AnnouncerContext.Provider>\n  );\n};\n\n/**\n * Internal Announcer Implementation\n */\nconst AnnouncerImpl = React.forwardRef<{\n  announce: (message: string, priority?: AnnouncementPriority, duration?: number) => string;\n  announceImmediate: (message: string, priority?: AnnouncementPriority) => void;\n  clearAnnouncements: () => void;\n  getHistory: () => Announcement[];\n}, {\n  maxHistory: number;\n  visible: boolean;\n  onHistoryChange: (history: Announcement[]) => void;\n}>(({ maxHistory, visible, onHistoryChange }, ref) => {\n  const [politeContent, setPoliteContent] = React.useState('');\n  const [assertiveContent, setAssertiveContent] = React.useState('');\n  const [history, setHistory] = React.useState<Announcement[]>([]);\n  const timeoutRefs = React.useRef<Map<string, NodeJS.Timeout>>(new Map());\n  const idCounter = React.useRef(0);\n\n  const generateId = () => `announcement-${++idCounter.current}-${Date.now()}`;\n\n  const addToHistory = React.useCallback((announcement: Announcement) => {\n    setHistory(prev => {\n      const updated = [announcement, ...prev].slice(0, maxHistory);\n      onHistoryChange(updated);\n      return updated;\n    });\n  }, [maxHistory, onHistoryChange]);\n\n  const announce = React.useCallback((\n    message: string,\n    priority: AnnouncementPriority = 'polite',\n    duration = 3000\n  ): string => {\n    if (!message.trim() || priority === 'off') return '';\n\n    const id = generateId();\n    const announcement: Announcement = {\n      id,\n      message: message.trim(),\n      priority,\n      timestamp: Date.now(),\n      duration,\n      persistent: duration === 0,\n    };\n\n    addToHistory(announcement);\n\n    if (priority === 'assertive') {\n      setAssertiveContent('');\n      setTimeout(() => setAssertiveContent(message), 50);\n    } else if (priority === 'polite') {\n      setPoliteContent('');\n      setTimeout(() => setPoliteContent(message), 50);\n    }\n\n    if (duration > 0) {\n      const timeoutId = setTimeout(() => {\n        if (priority === 'assertive') {\n          setAssertiveContent('');\n        } else if (priority === 'polite') {\n          setPoliteContent('');\n        }\n        timeoutRefs.current.delete(id);\n      }, duration);\n      timeoutRefs.current.set(id, timeoutId);\n    }\n\n    return id;\n  }, [addToHistory]);\n\n  const announceImmediate = React.useCallback((\n    message: string,\n    priority: AnnouncementPriority = 'polite'\n  ) => {\n    if (!message.trim() || priority === 'off') return;\n\n    if (priority === 'assertive') {\n      setAssertiveContent(message);\n    } else if (priority === 'polite') {\n      setPoliteContent(message);\n    }\n\n    const announcement: Announcement = {\n      id: generateId(),\n      message: message.trim(),\n      priority,\n      timestamp: Date.now(),\n      duration: 0,\n      persistent: true,\n    };\n\n    addToHistory(announcement);\n  }, [addToHistory]);\n\n  const clearAnnouncements = React.useCallback(() => {\n    setPoliteContent('');\n    setAssertiveContent('');\n    timeoutRefs.current.forEach(timeout => clearTimeout(timeout));\n    timeoutRefs.current.clear();\n  }, []);\n\n  const getHistory = React.useCallback(() => [...history], [history]);\n\n  React.useImperativeHandle(ref, () => ({\n    announce,\n    announceImmediate,\n    clearAnnouncements,\n    getHistory,\n  }), [announce, announceImmediate, clearAnnouncements, getHistory]);\n\n  React.useEffect(() => {\n    return () => {\n      timeoutRefs.current.forEach(timeout => clearTimeout(timeout));\n    };\n  }, []);\n\n  return (\n    <>\n      <LiveRegion priority=\"polite\" visible={visible}>\n        {politeContent}\n      </LiveRegion>\n      <LiveRegion priority=\"assertive\" visible={visible}>\n        {assertiveContent}\n      </LiveRegion>\n      <div role=\"status\" aria-live=\"polite\" aria-atomic=\"true\" className=\"sr-only\" />\n      <div role=\"log\" aria-live=\"polite\" aria-atomic=\"false\" className=\"sr-only\" />\n    </>\n  );\n});\n\nAnnouncerImpl.displayName = 'AnnouncerImpl';\n\n/**\n * Form Announcer Component\n * \n * Specialized component for form validation announcements\n */\nexport const FormAnnouncer: React.FC<{\n  errors?: Record<string, string>;\n  success?: string;\n  className?: string;\n}> = ({ errors, success, className }) => {\n  const { announce } = useAnnouncer();\n  const prevErrorsRef = React.useRef<Record<string, string>>();\n\n  // Announce form errors\n  React.useEffect(() => {\n    if (!errors) return;\n\n    const currentErrors = Object.values(errors);\n    const prevErrors = Object.values(prevErrorsRef.current || {});\n\n    if (currentErrors.length > 0 && JSON.stringify(currentErrors) !== JSON.stringify(prevErrors)) {\n      const message = currentErrors.length === 1 \n        ? `Form error: ${currentErrors[0]}`\n        : `Form has ${currentErrors.length} errors: ${currentErrors.join(', ')}`;\n      \n      announce(message, 'assertive', 5000);\n    }\n\n    prevErrorsRef.current = errors;\n  }, [errors, announce]);\n\n  // Announce success message\n  React.useEffect(() => {\n    if (success) {\n      announce(success, 'polite', 3000);\n    }\n  }, [success, announce]);\n\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      className={cn('sr-only', className)}\n      id=\"form-announcer\"\n    />\n  );\n};\n\n/**\n * Loading Announcer Component\n * \n * Specialized component for loading state announcements\n */\nexport const LoadingAnnouncer: React.FC<{\n  isLoading?: boolean;\n  loadingMessage?: string;\n  completeMessage?: string;\n  className?: string;\n}> = ({\n  isLoading,\n  loadingMessage = 'Loading',\n  completeMessage = 'Loading complete',\n  className,\n}) => {\n  const { announce } = useAnnouncer();\n  const prevLoadingRef = React.useRef<boolean>();\n\n  React.useEffect(() => {\n    if (isLoading !== prevLoadingRef.current) {\n      if (isLoading) {\n        announce(loadingMessage, 'polite', 0);\n      } else if (prevLoadingRef.current) {\n        announce(completeMessage, 'polite');\n      }\n      prevLoadingRef.current = isLoading;\n    }\n  }, [isLoading, loadingMessage, completeMessage, announce]);\n\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      className={cn('sr-only', className)}\n      id=\"loading-announcer\"\n    />\n  );\n};\n\n/**\n * Route Change Announcer Component\n * \n * Announces navigation changes for single-page applications\n */\nexport const RouteChangeAnnouncer: React.FC<{\n  currentPath?: string;\n  pageTitle?: string;\n  className?: string;\n}> = ({ currentPath, pageTitle, className }) => {\n  const { announce } = useAnnouncer();\n  const prevPathRef = React.useRef<string>();\n\n  React.useEffect(() => {\n    if (currentPath && currentPath !== prevPathRef.current) {\n      const message = pageTitle \n        ? `Navigated to ${pageTitle}`\n        : `Page changed to ${currentPath}`;\n      \n      announce(message, 'assertive', 2000);\n      prevPathRef.current = currentPath;\n    }\n  }, [currentPath, pageTitle, announce]);\n\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      className={cn('sr-only', className)}\n      id=\"route-announcer\"\n    />\n  );\n};\n\n/**\n * Utility hook for common announcements\n */\nexport const useCommonAnnouncements = () => {\n  const { announce } = useAnnouncer();\n\n  return React.useMemo(() => ({\n    announceSuccess: (message: string) => announce(`Success: ${message}`, 'polite'),\n    announceError: (message: string) => announce(`Error: ${message}`, 'assertive'),\n    announceWarning: (message: string) => announce(`Warning: ${message}`, 'polite'),\n    announceInfo: (message: string) => announce(message, 'polite'),\n    announceNavigation: (destination: string) => announce(`Navigated to ${destination}`, 'assertive'),\n    announceAction: (action: string) => announce(action, 'polite'),\n  }), [announce]);\n};\n\n// Export default as AnnouncerProvider\nexport default AnnouncerProvider;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/lib/accessibility/keyboard.ts"],"sourcesContent":["/**\n * Keyboard Navigation Helpers\n * \n * Provides comprehensive keyboard navigation utilities for WCAG 2.1 AA compliance\n * including focus management, keyboard traps, and navigation patterns.\n */\n\n/**\n * Keyboard navigation configuration\n */\nexport interface KeyboardConfig {\n  /** Enable roving tabindex pattern */\n  rovingTabindex?: boolean;\n  /** Enable arrow key navigation */\n  arrowKeys?: boolean;\n  /** Enable Escape key handling */\n  escapeKey?: boolean;\n  /** Enable Home/End key navigation */\n  homeEndKeys?: boolean;\n  /** Trap focus within container */\n  trapFocus?: boolean;\n}\n\n/**\n * Focus management utilities\n */\nexport class FocusManager {\n  private focusHistory: HTMLElement[] = [];\n  private maxHistorySize = 10;\n\n  /**\n   * Save current focus to history\n   */\n  saveFocus(element?: HTMLElement): void {\n    const activeElement = element || (document.activeElement as HTMLElement);\n    if (activeElement && activeElement !== document.body) {\n      this.focusHistory.unshift(activeElement);\n      if (this.focusHistory.length > this.maxHistorySize) {\n        this.focusHistory.pop();\n      }\n    }\n  }\n\n  /**\n   * Restore previous focus\n   */\n  restoreFocus(): boolean {\n    const previousElement = this.focusHistory.shift();\n    if (previousElement && document.contains(previousElement)) {\n      previousElement.focus();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Clear focus history\n   */\n  clearHistory(): void {\n    this.focusHistory = [];\n  }\n\n  /**\n   * Get focus history\n   */\n  getHistory(): HTMLElement[] {\n    return [...this.focusHistory];\n  }\n\n  /**\n   * Focus first focusable element in container\n   */\n  focusFirst(container: HTMLElement): boolean {\n    const firstFocusable = this.getFocusableElements(container)[0];\n    if (firstFocusable) {\n      firstFocusable.focus();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Focus last focusable element in container\n   */\n  focusLast(container: HTMLElement): boolean {\n    const focusableElements = this.getFocusableElements(container);\n    const lastFocusable = focusableElements[focusableElements.length - 1];\n    if (lastFocusable) {\n      lastFocusable.focus();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Focus next focusable element\n   */\n  focusNext(container: HTMLElement, currentElement?: HTMLElement): boolean {\n    const focusableElements = this.getFocusableElements(container);\n    const current = currentElement || (document.activeElement as HTMLElement);\n    const currentIndex = focusableElements.indexOf(current);\n    \n    if (currentIndex >= 0 && currentIndex < focusableElements.length - 1) {\n      focusableElements[currentIndex + 1].focus();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Focus previous focusable element\n   */\n  focusPrevious(container: HTMLElement, currentElement?: HTMLElement): boolean {\n    const focusableElements = this.getFocusableElements(container);\n    const current = currentElement || (document.activeElement as HTMLElement);\n    const currentIndex = focusableElements.indexOf(current);\n    \n    if (currentIndex > 0) {\n      focusableElements[currentIndex - 1].focus();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Get all focusable elements within a container\n   */\n  getFocusableElements(container: HTMLElement): HTMLElement[] {\n    const focusableSelectors = [\n      'a[href]',\n      'button:not([disabled])',\n      'textarea:not([disabled])',\n      'input:not([disabled]):not([type=\"hidden\"])',\n      'select:not([disabled])',\n      '[tabindex]:not([tabindex=\"-1\"])',\n      '[contenteditable=\"true\"]',\n      'summary',\n      'iframe',\n      'object',\n      'embed',\n      'area[href]',\n      'audio[controls]',\n      'video[controls]',\n      '[draggable=\"true\"]'\n    ];\n\n    const elements = Array.from(\n      container.querySelectorAll(focusableSelectors.join(','))\n    ) as HTMLElement[];\n\n    return elements.filter(element => {\n      // Check if element is visible and not disabled\n      return this.isElementFocusable(element);\n    });\n  }\n\n  /**\n   * Check if an element is focusable\n   */\n  isElementFocusable(element: HTMLElement): boolean {\n    // Check if element is visible\n    if (element.offsetWidth === 0 && element.offsetHeight === 0) {\n      return false;\n    }\n\n    // Check if element or parents have display: none or visibility: hidden\n    let current: HTMLElement | null = element;\n    while (current) {\n      const style = window.getComputedStyle(current);\n      if (style.display === 'none' || style.visibility === 'hidden') {\n        return false;\n      }\n      current = current.parentElement;\n    }\n\n    // Check for disabled state\n    if ('disabled' in element && (element as any).disabled) {\n      return false;\n    }\n\n    // Check for negative tabindex (unless it's -1 which can still be programmatically focused)\n    const tabindex = element.getAttribute('tabindex');\n    if (tabindex && parseInt(tabindex, 10) < -1) {\n      return false;\n    }\n\n    return true;\n  }\n}\n\n/**\n * Focus trap implementation for modals and dialogs\n */\nexport class FocusTrap {\n  private container: HTMLElement;\n  private firstFocusable: HTMLElement | null = null;\n  private lastFocusable: HTMLElement | null = null;\n  private previousActiveElement: HTMLElement | null = null;\n  private focusManager: FocusManager;\n  private keydownHandler: (event: KeyboardEvent) => void;\n\n  constructor(container: HTMLElement, focusManager: FocusManager) {\n    this.container = container;\n    this.focusManager = focusManager;\n    this.keydownHandler = this.handleKeydown.bind(this);\n  }\n\n  /**\n   * Activate focus trap\n   */\n  activate(): void {\n    this.previousActiveElement = document.activeElement as HTMLElement;\n    this.updateFocusableElements();\n    \n    // Focus first element or container\n    if (this.firstFocusable) {\n      this.firstFocusable.focus();\n    } else if (this.container.tabIndex >= 0) {\n      this.container.focus();\n    }\n\n    // Add keydown listener\n    document.addEventListener('keydown', this.keydownHandler, true);\n    \n    // Set aria-hidden on siblings\n    this.setSiblingAriaHidden(true);\n  }\n\n  /**\n   * Deactivate focus trap\n   */\n  deactivate(): void {\n    document.removeEventListener('keydown', this.keydownHandler, true);\n    \n    // Restore aria-hidden on siblings\n    this.setSiblingAriaHidden(false);\n    \n    // Restore previous focus\n    if (this.previousActiveElement && document.contains(this.previousActiveElement)) {\n      this.previousActiveElement.focus();\n    }\n  }\n\n  /**\n   * Update focusable elements within trap\n   */\n  private updateFocusableElements(): void {\n    const focusableElements = this.focusManager.getFocusableElements(this.container);\n    this.firstFocusable = focusableElements[0] || null;\n    this.lastFocusable = focusableElements[focusableElements.length - 1] || null;\n  }\n\n  /**\n   * Handle keydown events for focus trap\n   */\n  private handleKeydown(event: KeyboardEvent): void {\n    if (event.key !== 'Tab') return;\n\n    // Update focusable elements (in case DOM changed)\n    this.updateFocusableElements();\n\n    if (!this.firstFocusable && !this.lastFocusable) {\n      // No focusable elements, prevent tabbing\n      event.preventDefault();\n      return;\n    }\n\n    if (event.shiftKey) {\n      // Shift + Tab (backward)\n      if (document.activeElement === this.firstFocusable) {\n        event.preventDefault();\n        this.lastFocusable?.focus();\n      }\n    } else {\n      // Tab (forward)\n      if (document.activeElement === this.lastFocusable) {\n        event.preventDefault();\n        this.firstFocusable?.focus();\n      }\n    }\n  }\n\n  /**\n   * Set aria-hidden on sibling elements\n   */\n  private setSiblingAriaHidden(hidden: boolean): void {\n    const siblings = Array.from(document.body.children) as HTMLElement[];\n    siblings.forEach(sibling => {\n      if (sibling !== this.container && !this.container.contains(sibling)) {\n        if (hidden) {\n          sibling.setAttribute('aria-hidden', 'true');\n          sibling.setAttribute('data-focus-trap-hidden', 'true');\n        } else if (sibling.getAttribute('data-focus-trap-hidden')) {\n          sibling.removeAttribute('aria-hidden');\n          sibling.removeAttribute('data-focus-trap-hidden');\n        }\n      }\n    });\n  }\n}\n\n/**\n * Roving tabindex implementation for complex widgets\n */\nexport class RovingTabindex {\n  private container: HTMLElement;\n  private items: HTMLElement[] = [];\n  private currentIndex = 0;\n  private orientation: 'horizontal' | 'vertical' | 'both' = 'both';\n  private wrap = true;\n  private keydownHandler: (event: KeyboardEvent) => void;\n\n  constructor(\n    container: HTMLElement,\n    options: {\n      orientation?: 'horizontal' | 'vertical' | 'both';\n      wrap?: boolean;\n    } = {}\n  ) {\n    this.container = container;\n    this.orientation = options.orientation || 'both';\n    this.wrap = options.wrap !== false;\n    this.keydownHandler = this.handleKeydown.bind(this);\n  }\n\n  /**\n   * Initialize roving tabindex\n   */\n  initialize(itemSelector?: string): void {\n    this.updateItems(itemSelector);\n    this.updateTabindices();\n    this.container.addEventListener('keydown', this.keydownHandler);\n    this.container.addEventListener('focusin', this.handleFocusin.bind(this));\n  }\n\n  /**\n   * Update items list\n   */\n  updateItems(itemSelector?: string): void {\n    const selector = itemSelector || '[role=\"tab\"], [role=\"option\"], [role=\"gridcell\"], [role=\"menuitem\"]';\n    this.items = Array.from(this.container.querySelectorAll(selector)) as HTMLElement[];\n  }\n\n  /**\n   * Update tabindex attributes\n   */\n  private updateTabindices(): void {\n    this.items.forEach((item, index) => {\n      item.setAttribute('tabindex', index === this.currentIndex ? '0' : '-1');\n    });\n  }\n\n  /**\n   * Move to specific index\n   */\n  moveTo(index: number): void {\n    if (index >= 0 && index < this.items.length) {\n      this.currentIndex = index;\n      this.updateTabindices();\n      this.items[index].focus();\n    }\n  }\n\n  /**\n   * Move to next item\n   */\n  moveNext(): void {\n    let nextIndex = this.currentIndex + 1;\n    if (nextIndex >= this.items.length) {\n      nextIndex = this.wrap ? 0 : this.items.length - 1;\n    }\n    this.moveTo(nextIndex);\n  }\n\n  /**\n   * Move to previous item\n   */\n  movePrevious(): void {\n    let previousIndex = this.currentIndex - 1;\n    if (previousIndex < 0) {\n      previousIndex = this.wrap ? this.items.length - 1 : 0;\n    }\n    this.moveTo(previousIndex);\n  }\n\n  /**\n   * Move to first item\n   */\n  moveFirst(): void {\n    this.moveTo(0);\n  }\n\n  /**\n   * Move to last item\n   */\n  moveLast(): void {\n    this.moveTo(this.items.length - 1);\n  }\n\n  /**\n   * Handle keydown events\n   */\n  private handleKeydown(event: KeyboardEvent): void {\n    const { key } = event;\n    let handled = false;\n\n    switch (key) {\n      case 'ArrowRight':\n        if (this.orientation === 'horizontal' || this.orientation === 'both') {\n          this.moveNext();\n          handled = true;\n        }\n        break;\n      case 'ArrowLeft':\n        if (this.orientation === 'horizontal' || this.orientation === 'both') {\n          this.movePrevious();\n          handled = true;\n        }\n        break;\n      case 'ArrowDown':\n        if (this.orientation === 'vertical' || this.orientation === 'both') {\n          this.moveNext();\n          handled = true;\n        }\n        break;\n      case 'ArrowUp':\n        if (this.orientation === 'vertical' || this.orientation === 'both') {\n          this.movePrevious();\n          handled = true;\n        }\n        break;\n      case 'Home':\n        this.moveFirst();\n        handled = true;\n        break;\n      case 'End':\n        this.moveLast();\n        handled = true;\n        break;\n    }\n\n    if (handled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  /**\n   * Handle focus events\n   */\n  private handleFocusin(event: FocusEvent): void {\n    const target = event.target as HTMLElement;\n    const index = this.items.indexOf(target);\n    if (index >= 0) {\n      this.currentIndex = index;\n      this.updateTabindices();\n    }\n  }\n\n  /**\n   * Destroy roving tabindex\n   */\n  destroy(): void {\n    this.container.removeEventListener('keydown', this.keydownHandler);\n    this.container.removeEventListener('focusin', this.handleFocusin.bind(this));\n    \n    // Reset all tabindex values\n    this.items.forEach(item => {\n      item.removeAttribute('tabindex');\n    });\n  }\n}\n\n/**\n * Main Keyboard Navigation Manager\n */\nexport class KeyboardNavigationManager {\n  private focusManager: FocusManager;\n  private activeFocusTraps: Map<HTMLElement, FocusTrap> = new Map();\n  private activeRovingTabindices: Map<HTMLElement, RovingTabindex> = new Map();\n\n  constructor() {\n    this.focusManager = new FocusManager();\n  }\n\n  /**\n   * Initialize keyboard navigation\n   */\n  initialize(): void {\n    // Setup global keyboard shortcuts\n    document.addEventListener('keydown', this.handleGlobalKeydown.bind(this));\n  }\n\n  /**\n   * Create and activate focus trap\n   */\n  trapFocus(container: HTMLElement): () => void {\n    const existingTrap = this.activeFocusTraps.get(container);\n    if (existingTrap) {\n      existingTrap.deactivate();\n    }\n\n    const trap = new FocusTrap(container, this.focusManager);\n    trap.activate();\n    this.activeFocusTraps.set(container, trap);\n\n    // Return cleanup function\n    return () => {\n      trap.deactivate();\n      this.activeFocusTraps.delete(container);\n    };\n  }\n\n  /**\n   * Create roving tabindex for container\n   */\n  createRovingTabindex(\n    container: HTMLElement,\n    options?: {\n      orientation?: 'horizontal' | 'vertical' | 'both';\n      wrap?: boolean;\n      itemSelector?: string;\n    }\n  ): RovingTabindex {\n    const existingRoving = this.activeRovingTabindices.get(container);\n    if (existingRoving) {\n      existingRoving.destroy();\n    }\n\n    const roving = new RovingTabindex(container, options);\n    roving.initialize(options?.itemSelector);\n    this.activeRovingTabindices.set(container, roving);\n\n    return roving;\n  }\n\n  /**\n   * Save current focus\n   */\n  saveFocus(element?: HTMLElement): void {\n    this.focusManager.saveFocus(element);\n  }\n\n  /**\n   * Restore previous focus\n   */\n  restoreFocus(): boolean {\n    return this.focusManager.restoreFocus();\n  }\n\n  /**\n   * Get focus manager\n   */\n  getFocusManager(): FocusManager {\n    return this.focusManager;\n  }\n\n  /**\n   * Validate element for keyboard accessibility\n   */\n  validateElement(element: HTMLElement): string[] {\n    const issues: string[] = [];\n\n    // Check if interactive element is keyboard accessible\n    if (this.isInteractiveElement(element)) {\n      if (!this.isKeyboardAccessible(element)) {\n        issues.push('Interactive element is not keyboard accessible');\n      }\n    }\n\n    // Check for proper focus indicators\n    if (element.matches(':focus-visible') && !this.hasFocusIndicator(element)) {\n      issues.push('Element lacks visible focus indicator');\n    }\n\n    return issues;\n  }\n\n  /**\n   * Handle global keyboard events\n   */\n  private handleGlobalKeydown(event: KeyboardEvent): void {\n    // Handle F6 for landmark navigation\n    if (event.key === 'F6') {\n      event.preventDefault();\n      this.navigateLandmarks(event.shiftKey);\n    }\n\n    // Handle Alt+F6 for heading navigation\n    if (event.altKey && event.key === 'F6') {\n      event.preventDefault();\n      this.navigateHeadings(event.shiftKey);\n    }\n  }\n\n  /**\n   * Navigate between landmarks\n   */\n  private navigateLandmarks(reverse = false): void {\n    const landmarks = document.querySelectorAll('[role=\"banner\"], [role=\"navigation\"], [role=\"main\"], [role=\"contentinfo\"], [role=\"complementary\"], [role=\"search\"], [role=\"form\"], [role=\"region\"], main, nav, header, footer, aside, section[aria-label], section[aria-labelledby]');\n    const landmarkArray = Array.from(landmarks) as HTMLElement[];\n    \n    if (landmarkArray.length === 0) return;\n\n    const currentIndex = landmarkArray.findIndex(landmark => \n      landmark.contains(document.activeElement) || landmark === document.activeElement\n    );\n\n    let nextIndex: number;\n    if (currentIndex === -1) {\n      nextIndex = reverse ? landmarkArray.length - 1 : 0;\n    } else {\n      nextIndex = reverse \n        ? (currentIndex - 1 + landmarkArray.length) % landmarkArray.length\n        : (currentIndex + 1) % landmarkArray.length;\n    }\n\n    const nextLandmark = landmarkArray[nextIndex];\n    if (nextLandmark.tabIndex >= 0) {\n      nextLandmark.focus();\n    } else {\n      const firstFocusable = this.focusManager.getFocusableElements(nextLandmark)[0];\n      if (firstFocusable) {\n        firstFocusable.focus();\n      } else {\n        nextLandmark.setAttribute('tabindex', '-1');\n        nextLandmark.focus();\n      }\n    }\n  }\n\n  /**\n   * Navigate between headings\n   */\n  private navigateHeadings(reverse = false): void {\n    const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6, [role=\"heading\"]');\n    const headingArray = Array.from(headings) as HTMLElement[];\n    \n    if (headingArray.length === 0) return;\n\n    const currentIndex = headingArray.findIndex(heading => \n      heading.contains(document.activeElement) || heading === document.activeElement\n    );\n\n    let nextIndex: number;\n    if (currentIndex === -1) {\n      nextIndex = reverse ? headingArray.length - 1 : 0;\n    } else {\n      nextIndex = reverse \n        ? (currentIndex - 1 + headingArray.length) % headingArray.length\n        : (currentIndex + 1) % headingArray.length;\n    }\n\n    const nextHeading = headingArray[nextIndex];\n    nextHeading.setAttribute('tabindex', '-1');\n    nextHeading.focus();\n  }\n\n  /**\n   * Check if element is interactive\n   */\n  private isInteractiveElement(element: HTMLElement): boolean {\n    const interactiveRoles = [\n      'button', 'link', 'textbox', 'checkbox', 'radio', 'combobox', 'listbox',\n      'menu', 'menuitem', 'tab', 'tabpanel', 'option', 'gridcell', 'slider'\n    ];\n\n    const tagName = element.tagName.toLowerCase();\n    const role = element.getAttribute('role');\n\n    return (\n      ['a', 'button', 'input', 'select', 'textarea'].includes(tagName) ||\n      (role && interactiveRoles.includes(role)) ||\n      element.hasAttribute('onclick') ||\n      element.hasAttribute('onkeydown') ||\n      element.tabIndex >= 0\n    );\n  }\n\n  /**\n   * Check if element is keyboard accessible\n   */\n  private isKeyboardAccessible(element: HTMLElement): boolean {\n    // Check if element can receive focus\n    const focusableElements = this.focusManager.getFocusableElements(document.body);\n    return focusableElements.includes(element);\n  }\n\n  /**\n   * Check if element has visible focus indicator\n   */\n  private hasFocusIndicator(element: HTMLElement): boolean {\n    const computedStyle = window.getComputedStyle(element);\n    \n    // Check for outline\n    if (computedStyle.outline !== 'none' && computedStyle.outline !== '0px') {\n      return true;\n    }\n\n    // Check for box-shadow (common for custom focus indicators)\n    if (computedStyle.boxShadow !== 'none') {\n      return true;\n    }\n\n    // Check for border changes\n    const originalBorder = computedStyle.border;\n    element.classList.add('focus-test');\n    const focusStyle = window.getComputedStyle(element);\n    element.classList.remove('focus-test');\n    \n    return focusStyle.border !== originalBorder;\n  }\n\n  /**\n   * Cleanup all keyboard navigation\n   */\n  destroy(): void {\n    // Deactivate all focus traps\n    this.activeFocusTraps.forEach(trap => trap.deactivate());\n    this.activeFocusTraps.clear();\n\n    // Destroy all roving tabindices\n    this.activeRovingTabindices.forEach(roving => roving.destroy());\n    this.activeRovingTabindices.clear();\n\n    // Clear focus history\n    this.focusManager.clearHistory();\n  }\n}\n\n/**\n * Keyboard shortcut configuration\n */\nexport interface KeyboardShortcut {\n  key: string;\n  ctrlKey?: boolean;\n  altKey?: boolean;\n  shiftKey?: boolean;\n  metaKey?: boolean;\n  description: string;\n  action: () => void;\n}\n\n/**\n * Keyboard shortcuts manager\n */\nexport class KeyboardShortcutsManager {\n  private shortcuts: Map<string, KeyboardShortcut> = new Map();\n  private keydownHandler: (event: KeyboardEvent) => void;\n\n  constructor() {\n    this.keydownHandler = this.handleKeydown.bind(this);\n  }\n\n  /**\n   * Register a keyboard shortcut\n   */\n  register(shortcut: KeyboardShortcut): void {\n    const key = this.getShortcutKey(shortcut);\n    this.shortcuts.set(key, shortcut);\n  }\n\n  /**\n   * Unregister a keyboard shortcut\n   */\n  unregister(shortcut: Partial<KeyboardShortcut>): void {\n    const key = this.getShortcutKey(shortcut);\n    this.shortcuts.delete(key);\n  }\n\n  /**\n   * Start listening for keyboard shortcuts\n   */\n  start(): void {\n    document.addEventListener('keydown', this.keydownHandler);\n  }\n\n  /**\n   * Stop listening for keyboard shortcuts\n   */\n  stop(): void {\n    document.removeEventListener('keydown', this.keydownHandler);\n  }\n\n  /**\n   * Get all registered shortcuts\n   */\n  getShortcuts(): KeyboardShortcut[] {\n    return Array.from(this.shortcuts.values());\n  }\n\n  /**\n   * Handle keydown events\n   */\n  private handleKeydown(event: KeyboardEvent): void {\n    const key = this.getEventKey(event);\n    const shortcut = this.shortcuts.get(key);\n    \n    if (shortcut) {\n      event.preventDefault();\n      shortcut.action();\n    }\n  }\n\n  /**\n   * Generate shortcut key from shortcut object\n   */\n  private getShortcutKey(shortcut: Partial<KeyboardShortcut>): string {\n    const parts: string[] = [];\n    \n    if (shortcut.ctrlKey) parts.push('Ctrl');\n    if (shortcut.altKey) parts.push('Alt');\n    if (shortcut.shiftKey) parts.push('Shift');\n    if (shortcut.metaKey) parts.push('Meta');\n    if (shortcut.key) parts.push(shortcut.key);\n    \n    return parts.join('+');\n  }\n\n  /**\n   * Generate key from keyboard event\n   */\n  private getEventKey(event: KeyboardEvent): string {\n    const parts: string[] = [];\n    \n    if (event.ctrlKey) parts.push('Ctrl');\n    if (event.altKey) parts.push('Alt');\n    if (event.shiftKey) parts.push('Shift');\n    if (event.metaKey) parts.push('Meta');\n    parts.push(event.key);\n    \n    return parts.join('+');\n  }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1717, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/components/accessibility/focus-trap.tsx"],"sourcesContent":["/**\n * Focus Trap Component\n * \n * Provides focus trapping for modals, dialogs, and other overlay components\n * to ensure WCAG 2.1 AA compliance and proper keyboard navigation.\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/utils';\nimport { FocusTrap as FocusTrapUtil, FocusManager } from '@/lib/accessibility/keyboard';\n\n/**\n * Focus trap configuration\n */\nexport interface FocusTrapConfig {\n  /** Automatically focus first element on mount */\n  autoFocus?: boolean;\n  /** Restore focus when trap is deactivated */\n  restoreFocus?: boolean;\n  /** Prevent scrolling on elements outside the trap */\n  preventScroll?: boolean;\n  /** Set aria-hidden on sibling elements */\n  hideOthers?: boolean;\n  /** Initial element to focus (selector or element) */\n  initialFocus?: string | HTMLElement;\n  /** Fallback element to focus if initialFocus is not found */\n  fallbackFocus?: string | HTMLElement;\n  /** Elements to include in the focus trap even if outside container */\n  additionalElements?: string | HTMLElement[];\n}\n\n/**\n * Focus trap component props\n */\nexport interface FocusTrapProps {\n  /** Whether the focus trap is active */\n  active: boolean;\n  /** Focus trap configuration */\n  config?: FocusTrapConfig;\n  /** Additional CSS classes */\n  className?: string;\n  /** Component children */\n  children: React.ReactNode;\n  /** Callback when trap is activated */\n  onActivate?: () => void;\n  /** Callback when trap is deactivated */\n  onDeactivate?: () => void;\n  /** Callback when focus moves outside trap (escape attempt) */\n  onEscapeAttempt?: () => void;\n}\n\n/**\n * Focus trap hook for managing focus behavior\n */\nexport const useFocusTrap = (config: FocusTrapConfig = {}) => {\n  const containerRef = React.useRef<HTMLElement>(null);\n  const focusTrapRef = React.useRef<FocusTrapUtil | null>(null);\n  const focusManagerRef = React.useRef<FocusManager>(new FocusManager());\n  const previousActiveElement = React.useRef<HTMLElement | null>(null);\n  const additionalElementsRef = React.useRef<HTMLElement[]>([]);\n\n  const {\n    autoFocus = true,\n    restoreFocus = true,\n    preventScroll = true,\n    hideOthers = true,\n    initialFocus,\n    fallbackFocus,\n    additionalElements,\n  } = config;\n\n  /**\n   * Activate focus trap\n   */\n  const activate = React.useCallback(() => {\n    const container = containerRef.current;\n    if (!container) return false;\n\n    try {\n      // Store current active element for restoration\n      previousActiveElement.current = document.activeElement as HTMLElement;\n\n      // Create focus trap\n      focusTrapRef.current = new FocusTrapUtil(container, focusManagerRef.current);\n      \n      // Process additional elements\n      if (additionalElements) {\n        const elements = typeof additionalElements === 'string' \n          ? Array.from(document.querySelectorAll(additionalElements)) as HTMLElement[]\n          : Array.isArray(additionalElements) \n            ? additionalElements \n            : [additionalElements];\n        \n        additionalElementsRef.current = elements;\n      }\n\n      // Activate trap\n      focusTrapRef.current.activate();\n\n      // Handle initial focus\n      if (autoFocus) {\n        requestAnimationFrame(() => {\n          let targetElement: HTMLElement | null = null;\n\n          // Try initial focus element\n          if (initialFocus) {\n            if (typeof initialFocus === 'string') {\n              targetElement = container.querySelector(initialFocus);\n            } else {\n              targetElement = initialFocus;\n            }\n          }\n\n          // Try fallback focus element\n          if (!targetElement && fallbackFocus) {\n            if (typeof fallbackFocus === 'string') {\n              targetElement = container.querySelector(fallbackFocus);\n            } else {\n              targetElement = fallbackFocus;\n            }\n          }\n\n          // Use first focusable element as final fallback\n          if (!targetElement) {\n            const focusableElements = focusManagerRef.current.getFocusableElements(container);\n            targetElement = focusableElements[0] || container;\n          }\n\n          if (targetElement) {\n            targetElement.focus();\n          }\n        });\n      }\n\n      // Handle scroll prevention\n      if (preventScroll) {\n        document.body.style.overflow = 'hidden';\n      }\n\n      return true;\n    } catch (error) {\n      console.error('Failed to activate focus trap:', error);\n      return false;\n    }\n  }, [autoFocus, initialFocus, fallbackFocus, additionalElements, preventScroll]);\n\n  /**\n   * Deactivate focus trap\n   */\n  const deactivate = React.useCallback(() => {\n    try {\n      // Deactivate trap\n      if (focusTrapRef.current) {\n        focusTrapRef.current.deactivate();\n        focusTrapRef.current = null;\n      }\n\n      // Restore focus\n      if (restoreFocus && previousActiveElement.current) {\n        if (document.contains(previousActiveElement.current)) {\n          previousActiveElement.current.focus();\n        }\n        previousActiveElement.current = null;\n      }\n\n      // Restore scroll\n      if (preventScroll) {\n        document.body.style.overflow = '';\n      }\n\n      // Clear additional elements\n      additionalElementsRef.current = [];\n\n      return true;\n    } catch (error) {\n      console.error('Failed to deactivate focus trap:', error);\n      return false;\n    }\n  }, [restoreFocus, preventScroll]);\n\n  /**\n   * Check if focus is within trap\n   */\n  const isActive = React.useCallback(() => {\n    return !!focusTrapRef.current;\n  }, []);\n\n  /**\n   * Get focusable elements in trap\n   */\n  const getFocusableElements = React.useCallback(() => {\n    const container = containerRef.current;\n    if (!container) return [];\n    \n    return focusManagerRef.current.getFocusableElements(container);\n  }, []);\n\n  return {\n    containerRef,\n    activate,\n    deactivate,\n    isActive,\n    getFocusableElements,\n  };\n};\n\n/**\n * Focus Trap Component\n */\nexport const FocusTrap: React.FC<FocusTrapProps> = ({\n  active,\n  config = {},\n  className,\n  children,\n  onActivate,\n  onDeactivate,\n  onEscapeAttempt,\n}) => {\n  const {\n    containerRef,\n    activate,\n    deactivate,\n    isActive,\n  } = useFocusTrap(config);\n\n  // Handle active state changes\n  React.useEffect(() => {\n    if (active && !isActive()) {\n      const success = activate();\n      if (success && onActivate) {\n        onActivate();\n      }\n    } else if (!active && isActive()) {\n      const success = deactivate();\n      if (success && onDeactivate) {\n        onDeactivate();\n      }\n    }\n  }, [active, activate, deactivate, isActive, onActivate, onDeactivate]);\n\n  // Handle escape key\n  React.useEffect(() => {\n    if (!active) return;\n\n    const handleKeydown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        event.stopPropagation();\n        \n        if (onEscapeAttempt) {\n          onEscapeAttempt();\n        } else {\n          deactivate();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleKeydown, true);\n    return () => document.removeEventListener('keydown', handleKeydown, true);\n  }, [active, onEscapeAttempt, deactivate]);\n\n  // Cleanup on unmount\n  React.useEffect(() => {\n    return () => {\n      if (isActive()) {\n        deactivate();\n      }\n    };\n  }, [deactivate, isActive]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn(\n        'focus-trap',\n        active && 'focus-trap-active',\n        className\n      )}\n      data-focus-trap={active ? 'true' : 'false'}\n    >\n      {children}\n    </div>\n  );\n};\n\n/**\n * Modal Focus Trap Component\n * \n * Pre-configured focus trap specifically for modal dialogs\n */\nexport const ModalFocusTrap: React.FC<{\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  description?: string;\n  className?: string;\n  children: React.ReactNode;\n}> = ({\n  isOpen,\n  onClose,\n  title,\n  description,\n  className,\n  children,\n}) => {\n  const titleId = React.useId();\n  const descriptionId = React.useId();\n\n  return (\n    <FocusTrap\n      active={isOpen}\n      config={{\n        autoFocus: true,\n        restoreFocus: true,\n        preventScroll: true,\n        hideOthers: true,\n        initialFocus: '[data-modal-close], button',\n        fallbackFocus: '[tabindex=\"0\"], button, input, select, textarea, [href]',\n      }}\n      onEscapeAttempt={onClose}\n      className={cn('modal-focus-trap', className)}\n    >\n      <div\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={title ? titleId : undefined}\n        aria-describedby={description ? descriptionId : undefined}\n        className={cn(\n          'fixed inset-0 z-50 flex items-center justify-center',\n          'bg-black/50 backdrop-blur-sm',\n          isOpen ? 'visible opacity-100' : 'invisible opacity-0',\n          'transition-all duration-200'\n        )}\n        onClick={(e) => e.target === e.currentTarget && onClose()}\n      >\n        <div\n          className={cn(\n            'bg-background rounded-lg shadow-xl border',\n            'max-w-lg w-full max-h-[90vh] overflow-auto',\n            'mx-4 p-6',\n            'focus:outline-none',\n            isOpen ? 'scale-100' : 'scale-95',\n            'transition-transform duration-200'\n          )}\n          tabIndex={-1}\n        >\n          {title && (\n            <h2\n              id={titleId}\n              className=\"text-xl font-semibold mb-4\"\n            >\n              {title}\n            </h2>\n          )}\n          \n          {description && (\n            <p\n              id={descriptionId}\n              className=\"text-muted-foreground mb-4\"\n            >\n              {description}\n            </p>\n          )}\n          \n          {children}\n          \n          {/* Close button for keyboard users */}\n          <button\n            data-modal-close\n            onClick={onClose}\n            className=\"absolute top-4 right-4 p-2 rounded-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring sr-only focus:not-sr-only\"\n            aria-label=\"Close dialog\"\n          >\n            <span aria-hidden=\"true\">×</span>\n          </button>\n        </div>\n      </div>\n    </FocusTrap>\n  );\n};\n\n/**\n * Drawer Focus Trap Component\n * \n * Pre-configured focus trap for drawer/sidebar components\n */\nexport const DrawerFocusTrap: React.FC<{\n  isOpen: boolean;\n  onClose: () => void;\n  side?: 'left' | 'right' | 'top' | 'bottom';\n  className?: string;\n  children: React.ReactNode;\n}> = ({\n  isOpen,\n  onClose,\n  side = 'right',\n  className,\n  children,\n}) => {\n  return (\n    <FocusTrap\n      active={isOpen}\n      config={{\n        autoFocus: true,\n        restoreFocus: true,\n        preventScroll: true,\n        hideOthers: true,\n        initialFocus: 'button, [href], input, select, textarea, [tabindex=\"0\"]',\n      }}\n      onEscapeAttempt={onClose}\n      className={cn('drawer-focus-trap', className)}\n    >\n      <div\n        className={cn(\n          'fixed inset-0 z-50',\n          isOpen ? 'visible' : 'invisible'\n        )}\n      >\n        {/* Backdrop */}\n        <div\n          className={cn(\n            'absolute inset-0 bg-black/50 backdrop-blur-sm',\n            isOpen ? 'opacity-100' : 'opacity-0',\n            'transition-opacity duration-300'\n          )}\n          onClick={onClose}\n        />\n        \n        {/* Drawer */}\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          className={cn(\n            'absolute bg-background shadow-xl border',\n            'transition-transform duration-300',\n            // Position based on side\n            side === 'left' && [\n              'left-0 top-0 bottom-0 w-80 max-w-[80vw]',\n              isOpen ? 'translate-x-0' : '-translate-x-full'\n            ],\n            side === 'right' && [\n              'right-0 top-0 bottom-0 w-80 max-w-[80vw]',\n              isOpen ? 'translate-x-0' : 'translate-x-full'\n            ],\n            side === 'top' && [\n              'top-0 left-0 right-0 h-80 max-h-[80vh]',\n              isOpen ? 'translate-y-0' : '-translate-y-full'\n            ],\n            side === 'bottom' && [\n              'bottom-0 left-0 right-0 h-80 max-h-[80vh]',\n              isOpen ? 'translate-y-0' : 'translate-y-full'\n            ]\n          )}\n          tabIndex={-1}\n        >\n          <div className=\"p-6 h-full overflow-auto\">\n            {children}\n            \n            {/* Close button */}\n            <button\n              onClick={onClose}\n              className=\"absolute top-4 right-4 p-2 rounded-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring\"\n              aria-label=\"Close drawer\"\n            >\n              <span aria-hidden=\"true\">×</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </FocusTrap>\n  );\n};\n\n/**\n * Popover Focus Trap Component\n * \n * Pre-configured focus trap for popover components\n */\nexport const PopoverFocusTrap: React.FC<{\n  isOpen: boolean;\n  onClose: () => void;\n  trigger?: HTMLElement | null;\n  className?: string;\n  children: React.ReactNode;\n}> = ({\n  isOpen,\n  onClose,\n  trigger,\n  className,\n  children,\n}) => {\n  const popoverRef = React.useRef<HTMLDivElement>(null);\n\n  // Position popover relative to trigger\n  React.useEffect(() => {\n    if (!isOpen || !trigger || !popoverRef.current) return;\n\n    const updatePosition = () => {\n      const triggerRect = trigger.getBoundingClientRect();\n      const popoverElement = popoverRef.current;\n      \n      if (popoverElement) {\n        popoverElement.style.top = `${triggerRect.bottom + 8}px`;\n        popoverElement.style.left = `${triggerRect.left}px`;\n      }\n    };\n\n    updatePosition();\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', updatePosition);\n\n    return () => {\n      window.removeEventListener('resize', updatePosition);\n      window.removeEventListener('scroll', updatePosition);\n    };\n  }, [isOpen, trigger]);\n\n  return (\n    <FocusTrap\n      active={isOpen}\n      config={{\n        autoFocus: true,\n        restoreFocus: true,\n        preventScroll: false,\n        hideOthers: false,\n      }}\n      onEscapeAttempt={onClose}\n      className={cn('popover-focus-trap', className)}\n    >\n      <div\n        ref={popoverRef}\n        role=\"dialog\"\n        aria-modal=\"false\"\n        className={cn(\n          'fixed z-50 bg-background rounded-md shadow-lg border p-4',\n          'min-w-48 max-w-sm',\n          isOpen ? 'visible opacity-100 scale-100' : 'invisible opacity-0 scale-95',\n          'transition-all duration-200'\n        )}\n        tabIndex={-1}\n      >\n        {children}\n      </div>\n    </FocusTrap>\n  );\n};\n\n/**\n * Focus Guard Component\n * \n * Invisible elements that help manage focus in complex layouts\n */\nexport const FocusGuard: React.FC<{\n  onFocus?: () => void;\n  className?: string;\n}> = ({ onFocus, className }) => {\n  return (\n    <div\n      tabIndex={-1}\n      onFocus={onFocus}\n      className={cn('focus-guard sr-only', className)}\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: 1,\n        height: 1,\n        padding: 0,\n        margin: 0,\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n      }}\n    />\n  );\n};\n\n/**\n * Focus Lock Component\n * \n * Alternative implementation using react-focus-lock\n */\nexport const FocusLock: React.FC<{\n  disabled?: boolean;\n  autoFocus?: boolean;\n  restoreFocus?: boolean;\n  className?: string;\n  children: React.ReactNode;\n}> = ({\n  disabled = false,\n  autoFocus = true,\n  restoreFocus = true,\n  className,\n  children,\n}) => {\n  // This would use react-focus-lock if available\n  // For now, we'll use our custom implementation\n  return (\n    <FocusTrap\n      active={!disabled}\n      config={{\n        autoFocus,\n        restoreFocus,\n        preventScroll: false,\n        hideOthers: false,\n      }}\n      className={className}\n    >\n      {children}\n    </FocusTrap>\n  );\n};\n\n// Export default as FocusTrap\nexport default FocusTrap;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2265, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/components/accessibility/keyboard-shortcuts.tsx"],"sourcesContent":["/**\n * Keyboard Shortcuts Component\n * \n * Provides discoverable keyboard shortcuts overlay and management\n * to enhance keyboard navigation accessibility.\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/utils';\nimport { FocusTrap } from './focus-trap';\n\n/**\n * Keyboard shortcut definition\n */\nexport interface KeyboardShortcut {\n  /** Unique identifier */\n  id: string;\n  /** Shortcut key combination */\n  keys: string[];\n  /** Human-readable description */\n  description: string;\n  /** Category for grouping */\n  category?: string;\n  /** Handler function */\n  handler: (event: KeyboardEvent) => void;\n  /** Whether shortcut is enabled */\n  enabled?: boolean;\n  /** Whether shortcut should prevent default */\n  preventDefault?: boolean;\n  /** Context where shortcut is active */\n  context?: string;\n  /** Platform-specific variations */\n  platforms?: {\n    mac?: string[];\n    windows?: string[];\n    linux?: string[];\n  };\n}\n\n/**\n * Shortcut category definition\n */\nexport interface ShortcutCategory {\n  id: string;\n  name: string;\n  description?: string;\n  priority?: number;\n}\n\n/**\n * Keyboard shortcuts provider props\n */\nexport interface KeyboardShortcutsProviderProps {\n  shortcuts?: KeyboardShortcut[];\n  categories?: ShortcutCategory[];\n  globalShortcuts?: boolean;\n  showHelp?: boolean;\n  helpKey?: string[];\n  children: React.ReactNode;\n}\n\n/**\n * Keyboard shortcuts context\n */\nexport interface KeyboardShortcutsContextValue {\n  shortcuts: KeyboardShortcut[];\n  categories: ShortcutCategory[];\n  registerShortcut: (shortcut: KeyboardShortcut) => () => void;\n  unregisterShortcut: (id: string) => void;\n  updateShortcut: (id: string, updates: Partial<KeyboardShortcut>) => void;\n  toggleShortcut: (id: string, enabled?: boolean) => void;\n  showHelp: () => void;\n  hideHelp: () => void;\n  isHelpVisible: boolean;\n}\n\nconst KeyboardShortcutsContext = React.createContext<KeyboardShortcutsContextValue | null>(null);\n\n/**\n * Hook to use keyboard shortcuts\n */\nexport const useKeyboardShortcuts = (): KeyboardShortcutsContextValue => {\n  const context = React.useContext(KeyboardShortcutsContext);\n  if (!context) {\n    throw new Error('useKeyboardShortcuts must be used within a KeyboardShortcutsProvider');\n  }\n  return context;\n};\n\n/**\n * Default categories\n */\nconst DEFAULT_CATEGORIES: ShortcutCategory[] = [\n  { id: 'navigation', name: 'Navigation', priority: 1 },\n  { id: 'actions', name: 'Actions', priority: 2 },\n  { id: 'editing', name: 'Editing', priority: 3 },\n  { id: 'view', name: 'View', priority: 4 },\n  { id: 'accessibility', name: 'Accessibility', priority: 5 },\n];\n\n/**\n * Default global shortcuts\n */\nconst DEFAULT_SHORTCUTS: KeyboardShortcut[] = [\n  {\n    id: 'skip-to-main',\n    keys: ['Alt', '1'],\n    description: 'Skip to main content',\n    category: 'navigation',\n    handler: () => {\n      const main = document.querySelector('#main-content, main, [role=\"main\"]');\n      if (main) {\n        (main as HTMLElement).focus();\n        main.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n  },\n  {\n    id: 'skip-to-nav',\n    keys: ['Alt', '2'],\n    description: 'Skip to navigation',\n    category: 'navigation',\n    handler: () => {\n      const nav = document.querySelector('#main-navigation, nav, [role=\"navigation\"]');\n      if (nav) {\n        (nav as HTMLElement).focus();\n        nav.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n  },\n  {\n    id: 'toggle-help',\n    keys: ['Alt', '/'],\n    description: 'Show keyboard shortcuts help',\n    category: 'accessibility',\n    handler: () => {\n      // This will be handled by the provider\n    },\n  },\n  {\n    id: 'close-modal',\n    keys: ['Escape'],\n    description: 'Close modal or dialog',\n    category: 'navigation',\n    handler: () => {\n      const modal = document.querySelector('[role=\"dialog\"]:not([aria-hidden=\"true\"])');\n      if (modal) {\n        const closeButton = modal.querySelector('[data-close], [aria-label*=\"close\" i]');\n        if (closeButton) {\n          (closeButton as HTMLElement).click();\n        }\n      }\n    },\n  },\n];\n\n/**\n * Utility to detect platform\n */\nconst getPlatform = (): 'mac' | 'windows' | 'linux' => {\n  if (typeof window === 'undefined') return 'windows';\n  \n  const platform = window.navigator.platform.toLowerCase();\n  if (platform.includes('mac')) return 'mac';\n  if (platform.includes('linux')) return 'linux';\n  return 'windows';\n};\n\n/**\n * Utility to normalize key combination\n */\nconst normalizeKeys = (keys: string[]): string[] => {\n  const platform = getPlatform();\n  const keyMap: Record<string, string> = {\n    'Mod': platform === 'mac' ? 'Cmd' : 'Ctrl',\n    'Command': 'Cmd',\n    'Control': 'Ctrl',\n    'Option': 'Alt',\n    'Meta': platform === 'mac' ? 'Cmd' : 'Win',\n  };\n\n  return keys.map(key => keyMap[key] || key);\n};\n\n/**\n * Utility to format key combination for display\n */\nconst formatKeyCombo = (keys: string[]): string => {\n  const normalized = normalizeKeys(keys);\n  const platform = getPlatform();\n  \n  if (platform === 'mac') {\n    return normalized\n      .map(key => {\n        const symbols: Record<string, string> = {\n          'Cmd': '⌘',\n          'Ctrl': '⌃',\n          'Alt': '⌥',\n          'Shift': '⇧',\n          'Enter': '↵',\n          'Space': '␣',\n          'Tab': '⇥',\n          'Escape': '⎋',\n          'Backspace': '⌫',\n          'Delete': '⌦',\n          'ArrowUp': '↑',\n          'ArrowDown': '↓',\n          'ArrowLeft': '←',\n          'ArrowRight': '→',\n        };\n        return symbols[key] || key;\n      })\n      .join('');\n  }\n  \n  return normalized.join(' + ');\n};\n\n/**\n * Utility to check if key combination matches event\n */\nconst matchesKeyEvent = (keys: string[], event: KeyboardEvent): boolean => {\n  const normalized = normalizeKeys(keys);\n  const eventKeys: string[] = [];\n  \n  if (event.ctrlKey) eventKeys.push('Ctrl');\n  if (event.altKey) eventKeys.push('Alt');\n  if (event.shiftKey) eventKeys.push('Shift');\n  if (event.metaKey) eventKeys.push(getPlatform() === 'mac' ? 'Cmd' : 'Win');\n  \n  eventKeys.push(event.key);\n  \n  return eventKeys.length === normalized.length && \n         eventKeys.every(key => normalized.includes(key));\n};\n\n/**\n * Keyboard Shortcuts Provider Component\n */\nexport const KeyboardShortcutsProvider: React.FC<KeyboardShortcutsProviderProps> = ({\n  shortcuts: initialShortcuts = [],\n  categories: initialCategories = DEFAULT_CATEGORIES,\n  globalShortcuts = true,\n  showHelp: showHelpProp = true,\n  helpKey = ['Alt', '/'],\n  children,\n}) => {\n  const [shortcuts, setShortcuts] = React.useState<KeyboardShortcut[]>(() => [\n    ...(globalShortcuts ? DEFAULT_SHORTCUTS : []),\n    ...initialShortcuts,\n  ]);\n  const [categories] = React.useState<ShortcutCategory[]>(initialCategories);\n  const [isHelpVisible, setIsHelpVisible] = React.useState(false);\n\n  /**\n   * Register a new shortcut\n   */\n  const registerShortcut = React.useCallback((shortcut: KeyboardShortcut) => {\n    setShortcuts(prev => {\n      const existing = prev.find(s => s.id === shortcut.id);\n      if (existing) {\n        console.warn(`Shortcut with id \"${shortcut.id}\" already exists`);\n        return prev;\n      }\n      return [...prev, { ...shortcut, enabled: shortcut.enabled !== false }];\n    });\n\n    // Return unregister function\n    return () => unregisterShortcut(shortcut.id);\n  }, []);\n\n  /**\n   * Unregister a shortcut\n   */\n  const unregisterShortcut = React.useCallback((id: string) => {\n    setShortcuts(prev => prev.filter(s => s.id !== id));\n  }, []);\n\n  /**\n   * Update a shortcut\n   */\n  const updateShortcut = React.useCallback((id: string, updates: Partial<KeyboardShortcut>) => {\n    setShortcuts(prev => \n      prev.map(shortcut => \n        shortcut.id === id ? { ...shortcut, ...updates } : shortcut\n      )\n    );\n  }, []);\n\n  /**\n   * Toggle shortcut enabled state\n   */\n  const toggleShortcut = React.useCallback((id: string, enabled?: boolean) => {\n    setShortcuts(prev => \n      prev.map(shortcut => \n        shortcut.id === id \n          ? { ...shortcut, enabled: enabled !== undefined ? enabled : !shortcut.enabled }\n          : shortcut\n      )\n    );\n  }, []);\n\n  /**\n   * Show help overlay\n   */\n  const showHelp = React.useCallback(() => {\n    setIsHelpVisible(true);\n  }, []);\n\n  /**\n   * Hide help overlay\n   */\n  const hideHelp = React.useCallback(() => {\n    setIsHelpVisible(false);\n  }, []);\n\n  /**\n   * Handle keyboard events\n   */\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Check for help shortcut first\n      if (showHelpProp && matchesKeyEvent(helpKey, event)) {\n        event.preventDefault();\n        setIsHelpVisible(prev => !prev);\n        return;\n      }\n\n      // Skip if help is visible (let help handle its own shortcuts)\n      if (isHelpVisible) return;\n\n      // Find matching shortcut\n      const matchingShortcut = shortcuts.find(shortcut => \n        shortcut.enabled !== false && \n        matchesKeyEvent(shortcut.keys, event)\n      );\n\n      if (matchingShortcut) {\n        if (matchingShortcut.preventDefault !== false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        try {\n          matchingShortcut.handler(event);\n        } catch (error) {\n          console.error(`Error executing shortcut \"${matchingShortcut.id}\":`, error);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown, true);\n    return () => document.removeEventListener('keydown', handleKeyDown, true);\n  }, [shortcuts, isHelpVisible, showHelpProp, helpKey]);\n\n  const contextValue: KeyboardShortcutsContextValue = React.useMemo(() => ({\n    shortcuts,\n    categories,\n    registerShortcut,\n    unregisterShortcut,\n    updateShortcut,\n    toggleShortcut,\n    showHelp,\n    hideHelp,\n    isHelpVisible,\n  }), [\n    shortcuts,\n    categories,\n    registerShortcut,\n    unregisterShortcut,\n    updateShortcut,\n    toggleShortcut,\n    showHelp,\n    hideHelp,\n    isHelpVisible,\n  ]);\n\n  return (\n    <KeyboardShortcutsContext.Provider value={contextValue}>\n      {children}\n      {showHelpProp && (\n        <KeyboardShortcutsHelp\n          isVisible={isHelpVisible}\n          onClose={hideHelp}\n        />\n      )}\n    </KeyboardShortcutsContext.Provider>\n  );\n};\n\n/**\n * Keyboard Shortcuts Help Component\n */\nconst KeyboardShortcutsHelp: React.FC<{\n  isVisible: boolean;\n  onClose: () => void;\n}> = ({ isVisible, onClose }) => {\n  const { shortcuts, categories } = useKeyboardShortcuts();\n\n  // Group shortcuts by category\n  const groupedShortcuts = React.useMemo(() => {\n    const groups: Record<string, KeyboardShortcut[]> = {};\n    \n    shortcuts\n      .filter(shortcut => shortcut.enabled !== false)\n      .forEach(shortcut => {\n        const categoryId = shortcut.category || 'other';\n        if (!groups[categoryId]) {\n          groups[categoryId] = [];\n        }\n        groups[categoryId].push(shortcut);\n      });\n\n    return groups;\n  }, [shortcuts]);\n\n  // Sort categories by priority\n  const sortedCategories = React.useMemo(() => {\n    const categoriesWithShortcuts = categories.filter(cat => \n      groupedShortcuts[cat.id] && groupedShortcuts[cat.id].length > 0\n    );\n    \n    return categoriesWithShortcuts.sort((a, b) => (a.priority || 999) - (b.priority || 999));\n  }, [categories, groupedShortcuts]);\n\n  if (!isVisible) return null;\n\n  return (\n    <FocusTrap\n      active={isVisible}\n      config={{\n        autoFocus: true,\n        restoreFocus: true,\n        preventScroll: true,\n        initialFocus: '[data-close-help]',\n      }}\n      onEscapeAttempt={onClose}\n    >\n      <div\n        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\"\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"shortcuts-title\"\n        aria-describedby=\"shortcuts-description\"\n        onClick={(e) => e.target === e.currentTarget && onClose()}\n      >\n        <div className=\"bg-background rounded-lg shadow-xl border max-w-2xl w-full max-h-[90vh] overflow-hidden mx-4\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-6 border-b\">\n            <div>\n              <h2 id=\"shortcuts-title\" className=\"text-xl font-semibold\">\n                Keyboard Shortcuts\n              </h2>\n              <p id=\"shortcuts-description\" className=\"text-sm text-muted-foreground mt-1\">\n                Navigate faster with these keyboard shortcuts\n              </p>\n            </div>\n            <button\n              data-close-help\n              onClick={onClose}\n              className=\"p-2 rounded-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring\"\n              aria-label=\"Close shortcuts help\"\n            >\n              <span aria-hidden=\"true\" className=\"text-xl\">×</span>\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]\">\n            <div className=\"space-y-6\">\n              {sortedCategories.map(category => {\n                const categoryShortcuts = groupedShortcuts[category.id];\n                if (!categoryShortcuts?.length) return null;\n\n                return (\n                  <div key={category.id}>\n                    <h3 className=\"text-lg font-medium mb-3 text-foreground\">\n                      {category.name}\n                    </h3>\n                    {category.description && (\n                      <p className=\"text-sm text-muted-foreground mb-3\">\n                        {category.description}\n                      </p>\n                    )}\n                    <div className=\"space-y-2\">\n                      {categoryShortcuts.map(shortcut => (\n                        <div\n                          key={shortcut.id}\n                          className=\"flex items-center justify-between py-2 px-3 rounded-md hover:bg-muted/50\"\n                        >\n                          <span className=\"text-sm text-foreground\">\n                            {shortcut.description}\n                          </span>\n                          <div className=\"flex items-center gap-1\">\n                            {shortcut.keys.map((key, index) => (\n                              <React.Fragment key={index}>\n                                {index > 0 && (\n                                  <span className=\"text-xs text-muted-foreground mx-1\">\n                                    +\n                                  </span>\n                                )}\n                                <kbd className=\"px-2 py-1 text-xs bg-muted border border-border rounded\">\n                                  {formatKeyCombo([key])}\n                                </kbd>\n                              </React.Fragment>\n                            ))}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                );\n              })}\n\n              {/* Other shortcuts (uncategorized) */}\n              {groupedShortcuts.other && (\n                <div>\n                  <h3 className=\"text-lg font-medium mb-3\">Other</h3>\n                  <div className=\"space-y-2\">\n                    {groupedShortcuts.other.map(shortcut => (\n                      <div\n                        key={shortcut.id}\n                        className=\"flex items-center justify-between py-2 px-3 rounded-md hover:bg-muted/50\"\n                      >\n                        <span className=\"text-sm\">{shortcut.description}</span>\n                        <kbd className=\"px-2 py-1 text-xs bg-muted border border-border rounded\">\n                          {formatKeyCombo(shortcut.keys)}\n                        </kbd>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Footer */}\n          <div className=\"p-6 border-t bg-muted/50\">\n            <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n              <span>Press {formatKeyCombo(['Escape'])} to close</span>\n              <span>{shortcuts.filter(s => s.enabled !== false).length} shortcuts available</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </FocusTrap>\n  );\n};\n\n/**\n * Hook to register component-specific shortcuts\n */\nexport const useShortcut = (\n  keys: string[],\n  handler: (event: KeyboardEvent) => void,\n  options: {\n    description: string;\n    category?: string;\n    enabled?: boolean;\n    preventDefault?: boolean;\n    context?: string;\n  }\n) => {\n  const { registerShortcut } = useKeyboardShortcuts();\n  const shortcutId = React.useRef<string>();\n\n  React.useEffect(() => {\n    const id = `shortcut-${Math.random().toString(36).substr(2, 9)}`;\n    shortcutId.current = id;\n\n    const unregister = registerShortcut({\n      id,\n      keys,\n      handler,\n      ...options,\n    });\n\n    return unregister;\n  }, [keys.join(','), handler, options.description, options.category, options.enabled, options.preventDefault, options.context, registerShortcut]);\n};\n\n/**\n * Shortcut Display Component\n * \n * Shows a keyboard shortcut inline\n */\nexport const ShortcutDisplay: React.FC<{\n  keys: string[];\n  className?: string;\n}> = ({ keys, className }) => {\n  return (\n    <div className={cn('flex items-center gap-1', className)}>\n      {keys.map((key, index) => (\n        <React.Fragment key={index}>\n          {index > 0 && (\n            <span className=\"text-xs text-muted-foreground\">+</span>\n          )}\n          <kbd className=\"px-1.5 py-0.5 text-xs bg-muted border border-border rounded\">\n            {formatKeyCombo([key])}\n          </kbd>\n        </React.Fragment>\n      ))}\n    </div>\n  );\n};\n\n/**\n * Shortcuts Summary Component\n * \n * Shows a compact list of available shortcuts\n */\nexport const ShortcutsSummary: React.FC<{\n  categoryId?: string;\n  limit?: number;\n  className?: string;\n}> = ({ categoryId, limit, className }) => {\n  const { shortcuts } = useKeyboardShortcuts();\n\n  const relevantShortcuts = React.useMemo(() => {\n    let filtered = shortcuts.filter(s => s.enabled !== false);\n    \n    if (categoryId) {\n      filtered = filtered.filter(s => s.category === categoryId);\n    }\n    \n    if (limit) {\n      filtered = filtered.slice(0, limit);\n    }\n    \n    return filtered;\n  }, [shortcuts, categoryId, limit]);\n\n  if (relevantShortcuts.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={cn('space-y-1', className)}>\n      {relevantShortcuts.map(shortcut => (\n        <div key={shortcut.id} className=\"flex items-center justify-between text-sm\">\n          <span className=\"text-muted-foreground\">{shortcut.description}</span>\n          <ShortcutDisplay keys={shortcut.keys} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Export default as KeyboardShortcutsProvider\nexport default KeyboardShortcutsProvider;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3120, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/Other/restaurant%20Dashboard%20Frontend%20Development%20Plan/restaurant-dashboard/components/accessibility/skip-link.tsx"],"sourcesContent":["/**\n * Skip Link Component\n * \n * Provides keyboard navigation skip links for WCAG 2.1 AA compliance.\n * Skip links allow keyboard users to quickly navigate to main content areas.\n */\n\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/utils';\n\n/**\n * Skip link configuration\n */\nexport interface SkipLinkConfig {\n  href: string;\n  text: string;\n  title?: string;\n}\n\n/**\n * Skip links component props\n */\nexport interface SkipLinksProps {\n  links?: SkipLinkConfig[];\n  className?: string;\n  children?: React.ReactNode;\n}\n\n/**\n * Individual skip link props\n */\nexport interface SkipLinkProps {\n  href: string;\n  title?: string;\n  className?: string;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement>) => void;\n  children: React.ReactNode;\n}\n\n/**\n * Default skip links configuration\n */\nconst DEFAULT_SKIP_LINKS: SkipLinkConfig[] = [\n  {\n    href: '#main-content',\n    text: 'Skip to main content',\n    title: 'Skip directly to the main content of the page',\n  },\n  {\n    href: '#main-navigation',\n    text: 'Skip to navigation',\n    title: 'Skip to the main navigation menu',\n  },\n  {\n    href: '#page-footer',\n    text: 'Skip to footer',\n    title: 'Skip to the page footer',\n  },\n];\n\n/**\n * Individual Skip Link Component\n */\nexport const SkipLink: React.FC<SkipLinkProps> = ({\n  href,\n  title,\n  className,\n  onClick,\n  children,\n}) => {\n  const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    // Call custom click handler if provided\n    if (onClick) {\n      onClick(event);\n    }\n\n    // Ensure target element is focusable\n    const target = document.querySelector(href);\n    if (target && target instanceof HTMLElement) {\n      // Add tabindex if element is not naturally focusable\n      if (!target.hasAttribute('tabindex') && \n          !['A', 'BUTTON', 'INPUT', 'SELECT', 'TEXTAREA'].includes(target.tagName)) {\n        target.setAttribute('tabindex', '-1');\n      }\n\n      // Focus the target element\n      setTimeout(() => {\n        target.focus();\n        \n        // Scroll target into view smoothly\n        target.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n          inline: 'nearest',\n        });\n      }, 100);\n    }\n  };\n\n  return (\n    <a\n      href={href}\n      title={title}\n      onClick={handleClick}\n      suppressHydrationWarning\n      contentEditable={false}\n      style={{ cursor: 'pointer' }}\n      className={cn(\n        // Base styles - hidden by default\n        'absolute left-4 top-4 z-50',\n        'px-4 py-2',\n        'bg-primary text-primary-foreground',\n        'border border-primary-foreground/20',\n        'rounded-md shadow-lg',\n        'font-medium text-sm',\n        'transition-all duration-200',\n        'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring',\n        \n        // Screen reader only by default\n        'sr-only',\n        \n        // Show on focus\n        'focus:not-sr-only focus:fixed focus:left-4 focus:top-4',\n        \n        // Hover effects when visible\n        'hover:bg-primary/90 hover:text-primary-foreground',\n        'hover:shadow-xl hover:scale-105',\n        \n        // High contrast mode support\n        'contrast-more:border-2 contrast-more:border-current',\n        \n        className\n      )}\n    >\n      {children}\n    </a>\n  );\n};\n\n/**\n * Skip Links Container Component\n * \n * Renders multiple skip links for common page landmarks\n */\nexport const SkipLinks: React.FC<SkipLinksProps> = ({\n  links = DEFAULT_SKIP_LINKS,\n  className,\n  children,\n}) => {\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"Skip links\"\n      className={cn('skip-links-container', className)}\n      suppressHydrationWarning\n    >\n      {/* Default skip links */}\n      {links.map((link, index) => (\n        <SkipLink\n          key={link.href}\n          href={link.href}\n          title={link.title}\n        >\n          {link.text}\n        </SkipLink>\n      ))}\n      \n      {/* Custom skip links */}\n      {children}\n    </nav>\n  );\n};\n\n/**\n * Skip to Main Content Component\n * \n * Simple component for the most common skip link\n */\nexport const SkipToMain: React.FC<{\n  href?: string;\n  text?: string;\n  className?: string;\n}> = ({\n  href = '#main-content',\n  text = 'Skip to main content',\n  className,\n}) => {\n  return (\n    <SkipLink\n      href={href}\n      title=\"Skip directly to the main content of the page\"\n      className={className}\n    >\n      {text}\n    </SkipLink>\n  );\n};\n\n/**\n * Skip Navigation Component\n * \n * Provides skip links for complex navigation scenarios\n */\nexport const SkipNavigation: React.FC<{\n  sections: Array<{\n    id: string;\n    label: string;\n    title?: string;\n  }>;\n  className?: string;\n}> = ({ sections, className }) => {\n  if (sections.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"Skip navigation\"\n      className={cn('skip-navigation', className)}\n    >\n      {sections.map((section) => (\n        <SkipLink\n          key={section.id}\n          href={`#${section.id}`}\n          title={section.title || `Skip to ${section.label}`}\n        >\n          Skip to {section.label}\n        </SkipLink>\n      ))}\n    </nav>\n  );\n};\n\n/**\n * Table of Contents Skip Links\n * \n * Automatically generates skip links for headings in content\n */\nexport const TableOfContentsSkipLinks: React.FC<{\n  containerId?: string;\n  headingLevels?: string[];\n  maxItems?: number;\n  className?: string;\n}> = ({\n  containerId = 'main-content',\n  headingLevels = ['h2', 'h3'],\n  maxItems = 5,\n  className,\n}) => {\n  const [headings, setHeadings] = React.useState<Array<{\n    id: string;\n    text: string;\n    level: number;\n  }>>([]);\n\n  React.useEffect(() => {\n    const container = containerId ? document.getElementById(containerId) : document;\n    if (!container) return;\n\n    const selector = headingLevels.join(', ');\n    const headingElements = container.querySelectorAll(selector);\n    \n    const headingData = Array.from(headingElements)\n      .slice(0, maxItems)\n      .map((heading) => {\n        const element = heading as HTMLHeadingElement;\n        let id = element.id;\n        \n        // Generate ID if not present\n        if (!id) {\n          const text = element.textContent || '';\n          id = text\n            .toLowerCase()\n            .replace(/[^a-z0-9]+/g, '-')\n            .replace(/^-|-$/g, '');\n          \n          // Ensure uniqueness\n          let counter = 1;\n          let uniqueId = id;\n          while (document.getElementById(uniqueId)) {\n            uniqueId = `${id}-${counter}`;\n            counter++;\n          }\n          \n          element.id = uniqueId;\n          id = uniqueId;\n        }\n        \n        return {\n          id,\n          text: element.textContent || '',\n          level: parseInt(element.tagName.charAt(1), 10),\n        };\n      });\n\n    setHeadings(headingData);\n  }, [containerId, headingLevels, maxItems]);\n\n  if (headings.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"Table of contents skip links\"\n      className={cn('toc-skip-links', className)}\n    >\n      {headings.map((heading) => (\n        <SkipLink\n          key={heading.id}\n          href={`#${heading.id}`}\n          title={`Skip to section: ${heading.text}`}\n          className={cn(\n            // Indent based on heading level\n            heading.level === 3 && 'ml-4',\n            heading.level === 4 && 'ml-8',\n            heading.level === 5 && 'ml-12',\n            heading.level === 6 && 'ml-16'\n          )}\n        >\n          {heading.text}\n        </SkipLink>\n      ))}\n    </nav>\n  );\n};\n\n/**\n * Data Table Skip Links\n * \n * Provides skip links for large data tables\n */\nexport const DataTableSkipLinks: React.FC<{\n  tableId: string;\n  sections?: Array<{\n    selector: string;\n    label: string;\n  }>;\n  className?: string;\n}> = ({\n  tableId,\n  sections = [\n    { selector: 'thead', label: 'table headers' },\n    { selector: 'tbody', label: 'table data' },\n    { selector: 'tfoot', label: 'table footer' },\n  ],\n  className,\n}) => {\n  const [availableSections, setAvailableSections] = React.useState<Array<{\n    id: string;\n    label: string;\n  }>>([]);\n\n  React.useEffect(() => {\n    const table = document.getElementById(tableId);\n    if (!table) return;\n\n    const found: Array<{ id: string; label: string }> = [];\n\n    sections.forEach((section) => {\n      const element = table.querySelector(section.selector);\n      if (element) {\n        let id = element.id;\n        if (!id) {\n          id = `${tableId}-${section.selector}`;\n          element.id = id;\n        }\n        found.push({ id, label: section.label });\n      }\n    });\n\n    setAvailableSections(found);\n  }, [tableId, sections]);\n\n  if (availableSections.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"Table navigation skip links\"\n      className={cn('table-skip-links', className)}\n    >\n      {availableSections.map((section) => (\n        <SkipLink\n          key={section.id}\n          href={`#${section.id}`}\n          title={`Skip to ${section.label}`}\n        >\n          Skip to {section.label}\n        </SkipLink>\n      ))}\n    </nav>\n  );\n};\n\n/**\n * Form Skip Links\n * \n * Provides skip links for complex forms\n */\nexport const FormSkipLinks: React.FC<{\n  formId: string;\n  sections?: Array<{\n    selector: string;\n    label: string;\n  }>;\n  className?: string;\n}> = ({\n  formId,\n  sections = [\n    { selector: 'fieldset', label: 'form sections' },\n    { selector: '.form-actions, .form-buttons', label: 'form actions' },\n  ],\n  className,\n}) => {\n  const [formSections, setFormSections] = React.useState<Array<{\n    id: string;\n    label: string;\n  }>>([]);\n\n  React.useEffect(() => {\n    const form = document.getElementById(formId);\n    if (!form) return;\n\n    const found: Array<{ id: string; label: string }> = [];\n\n    sections.forEach((section) => {\n      const elements = form.querySelectorAll(section.selector);\n      elements.forEach((element, index) => {\n        let id = element.id;\n        if (!id) {\n          id = `${formId}-${section.selector.replace(/[^a-z0-9]/gi, '-')}-${index}`;\n          element.id = id;\n        }\n        \n        // Get section title from legend or heading\n        const legend = element.querySelector('legend');\n        const heading = element.querySelector('h2, h3, h4, h5, h6');\n        const title = legend?.textContent || heading?.textContent || `${section.label} ${index + 1}`;\n        \n        found.push({ id, label: title });\n      });\n    });\n\n    setFormSections(found);\n  }, [formId, sections]);\n\n  if (formSections.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"Form section skip links\"\n      className={cn('form-skip-links', className)}\n    >\n      {formSections.map((section) => (\n        <SkipLink\n          key={section.id}\n          href={`#${section.id}`}\n          title={`Skip to ${section.label}`}\n        >\n          {section.label}\n        </SkipLink>\n      ))}\n    </nav>\n  );\n};\n\n/**\n * Hook for managing skip link visibility and behavior\n */\nexport const useSkipLinks = () => {\n  const [isSkipLinkActive, setIsSkipLinkActive] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleFocus = (event: FocusEvent) => {\n      const target = event.target as HTMLElement;\n      if (target && target.closest('.skip-links-container')) {\n        setIsSkipLinkActive(true);\n      } else {\n        setIsSkipLinkActive(false);\n      }\n    };\n\n    document.addEventListener('focusin', handleFocus);\n    return () => document.removeEventListener('focusin', handleFocus);\n  }, []);\n\n  const announceSkipLinkUsage = (targetId: string) => {\n    const target = document.querySelector(targetId);\n    if (target) {\n      const targetName = target.getAttribute('aria-label') || \n                        target.textContent?.slice(0, 50) || \n                        'content area';\n      \n      // Create announcement\n      const announcement = `Skipped to ${targetName}`;\n      \n      // Use live region for announcement\n      const announcer = document.querySelector('[role=\"status\"]') || \n                       document.querySelector('[aria-live=\"polite\"]');\n      \n      if (announcer) {\n        announcer.textContent = announcement;\n        setTimeout(() => {\n          announcer.textContent = '';\n        }, 1000);\n      }\n    }\n  };\n\n  return {\n    isSkipLinkActive,\n    announceSkipLinkUsage,\n  };\n};\n\n// Export default as SkipLinks for convenience\nexport default SkipLinks;"],"names":[],"mappings":"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","debugId":null}}]
}